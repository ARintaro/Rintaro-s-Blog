{"meta":{"title":"Rintaro's Blog","subtitle":"Algorithm and Anime","description":"æŸå¼±çœä¸€å¼±æ ¡é«˜ä¸€OIer","author":"Rintaro","url":"http://arintaro.com","root":"/"},"pages":[{"title":"","date":"2019-10-31T02:20:18.129Z","updated":"2019-04-27T07:31:21.041Z","comments":false,"path":"categories/index.html","permalink":"http://arintaro.com/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"USACO12FEB é™„è¿‘çš„ç‰› Nearby Cows","slug":"Answer/color","date":"2019-10-31T02:03:25.740Z","updated":"2019-10-31T02:19:54.936Z","comments":true,"path":"2019/10/31/Answer/color/","link":"","permalink":"http://arintaro.com/2019/10/31/Answer/color/","excerpt":"å¼ºè¡Œä¸ç‰›æœ‰å…³","text":"å¼ºè¡Œä¸ç‰›æœ‰å…³ Description:@card{ æœ‰ä¸€æ£µç‚¹æ•°ä¸º$n$çš„æ ‘ï¼Œæ ‘è¾¹æœ‰è¾¹æƒï¼Œä½ è¦åœ¨è¿™æ£µæ ‘ä¸­é€‰æ‹©$k$ä¸ªç‚¹ï¼Œå°†å…¶æŸ“æˆé»‘è‰²ï¼Œå¹¶å°†å…¶ä»–çš„$n-k$ä¸ªç‚¹æŸ“æˆç™½è‰²ã€‚å°†æ‰€æœ‰ç‚¹æŸ“è‰²åï¼Œä½ ä¼šè·å¾—é»‘ç‚¹ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»åŠ ä¸Šç™½ç‚¹ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»çš„å’Œçš„æ”¶ç›Šï¼Œé—®æ”¶ç›Šæœ€å¤§å€¼ã€‚ $1&lt;=n&lt;=2000$ï¼Œ$0&lt;=k&lt;=n$ } Solution:@card{ å…ˆè¿…é€Ÿåœ°æ‰“å‡ºæš´åŠ›ï¼Œæšä¸¾é€‰å“ªäº›ï¼Œç„¶åæ¯ä¸ªèŠ‚ç‚¹ä½œæ ¹æš´åŠ›è®¡ç®—ç­”æ¡ˆï¼Œæ‰‹ç©äº†ä¸€ä¸‹æ²¡å‘ç°æœ‰ä»€ä¹ˆè´ªå¿ƒæ€§è´¨ã€‚ ç”±äºæ˜¯æ ‘ä¸Šçš„è·¯å¾„ä¹‹å’Œï¼Œè€ƒè™‘ç±»ä¼¼æ ‘ä¸Šå·®åˆ†çš„æƒ³æ³•ï¼Œå³æœ‰å¾ˆå¤šä¸ªç‚¹å¯¹ï¼Œæ¯æ¬¡éƒ½ä¼šæŠŠå®ƒä»¬ä¹‹é—´çš„è·¯å¾„è¦†ç›–ä¸€æ¬¡ï¼Œæ±‚æ¯ä¸ªè¾¹çš„è¾¹æƒä¹˜ä»¥è¦†ç›–æ¬¡æ•°çš„å’Œï¼Œå¯¹æ¯æ¡è¾¹è®¡ç®—è¦†ç›–æ¬¡æ•°å³å¯ã€‚ æ­¤é¢˜ä¸­çš„è¦†ç›–ä¸€æ¡è¾¹çš„è¦†ç›–æ¬¡æ•°æ˜¾ç„¶æ˜¯å­æ ‘ä¸­çš„æŸè‰²ç‚¹æ•°é‡ä¹˜å­æ ‘å¤–çš„æŸè‰²ç‚¹æ•°é‡ï¼Œç”±äºè‰²ç‚¹æ•°é‡ç»™å®šï¼Œä¸€æ—¦æˆ‘ä»¬çŸ¥é“äº†ä¸€ç«¯çš„æ•°é‡ï¼Œå°±èƒ½é€šè¿‡æ•´ä½“å‡å»å±€éƒ¨çš„æ–¹æ³•è®¡ç®—å‡ºå¦å¤–ä¸€ç«¯ã€‚ æ‰€ä»¥å¯ä»¥å…ˆç¡®å®šè‡ªä¸‹è€Œä¸Šçš„è®¡ç®—é¡ºåºï¼ŒçŠ¶æ€å®šä¹‰ä¸ºæŸä¸ªå­æ ‘ä¸­é€‰$k$ä¸ªé»‘ç‚¹æ‰€æœ‰è¾¹äº§ç”Ÿçš„æœ€å¤§è´¡çŒ®ï¼Œç±»ä¼¼è´¹ç”¨æå‰è®¡ç®—ï¼Œä¹‹åç›´æ¥è·‘æ ‘ä¸ŠèƒŒåŒ…å³å¯ï¼Œæ³¨æ„åº”ç”¨ä¸Šä¸‹ç•Œå‰ªæä¼˜åŒ–åˆ°$O(n^2)$ } Code:@card{ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;iostream&gt;#include &lt;cstdio&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 2000 + 10;const int maxm = 2 * maxn;int n, m, root = 1;int head[maxn], ev[maxm], ew[maxm], nxt[maxm], totedge = 1;inline void addedge(int nu, int nv, int nw) &#123; ev[++totedge] = nv, ew[totedge] = nw; nxt[totedge] = head[nu], head[nu] = totedge;&#125;// ç»Ÿè®¡è·¯å¾„è´¡çŒ® -&gt; æ ‘ä¸Šå·®åˆ†ï¼Œè€ƒè™‘ä¸€æ¡è¾¹çš„è´¡çŒ® (è´¹ç”¨æå‰è®¡ç®—)// æ•´ä½“å‡å±€éƒ¨ä¸ºå¦å¤–ï¼Œæ­£éš¾åˆ™å// ä»¥xä¸ºæ ¹çš„å­æ ‘ï¼Œkä¸ªé»‘ç‚¹ï¼Œæ‰€æœ‰è¾¹çš„æœ€å¤§è´¡çŒ®// lint dp[maxn][maxn];int size[maxn];void dfs(int x, int fa) &#123; size[x] = 1; for(rint i=head[x], y=ev[i]; i; i=nxt[i], y=ev[i]) &#123; if(y == fa) continue; dfs(y, x); for(rint j=min(m, size[x] + size[y]); j&gt;=0; j--) &#123; for(rint k=max(0, j-size[x]); k&lt;=j &amp;&amp; k&lt;=size[y]; k++) &#123; dp[x][j] = max(dp[x][j], dp[x][j-k] + dp[y][k] + (lint)k * (m - k) * ew[i] + ((lint)size[y] - k) * (n - size[y] - (m - k)) * (lint)ew[i]); &#125; &#125; size[x] += size[y]; &#125;&#125;int main() &#123; readint(n), readint(m); int nu, nv, nw; for(rint i=2; i&lt;=n; i++) &#123; readint(nu), readint(nv), readint(nw); addedge(nu, nv, nw), addedge(nv, nu, nw); &#125; dfs(root, 0); printf(\"%lld\\n\", dp[root][m]); return 0;&#125; }","categories":[{"name":"USACO","slug":"USACO","permalink":"http://arintaro.com/categories/USACO/"},{"name":"é¢˜è§£","slug":"USACO/é¢˜è§£","permalink":"http://arintaro.com/categories/USACO/é¢˜è§£/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://arintaro.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ ‘ä¸Šé—®é¢˜","slug":"æ ‘ä¸Šé—®é¢˜","permalink":"http://arintaro.com/tags/æ ‘ä¸Šé—®é¢˜/"},{"name":"æ¢æ ¹æ³•","slug":"æ¢æ ¹æ³•","permalink":"http://arintaro.com/tags/æ¢æ ¹æ³•/"}]},{"title":"USACO12FEB é™„è¿‘çš„ç‰› Nearby Cows","slug":"Answer/cow1","date":"2019-10-31T00:26:43.109Z","updated":"2019-10-31T01:22:21.943Z","comments":true,"path":"2019/10/31/Answer/cow1/","link":"","permalink":"http://arintaro.com/2019/10/31/Answer/cow1/","excerpt":"å¼ºè¡Œä¸ç‰›æœ‰å…³","text":"å¼ºè¡Œä¸ç‰›æœ‰å…³ Description:@card{ æ ‘ä¸Šæ¯ä¸ªç‚¹æœ‰ä¸€ä¸ªç‚¹æƒï¼Œæ±‚æ¯ä¸ªç‚¹è·ç¦»ä¸è¶…è¿‡$k$çš„ç‚¹æƒã€‚å…¶ä¸­$1&lt;=k&lt;=20$, $1&lt;=n&lt;=10^5$ } Solution:@card{ æ³¨æ„è¦æ±‚å…¨éƒ¨ç‚¹çš„ç­”æ¡ˆï¼Œå¹¶ä¸”$k$è¾ƒå°ï¼Œæ‰€ä»¥å¾ˆå¯èƒ½æ˜¯ä¸ªæ¢æ ¹DPã€‚ åˆæ³¨æ„åˆ°å¯¹äºä»»æ„ä¸€ç§è½¬ç§»é¡ºåºï¼ŒæŸä¸ªç‚¹$x$çš„$dp[x][k]$ï¼Œä¸å¯èƒ½è½¬ç§»åˆ°$y$çš„$dp[x][k+1]$ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åœ¨çŠ¶æ€å†…è®°å½•å½“å‰ç‚¹èŒƒå›´ä¸º$k$çš„ç­”æ¡ˆã€‚è§„å®šè®¡ç®—é¡ºåºè‡ªä¸‹è€Œä¸Šï¼Œå…ˆç¡®å®šä¸€ä¸ªæ ¹ï¼Œè®¡ç®—å­æ ‘å†…çš„ä¿¡æ¯ï¼Œä¹‹åå†è‡ªä¸Šè€Œä¸‹çš„æ ¹æ®çˆ¶èŠ‚ç‚¹çš„ç­”æ¡ˆç®—è¿™ä¸ªèŠ‚ç‚¹çš„ç­”æ¡ˆå³å¯ã€‚ } Code:@card{ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;iostream&gt;#include &lt;cstdio&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1e5 + 10;const int maxk = 20 + 2;const int maxm = 2 * maxn;int head[maxn], ev[maxm], nxt[maxm], totedge = 1;inline void addedge(int nu, int nv) &#123; ev[++totedge] = nv, nxt[totedge] = head[nu], head[nu] = totedge;&#125;int ans = 0;int n, m, root = 1;int sum[maxn][maxk], res[maxn][maxk];// ä»xå‡ºå‘ä¸è¶…è¿‡kvoid dfs1(int x, int fa) &#123; for(rint i=head[x], y=ev[i]; i; i=nxt[i], y=ev[i]) &#123; if(y == fa) continue; dfs1(y, x); for(rint k=1; k&lt;=m; k++) sum[x][k] += sum[y][k-1]; &#125;&#125;// void dfs2(int x, int fa) &#123; for(rint i=head[x], y=ev[i]; i; i=nxt[i], y=ev[i]) &#123; if(y == fa) continue; res[y][0] = sum[y][0]; res[y][1] = sum[y][1] + sum[x][0]; for(rint k=2; k&lt;=m; k++) &#123; res[y][k] = res[x][k-1] - sum[y][k-2] + sum[y][k]; &#125; dfs2(y, x); &#125;&#125;int main() &#123; readint(n), readint(m); int x, y; for(rint i=1; i&lt;n; i++) &#123; readint(x), readint(y); addedge(x, y), addedge(y, x); &#125; for(rint i=1; i&lt;=n; i++) &#123; readint(sum[i][0]); for(rint k=1; k&lt;=m; k++) sum[i][k] = sum[i][0]; &#125; dfs1(root, 0); for(rint k=0; k&lt;=m; k++) res[root][k] = sum[root][k]; dfs2(root, 0); for(rint i=1; i&lt;=n; i++) printf(\"%d\\n\", res[i][m]); return 0;&#125; }","categories":[{"name":"USACO","slug":"USACO","permalink":"http://arintaro.com/categories/USACO/"},{"name":"é¢˜è§£","slug":"USACO/é¢˜è§£","permalink":"http://arintaro.com/categories/USACO/é¢˜è§£/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://arintaro.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ ‘ä¸Šé—®é¢˜","slug":"æ ‘ä¸Šé—®é¢˜","permalink":"http://arintaro.com/tags/æ ‘ä¸Šé—®é¢˜/"},{"name":"æ¢æ ¹æ³•","slug":"æ¢æ ¹æ³•","permalink":"http://arintaro.com/tags/æ¢æ ¹æ³•/"}]},{"title":"HNOI2003 æ¶ˆé˜²å±€çš„è®¾ç«‹","slug":"Answer/fire","date":"2019-10-30T08:24:46.725Z","updated":"2019-10-30T09:44:29.080Z","comments":true,"path":"2019/10/30/Answer/fire/","link":"","permalink":"http://arintaro.com/2019/10/30/Answer/fire/","excerpt":"å°‘æ•°å‡ é“è´ªå¿ƒæ‰©å±•æ€§è¶…è¿‡DPçš„é¢˜ç›®","text":"å°‘æ•°å‡ é“è´ªå¿ƒæ‰©å±•æ€§è¶…è¿‡DPçš„é¢˜ç›® Description:@card{ ä»æ ‘ä¸Šé€‰å‡ºæœ€å°‘çš„ç‚¹ï¼Œæ¯ä¸ªç‚¹å¯ä»¥è¦†ç›–ä¸å®ƒè·ç¦»ä¸è¶…è¿‡2çš„ç‚¹ï¼Œæ±‚æœ€å°‘éœ€è¦é€‰å‡ºå¤šå°‘ç‚¹ã€‚ } Solution:@card{ è´ªå¿ƒåšæ³•æ‰©å±•æ€§å¼ºï¼Œä¸”å®¹æ˜“ç†è§£ï¼Œä½†æ˜¯è¿™é‡Œä¸è®²ã€‚æœ¬é—®é¢˜æœ‰å¾ˆå¤šå‰ç½®å½¢æ€ï¼Œæ¯”å¦‚â€æ¯æ¡è¾¹è¿æ¥çš„ä¸¤ç‚¹å¿…é¡»ä»»é€‰ä¸€ä¸ªâ€, åªéœ€è¦è®°å½•æ¯ä¸ªç‚¹é€‰ä¸é€‰å°±è¡Œäº†ï¼Œä½†æ˜¯æ­¤é¢˜å½±å“çš„è·ç¦»æ˜¯2ï¼Œè¿™å¯å‘æˆ‘ä»¬éœ€è¦åœ¨DPçŠ¶æ€ä¸Šè®°å½•æ›´å¤šçš„ä¿¡æ¯ä¾¿äºè½¬ç§»ã€‚ æ ‘ä¸Šé—®é¢˜ä¸€èˆ¬è¦å…ˆç¡®å®šè®¡ç®—é¡ºåºæ˜¯è‡ªä¸Šè€Œä¸‹è¿˜æ˜¯è‡ªä¸‹è€Œä¸Šï¼Œè¿™é‡Œé€‰æ‹©è‡ªä¸Šè€Œä¸‹æ˜¾ç„¶ä¸å®¹æ˜“è®¾è®¡å‡ºçŠ¶æ€ï¼Œæ‰€ä»¥é€‰æ‹©æ¯æ¬¡ä»å­æ ‘å‘ä¸Šè½¬ç§»çš„è‡ªä¸‹è€Œä¸Šã€‚ ç¡®å®šè®¡ç®—é¡ºåºåï¼Œå®¹æ˜“æƒ³åˆ°çŠ¶æ€æ˜¯â€æŸèŒƒå›´ä¸­çš„ç‚¹éƒ½è¢«ç®¡è¾–æ‰€éœ€è¦çš„æœ€å°‘ç‚¹æ•°â€ï¼ŒæŒ‰å¸¸è§„è€ƒè™‘æ˜¯ä¸€ä¸ªç‚¹å­æ ‘ä¸­çš„ç‚¹éƒ½è¢«ç®¡è¾–ï¼Œä½†æ˜¯æ‰‹ç©å‡ ç»„æ•°æ®å‘ç°ï¼Œè¿™æ ·è®¾è®¡çŠ¶æ€ï¼Œä¸€ä¸ªç‚¹æ˜¯å¯ä»¥ä»å®ƒçš„å­™å­ç”šè‡³æ›¾å­™è½¬ç§»æ¥çš„ï¼Œè¿™æ ·è®¾è®¡çŠ¶æ€éš¾ä»¥è½¬ç§»ï¼Œå¦‚æœæš´åŠ›è¿½æº¯è½¬ç§»ï¼Œæ—¶é—´ä¸Šæ˜¾ç„¶ä¼šçˆ†ç‚¸ã€‚ä¸å®¹æ˜“ä¼˜åŒ–è½¬ç§»ï¼Œè€ƒè™‘é‡æ–°è®¾è®¡çŠ¶æ€ï¼Œåˆæƒ³åˆ°é™„åŠ å„¿å­æˆ–å­™å­é€‰ä¸é€‰çš„å°èŒƒå›´çŠ¶å‹ç»´åº¦ï¼Œè¿›ä¸€æ­¥è€ƒè™‘ï¼Œæˆ‘ä»¬äº‹å®ä¸Šä¸å…³å¿ƒå­æ ‘ä¸­é€‰äº†ä»€ä¹ˆç‚¹ï¼Œè€Œæ˜¯æƒ³é€šè¿‡çŸ¥é“è¿™äº›ç‚¹é€‰æ²¡é€‰è€Œå¾—çŸ¥å®ƒå‘ä¸Šè¦†ç›–çš„èŒƒå›´ï¼Œæ‰€ä»¥æˆ‘ä»¬è§„å®šçŠ¶æ€ä¸ºâ€æŸä¸ªç‚¹å‘ä¸Š/å‘ä¸‹è¦†ç›–äº†å¤šå°‘å±‚é€‰çš„æœ€å°‘ç‚¹æ•°â€, è€ƒè™‘ä¸€ä¸ªèŠ‚ç‚¹$x$ï¼Œå®ƒå‘ä¸‹ä¸¤å±‚çš„èŠ‚ç‚¹å¿…é¡»åœ¨å®ƒè¿™é‡Œè¢«è¦†ç›–ï¼Œå¦åˆ™æŒ‰ç…§æˆ‘ä»¬çš„è®¡ç®—é¡ºåºï¼Œå®ƒä»¥åéƒ½æ²¡æœºä¼šè¢«è¦†ç›–äº†ï¼Œæ‰€ä»¥çŠ¶æ€ä¸­è®°å½•çš„å‘ä¸Šå‘ä¸‹çš„æœ€å¤§å±‚æ•°ä¸º2ã€‚ æ¥ç€è€ƒè™‘å¦‚ä½•è½¬ç§»ï¼Œ$dp[x][0]$ä¸ºå®ƒçš„å­™å­è¢«å®Œå…¨è¦†ç›–, 1ä¸ºå„¿å­éƒ½è¢«è¦†ç›–, 2ä¸ºè‡ªå·±è¢«è¦†ç›–, 3ä¸ºçˆ¶äº²è¢«è¦†ç›–, 4ä¸ºç¥–çˆ¶ä¸ºè¦†ç›–ã€‚ ä¸‹è®¾$y$ä¸º$x$çš„å„¿å­ï¼Œæ˜¾ç„¶æœ‰$$dp[x][0] = \\sum{dp[y][1]}$$ä¸$$dp[x][1] = \\sum{dp[y][2]}$$ å…ˆæš‚ç¼“ä¸€ä¸‹ï¼Œè¿™æ ·è½¬ç§»å¯èƒ½ä¼šé—æ¼æŸäº›æƒ…å†µï¼Œè¿™æ ·è½¬ç§»çŠ¶æ€çš„ä¸¥è°¨å®šä¹‰å°±å˜æˆâ€åˆšå¥½è¦†ç›–åˆ°æŸå±‚çš„æœ€å°‘ç‚¹æ•°â€ï¼Œä½†æ˜¯ä¼šä¸ä¼šæœ‰æ—¶å¾€ä¸Šå¤šè¦†ç›–äº†åè€Œç”¨äº†æ›´å°‘çš„ç‚¹ï¼Ÿè€ƒè™‘ä¸€ä¸ªè¾¹ç•Œæƒ…å†µï¼ŒæŒ‰ç…§æ­¤å®šä¹‰ï¼Œå¯¹äºä¸€ä¸ªå¶å­èŠ‚ç‚¹$x$ï¼Œ$dp[x][2]$æ˜¾ç„¶æ— æ³•æˆç«‹ï¼Œéœ€è¦è®¾æˆinfï¼Œè¿™æ˜¾ç„¶ä¼šå½±å“åç»­çš„è½¬ç§»ï¼Œæ‰€ä»¥ä¸å¦¨ç›´æ¥å°†çŠ¶æ€å®šä¹‰ä¸ºâ€è‡³å°‘è¦†ç›–åˆ°è¿™å±‚â€çš„æœ€å°ç‚¹æ•°ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºå¯¹çŠ¶æ€æ±‚åç¼€minã€‚æŒ‰æ­¤å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŒ‰ç…§ä¸Šè¿°çš„é€’æ¨å¼è®¡ç®—ï¼Œå½“$x$çš„æ‰€æœ‰çŠ¶æ€è®¡ç®—å®Œæ¯•åï¼Œå†æ‰«ä¸€éå–åç¼€minã€‚ å½“è¦†ç›–åˆ°$x$ä¸‹é¢æ—¶ï¼Œå­æ ‘æ˜¯åˆ†å‰çš„ï¼Œæ‰€æœ‰ç‚¹éƒ½éœ€è¦è¢«è¦†ç›–ï¼Œå› æ­¤éœ€è¦æ±‚å’Œã€‚ä½†å½“è¦†ç›–åˆ°$x$æ—¶æˆ–ä»¥ä¸Šï¼Œå˜æˆäº†åªæœ‰ä¸€æ”¯ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è¦†ç›–ä¸€æ¬¡ï¼Œå…¶ä½™å­æ ‘é€‰æœ€å°èƒ½è¦†ç›–çš„å³å¯ã€‚æ‰€ä»¥æœ‰ï¼š$$dp[x][2] = \\min(dp[y][3] + \\sum_{s \\not = y}{dp[s][2]})$$ä¸ºäº†ç¨‹åºå®ç°æ–¹ä¾¿ï¼Œä¸Šè¿°æ–¹ç¨‹å¯ä»¥æ”¹å†™ä¸º$$dp[x][2] = dp[x][1] + \\min(dp[y][3] - dp[y][2])$$å½“èƒ½è¦†ç›–$x$ä¸Šä¸€å±‚æ—¶ï¼Œéœ€è¦æŸä¸ªå­èŠ‚ç‚¹å‘ä¸Šè¦†ç›–ä¸¤å±‚ï¼Œéœ€è¦æ³¨æ„è¿™ä¸ªè¦†ç›–å¯¹äºå…¶ä»–å­æ ‘ä¹Ÿä¼šæˆç«‹ï¼Œå› æ­¤æœ‰$$dp[x][3] = \\min(dp[y][4] + \\sum_{s \\not = y}{dp[s][1]})$$å½“$x$å‘ä¸Šè¦†ç›–ä¸¤å±‚ï¼Œæ˜¾ç„¶$x$ä¸€å®šæ˜¯è¢«é€‰ä¸Šçš„ï¼Œæ‰€ä»¥æœ‰$$dp[x][4] = \\sum{dp[y][0]} + 1$$} Code:@card{ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include &lt;iostream&gt;#include &lt;cstdio&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1000 + 10;const int maxm = 2 * maxn;int n, root = 1;int head[maxn], ev[maxm], nxt[maxm], totedge = 1;inline void addedge(int nu, int nv) &#123; ev[++totedge] = nv, nxt[totedge] = head[nu], head[nu] = totedge;&#125;// å½±å“åç»­è®¡ç®—çš„æ”¾çŠ¶æ€é‡Œ// æ ‘å½¢é—®é¢˜è®¡ç®—é¡ºåºè‡ªä¸‹è€Œä¸Šï¼Œè‡ªä¸Šè€Œä¸‹// è‡ªä¸‹è€Œä¸Š// dp[x][0]è¡¨ç¤ºxä¸€å±‚ä»¥ä¸‹éƒ½è¢«è¦†ç›–æœ€å°‘ä»£ä»·// dp[x][1] xä»¥ä¸‹éƒ½è¢«è¦†ç›–// dp[x][2] xè¢«è¦†ç›–// int dp[maxn][6];// dp[x][2] = dp[x][1] + min&#123;- dp[y][2] + dp[y][3]&#125;void dfs(int x, int fa) &#123; dp[x][2] = dp[x][3] = maxn; for(rint i=head[x], y=ev[i]; i; i=nxt[i], y=ev[i]) &#123; if(y == fa) continue; dfs(y, x); dp[x][4] += dp[y][0]; // xä¸€å±‚ä»¥ä¸‹éƒ½è¢«è¦†ç›– dp[x][0] += dp[y][1]; // xä»¥ä¸‹è¢«è¦†ç›– dp[x][1] += dp[y][2]; // xè¢«è¦†ç›– dp[x][2] = min(dp[x][2], dp[y][3] - dp[y][2]); // xä¸Šä¸€å±‚è¢«è¦†ç›– dp[x][3] = min(dp[x][3], dp[y][4] - dp[y][1]); &#125; dp[x][4]++, dp[x][2] += dp[x][1], dp[x][3] += dp[x][0]; for(rint k=3; k&gt;=0; k--) dp[x][k] = min(dp[x][k], dp[x][k+1]);&#125;int main() &#123; readint(n); for(rint x=2, y; x&lt;=n; x++) &#123; readint(y); addedge(x, y), addedge(y, x); &#125; dfs(root, 0); cout &lt;&lt; dp[root][2] &lt;&lt; endl; return 0;&#125; }","categories":[{"name":"Luogu","slug":"Luogu","permalink":"http://arintaro.com/categories/Luogu/"},{"name":"é¢˜è§£","slug":"Luogu/é¢˜è§£","permalink":"http://arintaro.com/categories/Luogu/é¢˜è§£/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://arintaro.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ ‘ä¸Šé—®é¢˜","slug":"æ ‘ä¸Šé—®é¢˜","permalink":"http://arintaro.com/tags/æ ‘ä¸Šé—®é¢˜/"},{"name":"åæ•ˆæ€§çš„å¤„ç†","slug":"åæ•ˆæ€§çš„å¤„ç†","permalink":"http://arintaro.com/tags/åæ•ˆæ€§çš„å¤„ç†/"}]},{"title":"ACè‡ªåŠ¨æœº","slug":"Template/å­—ç¬¦ä¸²/ac","date":"2019-10-28T14:07:45.546Z","updated":"2019-10-28T22:38:49.434Z","comments":true,"path":"2019/10/28/Template/å­—ç¬¦ä¸²/ac/","link":"","permalink":"http://arintaro.com/2019/10/28/Template/å­—ç¬¦ä¸²/ac/","excerpt":"å¤§æ¦‚å¯ä»¥ç”¨æ¥AC, æœ¬æ–‡ä¸»è¦æ˜¯è®°å½•æ€§è´¨, å¤§æ¦‚ä¼šçœ‹ä¸æ‡‚ã€‚","text":"å¤§æ¦‚å¯ä»¥ç”¨æ¥AC, æœ¬æ–‡ä¸»è¦æ˜¯è®°å½•æ€§è´¨, å¤§æ¦‚ä¼šçœ‹ä¸æ‡‚ã€‚ ä¸€ã€æ¦‚å¿µ@card{ ACè‡ªåŠ¨æœºæ˜¯åŸºäºTrieå»ºç«‹çš„, Trieä¸Šçš„ä¸€ä¸ªèŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„ä¼šç¡®å®šå”¯ä¸€çš„ä¸€ä¸ªå­—ç¬¦ä¸²,è¡¨ç¤ºçš„æ˜¯æ’å…¥Trieçš„æŸä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€ã€‚ è§£å†³å¤šæ¨¡å¼ä¸²åŒ¹é…é—®é¢˜æ—¶, å…ˆæŠŠæ‰€æœ‰çš„æ¨¡å¼ä¸²æ’å…¥Trieä¸­, å†è¿›è¡Œå»ºæ ‘ã€‚ ACè‡ªåŠ¨æœºå¯¹äºTrieä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹æ„é€ failæŒ‡é’ˆ, å…¶æŒ‡å‘Trieä¸Šä¸è¿™ä¸ªèŠ‚ç‚¹çš„åç¼€åŒ¹é…çš„æœ€é•¿çœŸå‰ç¼€çš„èŠ‚ç‚¹, æœ´ç´ çš„è®¡ç®—æ–¹æ³•ç±»ä¼¼KMPæˆ–è€…æ˜¯é€’æ¨, å¦‚æœçˆ¶èŠ‚ç‚¹çš„failä¸èƒ½ç»§ç»­åŒ¹é…è‡ªèº«, å°±è·³failåˆ°æ¬¡é•¿, å¦‚æœæ‰¾ä¸åˆ°å°±è¿åœ¨æ ¹èŠ‚ç‚¹ä¸Š, æ—¶é—´å¤æ‚åº¦æ˜¾ç„¶ä¸ä¼˜, ä¼˜åŒ–åå»ºå‡ºTrieå›¾, åŒæ—¶ä¿®æ”¹Trieä¸Šè¾¹çš„å®šä¹‰, ä¸ºå½“å‰èŠ‚ç‚¹åŠ ä¸Šè¿™ä¸ªå­—ç¬¦åçš„åç¼€Trieä¸Šèƒ½åŒ¹é…çš„æœ€é•¿å‰ç¼€, ç”±äºæ²¡æœ‰â€çœŸâ€, è¿™å¯¹åŸTrieä¸Šçš„è¾¹ä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€’æ¨åœ°ä»¥æ·±åº¦ä½œä¸ºçŠ¶æ€å»è®¡ç®—è¿™ä¸¤ç§æŒ‡é’ˆ, å½“éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶, éå†å­—ç¬¦é›†, å½“åŸTrieä¸Šæœ‰è¿™æ¡è¾¹æ—¶, æˆ‘ä»¬éœ€è¦è®¡ç®—å®ƒçš„fail, æ˜¾ç„¶æ˜¯$pv[fail[x]][c]$, å³ä¸å½“å‰èŠ‚ç‚¹åç¼€åŒ¹é…çš„æœ€é•¿çœŸå‰ç¼€å†åŠ ä¸Šè½¬ç§»çš„å­—ç¬¦çš„åç¼€åœ¨Trieä¸Šèƒ½åŒ¹é…çš„æœ€é•¿å‰ç¼€(å¤§æ¦‚ç”¨å½¢å¼åŒ–çš„è¯­è¨€è¯´å‡ºæ¥å°±æ²¡æœ‰è¿™ä¹ˆç»•äº†), æ„Ÿæ€§çš„ç†è§£ä¸€ä¸‹å°±æ˜¯å°è¯•ç»™failå†åŠ ä¸ªå­—ç¬¦å»åŒ¹é…, éœ€è¦å¯¹è‡ªèº«è·³failå»æ‰¾æ˜¯å› ä¸ºfailéœ€è¦æ˜¯çœŸå‰ç¼€ã€‚ å¤šæ¨¡å¼ä¸²åŒ¹é…æ—¶, æŒ‰åºéå†ä¸»ä¸², æ¯æ¬¡å½“å‰èŠ‚ç‚¹è·³Trieå›¾ä¸Šçš„è¾¹å³å¯, å³å¯¹æ¯ä¸ªä¸»ä¸²çš„å‰ç¼€, ç”¨å®ƒçš„åç¼€å»æ‰¾Trieä¸Šèƒ½åŒ¹é…çš„æœ€é•¿å‰ç¼€, æ‰¾åˆ°è¿™ä¸ªæœ€é•¿å‰ç¼€å, ä»å®ƒä¸€ç›´è·³failè·³åˆ°æ ¹èŠ‚ç‚¹, å°±èƒ½æ‰¾åˆ°Trieä¸Šæ‰€æœ‰èƒ½ä¸è¿™ä¸ªåç¼€åŒ¹é…çš„å‰ç¼€äº†ã€‚ æ³¨æ„æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸”ä»…æœ‰ä¸€æ¡failè¾¹, é‚£ä¹ˆå…¶å®æ‰€æœ‰failè¾¹ä¸ç‚¹æ„æˆä¸€æ£µæ ‘, ä¸€ä¸ªèŠ‚ç‚¹å¾€ä¸Šè·³failçš„è¿‡ç¨‹å…¶å®å°±éå†å®ƒåˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„, åŸºäºè¿™ä¸ªæ€§è´¨, æˆ‘ä»¬å¯ä»¥åœ¨failæ ‘ä¸Šè·‘ä¸€äº›æ ‘å½¢æ•°æ®ç»“æ„æ¥ç»´æŠ¤ä¸€äº›ä¸œè¥¿ã€‚å¦‚ç»´æŠ¤å‡ºç°æ¬¡æ•°æ ‘ä¸Šå·®åˆ†ç­‰ã€‚ } äºŒã€å®ç°ä¸‰ã€ä»£ç ","categories":[{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"http://arintaro.com/categories/æ¨¡æ¿/"},{"name":"å­—ç¬¦ä¸²","slug":"æ¨¡æ¿/å­—ç¬¦ä¸²","permalink":"http://arintaro.com/categories/æ¨¡æ¿/å­—ç¬¦ä¸²/"}],"tags":[{"name":"æ ‘ä¸Šé—®é¢˜","slug":"æ ‘ä¸Šé—®é¢˜","permalink":"http://arintaro.com/tags/æ ‘ä¸Šé—®é¢˜/"},{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","permalink":"http://arintaro.com/tags/å­—ç¬¦ä¸²/"}]},{"title":"å°å‹äººç±»æ™ºæ…§é¢˜/è„‘ç­‹æ€¥è½¬å¼¯æ±‡æ€»","slug":"Answer/brain","date":"2019-10-27T13:24:46.584Z","updated":"2019-10-27T13:37:28.570Z","comments":true,"path":"2019/10/27/Answer/brain/","link":"","permalink":"http://arintaro.com/2019/10/27/Answer/brain/","excerpt":"è‡ªå·±æƒ³å‡ºæ¥æ˜¯ä¸å¯èƒ½çš„, è¿™è¾ˆå­éƒ½ä¸å¯èƒ½çš„, æŠ„é¢˜è§£å°±åƒå›å®¶ä¸€æ ·ã€‚","text":"è‡ªå·±æƒ³å‡ºæ¥æ˜¯ä¸å¯èƒ½çš„, è¿™è¾ˆå­éƒ½ä¸å¯èƒ½çš„, æŠ„é¢˜è§£å°±åƒå›å®¶ä¸€æ ·ã€‚ T1: ç››æœ€å¤šæ°´çš„å®¹å™¨@card{ site: https://leetcode-cn.com/problems/container-with-most-water/ ç»™å®šä¸€ä¸ªæ•°ç»„, è¦æ±‚$O(n)$æ±‚å‡ºæœ€å¤§çš„$|i - j| \\times \\min(arr[i], arr[j])$ã€‚ è€ƒè™‘æšä¸¾ä¸€ä¸ªç«¯ç‚¹, ç”¨$O(1)$çš„æ—¶é—´æ±‚å‡ºå¦ä¸€ç«¯çš„æœ€ä¼˜å†³ç­–, å‘ç°å¾ˆéš¾ç»´æŠ¤, æ²¡æœ‰å†³ç­–å•è°ƒæ€§, æŒ‰ç…§$arr[j]$çš„å¤§å°åˆ†ç»„ç”¨æ–œç‡ä¼˜åŒ–+æ•°æ®ç»“æ„ç»´æŠ¤å¤æ‚åº¦åŠ¿å¿…è¦å¤šä¸ª$log$ã€‚ è€ƒè™‘é‡æ’åº, å‘ç°æ— è®ºæŒ‰ä¸‹æ ‡æ’åºoræŒ‰å€¼æ’åº$abs$ä¸$min$éƒ½å¾ˆéš¾ç»´æŠ¤ã€‚ æ­£è§£æ˜¯å·¦å³ä¸¤ç«¯æŒ‡é’ˆå¾€ä¸­é—´æ‰«, å³ä¸ç¡®å®šâ€ä¸»æŒ‡é’ˆâ€, è€Œæ˜¯æ¯æ¬¡è€ƒè™‘ç§»åŠ¨ä»»æ„ä¸€ä¸ªæŒ‡é’ˆå»æ‰ä¸å¯èƒ½çš„ç­”æ¡ˆã€‚è¿™é‡Œæ¯æ¬¡åªè¦æŠŠå€¼è¾ƒå°çš„æŒ‡é’ˆå¾€ä¸­é—´ç§»åŠ¨å³å¯, æ­£ç¡®æ€§æ˜¾ç„¶, è€ƒè™‘ä»»æ„ä¸€ä¸ªç«¯ç‚¹åœ¨å½“å‰æŒ‡é’ˆåŒºé—´$[l, r]$å¤–çš„çš„å†³ç­–å·²ç»è¢«æ›´æ–°è¿›ç­”æ¡ˆ, ä¸å¦¨è®¾$arr[l]$è¾ƒå°, åˆ™ç§»åŠ¨$l$å…¶å®å°±æ˜¯å»æ‰äº†æ‰€æœ‰å·¦ç«¯ç‚¹ä¸º$l$, å³ç«¯ç‚¹åœ¨$(l, r]$çš„å†³ç­–, è¿™å…¶ä¸­çš„å†³ç­–æ˜¾ç„¶æ²¡æœ‰$[l, r]$å¥½, æ‰€ä»¥å°±æ¨åˆ°äº†æŒ‡é’ˆåŒºé—´$[l+1, r]$æ‰€æœ‰åŒºé—´å¤–çš„å†³ç­–å·²ç»è¢«æ­£ç¡®æ›´æ–°, ç”±æ•°å­¦å½’çº³æ³•çŸ¥è¿™ä¹ˆåšä¸ä¼šé—æ¼ç­”æ¡ˆã€‚ } Solution:","categories":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"http://arintaro.com/categories/é¢˜è§£/"}],"tags":[{"name":"äººç±»æ™ºæ…§","slug":"äººç±»æ™ºæ…§","permalink":"http://arintaro.com/tags/äººç±»æ™ºæ…§/"}]},{"title":"å°å·¥å…·åˆé›†","slug":"Template/å°å·¥å…·/small-tool","date":"2019-10-27T10:21:08.341Z","updated":"2019-10-27T10:35:40.796Z","comments":true,"path":"2019/10/27/Template/å°å·¥å…·/small-tool/","link":"","permalink":"http://arintaro.com/2019/10/27/Template/å°å·¥å…·/small-tool/","excerpt":"æ¯”è¾ƒæœ‰ç”¨, ä½†æ¯”è¾ƒç®€çŸ­æ‡’å¾—å•ç‹¬å¼€ä¸€é¡µçš„æŠ€å·§ã€‚","text":"æ¯”è¾ƒæœ‰ç”¨, ä½†æ¯”è¾ƒç®€çŸ­æ‡’å¾—å•ç‹¬å¼€ä¸€é¡µçš„æŠ€å·§ã€‚ 1.äºŒè¿›åˆ¶å­é›†æšä¸¾@card{1234int S = 22; // å…¨é›†for(int i=S; i; i=(i-1)&amp;S) &#123; // æ­¤æ—¶iå³ä¸ºSçš„å­é›†&#125; æšä¸¾$n$ä½äºŒè¿›åˆ¶æ•°, å†ä¾æ¬¡æšä¸¾å®ƒçš„å­é›†, å¤æ‚åº¦ä¸º$O(3^n)$}","categories":[{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"http://arintaro.com/categories/æ¨¡æ¿/"},{"name":"å·¥å…·","slug":"æ¨¡æ¿/å·¥å…·","permalink":"http://arintaro.com/categories/æ¨¡æ¿/å·¥å…·/"}],"tags":[{"name":"è¯­è¨€","slug":"è¯­è¨€","permalink":"http://arintaro.com/tags/è¯­è¨€/"},{"name":"å¥‡æ·«æŠ€å·§","slug":"å¥‡æ·«æŠ€å·§","permalink":"http://arintaro.com/tags/å¥‡æ·«æŠ€å·§/"}]},{"title":"Luogu ä¹°èœ","slug":"Answer/vegetable","date":"2019-10-27T02:00:24.681Z","updated":"2019-10-27T02:26:48.142Z","comments":true,"path":"2019/10/27/Answer/vegetable/","link":"","permalink":"http://arintaro.com/2019/10/27/Answer/vegetable/","excerpt":"æ¨¡æ‹Ÿèµ›é‡Œçš„é¢˜, æ²¡æœ‰é¢˜é¢(","text":"æ¨¡æ‹Ÿèµ›é‡Œçš„é¢˜, æ²¡æœ‰é¢˜é¢( Description:@card{ ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² ğ‘† å’Œä¸€ä¸ªå­—ç¬¦ä¸²é›†åˆ ğ‘‡ï¼Œè¯¢é—® ğ‘† ä¸­æœ€çŸ­çš„åŒ…å« ğ‘‡ çš„å­ä¸²ã€‚ } Solution:@card{ å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸ä¼šTæ‰çš„æ—¶é—´å†…å¤„ç†å‡ºæ‰€æœ‰å­—ç¬¦ä¸²çš„å‡ºç°ä½ç½®, è¿™ä¸ªé—®é¢˜å°±å¯ä»¥ç›´æ¥å˜æˆé€‰åŒºé—´é—®é¢˜, ä»è€Œåº”ç”¨åŒæŒ‡é’ˆæˆ–å…¶ä»–ç®—æ³•è§£å†³ã€‚ä½†æˆ‘è€ƒåœºä¸€æƒ³, è¿™ä¸ªç©æ„ä¸æ˜¯$O(n^2)$çº§çš„ä¹ˆ, æ ¹æœ¬ä¸å¯èƒ½ã€‚ç„¶è€Œäº‹å®ä¸Šè¿œè¿œä¸åˆ°è¿™ä¸ªçº§åˆ«, è€ƒè™‘æŒ‰é•¿åº¦åˆ†ç»„, å»é‡åæ¯ä¸ªé•¿åº¦æ˜¾ç„¶è‡³å¤šä¼šæœ‰$O(n)$çº§çš„åŒ¹é…æ•°, ç”±äºæ€»é•¿åº¦ç»™å®š, ä¸åŒé•¿åº¦çš„æ•°é‡è‡³å¤šæœ‰$O(\\sqrt{n})$ç§, æ‰€ä»¥æ˜¯$O(n\\sqrt{n})$çš„ã€‚ ç®—æ³•1: å­—ç¬¦ä¸²hash + åŒæŒ‡é’ˆåŸºäºä¸Šè¿°å¤æ‚åº¦è¯æ˜, æˆ‘ä»¬å¯ä»¥é‡‡ç”¨å­ä¸²hashä¸hashè¡¨ç›´æ¥å¾—åˆ°ä¸€ä¸ª$O(n\\sqrt{m} + m)$çš„å¤šæ¨¡å¼ä¸²åŒ¹é…ç®—æ³•, å…¶ä¸­$m$ä¸ºæ¨¡å¼ä¸²æ€»é•¿åº¦ã€‚å…·ä½“åšæ³•æ˜¯å»é‡åæŒ‰é•¿åº¦åˆ†ç»„, æ‰«æå‰æŠŠè¿™ä¸ªé•¿åº¦çš„å­—ç¬¦ä¸²çš„hashå€¼æ’å…¥hashè¡¨, ç„¶ååŒ¹é…å³å¯ã€‚æ‰€ä»¥é—®é¢˜è½¬åŒ–ä¸º: åœ¨é•¿ä¸ºmçš„ç›´çº¿ä¸Šæœ‰nç§åŒºé—´, æ±‚ç›´çº¿è¦†ç›–æ‰€æœ‰nç§åŒºé—´çš„æœ€çŸ­çº¿æ®µ åšæ³•æœ‰å¾ˆå¤š, æˆ‘çš„åšæ³•æ˜¯å¼€ä¸¤ä¸ªvectorè®°å½•åŒºé—´èµ·ç‚¹ä¸ç»ˆç‚¹ï¼šå¦‚æœå·¦æŒ‡é’ˆæ‰«åˆ°äº†ä¸€ä¸ªèµ·ç‚¹, é‚£ä¹ˆå¯¹åº”ç§ç±»çš„è®¡æ•°ç›´æ¥å‡ä¸€(å…¶ä¸­å¯èƒ½ä¼šæœ‰å½“å‰å³æŒ‡é’ˆå°šæœªæ‰«åˆ°è¿™ä¸ªåŒºé—´çš„ç»ˆç‚¹, å¯¼è‡´è®¡æ•°å™¨å˜æˆè´Ÿæ•°çš„æƒ…å†µ, ä¸è¿‡ä¸è¦ç´§); å¦‚æœå³æŒ‡é’ˆæ‰«åˆ°äº†ä¸€ä¸ªç»ˆç‚¹, è®¡æ•°å™¨ç›´æ¥åŠ ä¸€, å¦‚æœè®¡æ•°å™¨å½“å‰ä¸ºè´Ÿæ•°, å°±ç›¸å½“äºâ€è¿˜ä¸Šäº†ä¹‹å‰æ¬ çš„å€ºâ€ã€‚æ¯ä¸ªåŒºé—´è¢«é€‰ä¸Šçš„æ¡ä»¶æ˜¯å®ƒè‡ªå·±çš„å‡ºç°è®¡æ•°å™¨å¤§äºç­‰äº$1$ã€‚å¯¹æ¯ä¸ªå·¦æŒ‡é’ˆè®©å³æŒ‡é’ˆä¸€ç›´å¾€å³æ‰«, ç›´åˆ°å½“å‰é€‰ä¸Šäº†å…¨éƒ¨çš„åŒºé—´ã€‚ ç®—æ³•2: ACè‡ªåŠ¨æœº/åç¼€å¹³è¡¡æ ‘ + äºŒå‰å †æˆ‘è¿˜ä¸ä¼š, å¾…æ›´ã€‚ } Code:@card{ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;string&gt;#include &lt;vector&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#include &lt;queue&gt;#define rint register int#define ull unsigned long long#define pii pair&lt;int, int&gt;#define mp(x, y) make_pair((x), (y))#define lint long long#define eco(c) ((int)(c) - 3)#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1e5 + 10;const ull base = 131;const int htmod = 5000087;struct mhash_set&#123; static const int maxnode = htmod + 2; int head[maxnode], nxt[2 * maxn], id[2 * maxn], totnode; int s[2 * maxn], stop; ull val[2 * maxn]; void clear() &#123; totnode = 0; while(stop) head[s[stop--]] = 0; &#125; void insert(ull x, int nid) &#123; int pos = x % htmod; s[++stop] = pos; val[++totnode] = x, id[totnode] = nid; nxt[totnode] = head[pos], head[pos] = totnode; &#125; int find(ull x) &#123; int pos = x % htmod; for(rint i=head[pos]; i; i=nxt[i]) &#123; if(val[i] == x) return id[i]; &#125; return 0; &#125;&#125;ht;ull calc_hash(const char s[], int len) &#123; ull res = 0; for(rint i=1; i&lt;=len; i++) res = res * base + eco(s[i]); return res;&#125;int n, m;ull prehash[maxn], basepow[maxn];char s1[maxn], temp[maxn];// ç¬¬ä¸€ç»´ç¼–å·ï¼Œ ç¬¬äºŒç»´1è¡¨ç¤ºå¼€å§‹ï¼Œ-1è¡¨ç¤ºç»“æŸstruct str&#123; ull x; int len; str() &#123;&#125; str(ull xx, int ll): x(xx), len(ll) &#123;&#125; bool operator &lt; (const str&amp; b) const &#123; return len &lt; b.len; &#125;&#125;s2[maxn];inline ull calc_hash(int L, int R) &#123; return prehash[R] - prehash[L - 1] * basepow[R - L + 1];&#125;void match(int len) &#123; for(rint i=1; i+len-1&lt;=m; i++) &#123; ull res = calc_hash(i, i + len - 1); int nid = ht.find(res); if(nid != 0) &#123; st[i].push_back(nid), ed[i + len - 1].push_back(nid); &#125; &#125;&#125;vector&lt;int&gt; st[maxn], ed[maxn];int cnt_color[maxn], cnt = 0;int ans_len, ans_l, ans_r;inline void update(int c, int x) &#123; int pre = (cnt_color[c] &gt;= 1); cnt_color[c] += x; cnt += (cnt_color[c] &gt;= 1) - pre;&#125;void solve() &#123; ans_len = m; for(rint i=1, j=0; i&lt;=m; i++) &#123; while(j &lt;= m &amp;&amp; cnt &lt; n) &#123; j++; for(rint k=0; k&lt;ed[j].size(); k++) update(ed[j][k], 1); &#125; if(j &gt; m) return; if(j - i + 1 &lt; ans_len) &#123; ans_len = j - i + 1, ans_l = i, ans_r = j; &#125; for(rint k=0; k&lt;st[i].size(); k++) update(st[i][k], -1); &#125;&#125;int main() &#123; basepow[0] = 1; scanf(\"%s\", s1+1), m = strlen(s1 + 1); for(rint i=1; i&lt;=m; i++) &#123; basepow[i] = basepow[i-1] * base; prehash[i] = prehash[i-1] * base + eco(s1[i]); &#125; readint(n); int tot = 0; for(rint i=1; i&lt;=n; i++) &#123; scanf(\"%s\", temp+1); int len = strlen(temp + 1); ull res = calc_hash(temp, len); if(!ht.find(res)) &#123; s2[++tot] = str(res, len), ht.insert(res, i); &#125; &#125; n = tot; sort(s2+1, s2+n+1); for(rint i=1; i&lt;=n; i++) &#123; int l = i, r = i; while(r &lt;= n &amp;&amp; s2[r].len == s2[l].len) r++; i = --r; ht.clear(); for(rint j=l; j&lt;=r; j++) ht.insert(s2[j].x, j); match(s2[l].len); &#125; solve(); for(rint i=ans_l; i&lt;=ans_r; i++) putchar(s1[i]); puts(\"\"); return 0;&#125; }","categories":[{"name":"Luogu","slug":"Luogu","permalink":"http://arintaro.com/categories/Luogu/"},{"name":"é¢˜è§£","slug":"Luogu/é¢˜è§£","permalink":"http://arintaro.com/categories/Luogu/é¢˜è§£/"}],"tags":[{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","permalink":"http://arintaro.com/tags/å­—ç¬¦ä¸²/"},{"name":"å­—ç¬¦ä¸²åŒ¹é…","slug":"å­—ç¬¦ä¸²åŒ¹é…","permalink":"http://arintaro.com/tags/å­—ç¬¦ä¸²åŒ¹é…/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"http://arintaro.com/tags/åŒæŒ‡é’ˆ/"}]},{"title":"Luogu P1121 ç¯çŠ¶æœ€å¤§ä¸¤æ®µå­æ®µå’Œ","slug":"Answer/sum","date":"2019-10-24T13:24:25.109Z","updated":"2019-10-24T14:09:04.321Z","comments":true,"path":"2019/10/24/Answer/sum/","link":"","permalink":"http://arintaro.com/2019/10/24/Answer/sum/","excerpt":"å¤§æ¦‚ç‰¹åˆ¤æ‰æ˜¯ä¸»è¦éš¾ç‚¹(","text":"å¤§æ¦‚ç‰¹åˆ¤æ‰æ˜¯ä¸»è¦éš¾ç‚¹( Description:@card{ ç»™å®šä¸€ä¸ªç¯çŠ¶åºåˆ—, å¯ä»¥é€‰å…¶ä¸­ä¸¤æ®µè¿ç»­ä¸ç›¸äº¤çš„å­æ®µ, æ±‚å®ƒä»¬çš„æœ€å¤§å’Œ } Solution:@card{ å¯¹äºè¿™ç§â€ä¸¤æ®µâ€é—®é¢˜çš„å¤„ç†, ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼šç¬¬ä¸€ç§æ˜¯æšä¸¾åˆ‡ç‚¹, ç”¨å‰åä¸¤æ®µçš„â€ä¸€æ®µâ€çš„æœ€ä¼˜å»ç»„åˆç­”æ¡ˆï¼›ç¬¬äºŒç§æ˜¯åœ¨DPçŠ¶æ€å†…è®°å½•å½“å‰é€‰äº†å‡ æ®µ, ä»è€Œè¿›è¡Œè½¬ç§»ã€‚ ç®—æ³•1: æšä¸¾åˆ‡ç‚¹, æ­£éš¾åˆ™åè€ƒè™‘åºåˆ—ä¸Šæ€ä¹ˆåš, æ˜¾ç„¶å¯ä»¥æšä¸¾åˆ‡ç‚¹ç”¨å‰åä¸¤æ®µçš„æœ€å¤§å­æ®µå’Œç»„åˆç­”æ¡ˆã€‚é¡ºç€æƒ³åˆ°å¯ä»¥ç ´ç¯æˆé“¾è·‘ç±»ä¼¼çš„ç®—æ³•, ç„¶è€Œå¯èƒ½å‰åä¸¤æ®µçš„é•¿åº¦åŠ èµ·æ¥è¶…è¿‡$n$, ä»è€Œä½¿ç­”æ¡ˆå˜å¤§, è¿™é‡Œå¯ä»¥ç”¨æ•°æ®ç»“æ„ç»´æŠ¤ä¸åŒé•¿åº¦çš„ç­”æ¡ˆ(eg. å¯æŒä¹…åŒ–å¹³è¡¡æ ‘), ç„¶è€Œæ— è®ºæ€ä¹ˆæ ·, å¤æ‚åº¦éƒ½ä¼šå¤šä¸ª$log$ã€‚ è€ƒè™‘åœ¨åºåˆ—ä¸Šè·‘å®Œé—è½äº†ä»€ä¹ˆæƒ…å†µ, æ˜¾ç„¶æ˜¯å‰åä¸¤æ®µæ¥åˆ°ä¸€èµ·å’Œä¸­é—´çš„ä¸€æ®µç»„æˆç­”æ¡ˆ, å‘ç°è¿™å…¶å®åœ¨åºåˆ—ä¸Šä½“ç°ä¸ºä¸‰æ®µ, è¿™ä¸‰æ®µåˆåˆ†å‡ºæ¥äº†ä¸¤æ®µ, æœ€ä¼˜è§£ä¸­è¿™ä¸¤æ®µä¹‹å’Œæ˜¾ç„¶æ˜¯æœ€å°çš„, é‚£ä¹ˆç”¨æ€»å’Œå‡å»â€åºåˆ—ä¸Šæœ€å°ä¸¤æ®µå­æ®µå’Œâ€, ä¸€å®šèƒ½è¦†ç›–è¿™ç§æƒ…å†µã€‚ ç„¶è€Œåˆ°è¿™é‡Œè¿˜è¿œæ²¡æœ‰ç»“æŸ, è€ƒè™‘è¾¹ç•Œæƒ…å†µ, ç¬¬ä¸€ç§æƒ…å†µåªè¦æˆ‘ä»¬æšä¸¾çš„â€ä¸¤ä¸ªæ•°ä¹‹é—´çš„æ–­ç‚¹â€åœ¨åºåˆ—ä¸­é—´, å‰åä¸¤æ®µåŠ èµ·æ¥è‡³å°‘ä¼šæœ‰ä¸¤ä¸ªæ•°å­—, å› æ­¤æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯ç¬¬äºŒç§æƒ…å†µ, æˆ‘ä»¬æ±‚å‡ºçš„â€åºåˆ—ä¸Šæœ€å°ä¸¤æ®µå­æ®µå’Œâ€çš„é•¿åº¦$len &gt; n-2$çš„è¯, æ±‚å‡ºæ¥çš„è§£å°±æ˜¯æ²¡æœ‰æ„ä¹‰çš„, ç”±äºç‰¹åˆ¤èŒƒå›´è¾ƒå°, è€ƒè™‘è¿›è¡Œè®¨è®ºã€‚å½“$len = n$æ—¶, æ˜¾ç„¶åºåˆ—ä¸­å¿…ç„¶å…¨æ˜¯è´Ÿæ•°, å¦åˆ™æˆ‘ä»¬åœ¨ä¸€ä¸ªæ­£æ•°ä¸¤è¾¹åˆ‡ç‚¹å°±èƒ½å¾—åˆ°æ›´å°çš„è§£; å½“$len = n-1$æ—¶, æˆ‘ä»¬ç”¨æ¥æ›´æ–°ç­”æ¡ˆçš„å€¼å¿…ç„¶æ˜¯åºåˆ—ä¸­æœ€å¤§çš„æ­£æ•°, å¦‚æœå­˜åœ¨å¦å¤–ä¸€ä¸ªæ­£æ•°, é‚£ä¹ˆç¬¬ä¸€ç§æƒ…å†µä¸€å®šä¼šæ¯”ç¬¬äºŒç§æƒ…å†µæ±‚å‡ºçš„ç­”æ¡ˆä¼˜ç§€, ä¸å½±å“ç­”æ¡ˆ, å¦‚æœä¸å­˜åœ¨å¦å¤–ä¸€ä¸ªæ­£æ•°, é‚£ä¹ˆåºåˆ—ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ­£æ•°, æˆ‘ä»¬æ˜¾ç„¶å¯ä»¥ç›´æ¥å¾—åˆ°ç­”æ¡ˆã€‚ ç»¼ä¸Š, å½“åºåˆ—ä¸­æ­£æ•°åªæœ‰$0$ä¸ªæˆ–$1$ä¸ªæ—¶, ç­”æ¡ˆä¸ºåºåˆ—ä¸­çš„æœ€å¤§å€¼åŠ æ¬¡å°å€¼, å¦åˆ™å¯ä»¥åº”ç”¨æˆ‘ä»¬ä¸Šè¿°çš„ç®—æ³•, æ­£ç¡®æ±‚å‡ºç­”æ¡ˆã€‚ ç®—æ³•2: åŠ¨æ€è§„åˆ’, ä¸€æ¬¡æ–­å¼€, ä¸€æ¬¡å¼ºåˆ¶è¿æ¥è€ƒè™‘åºåˆ—ä¸Šæ€ä¹ˆåš, æ˜¾ç„¶æˆ‘ä»¬å¯ä»¥åœ¨çŠ¶æ€å†…è®°å½•å½“å‰é€‰äº†å‡ ä¸ª, ä»¥åŠä¸Šä¸ªé€‰æ²¡é€‰(å…¶å®è®°å½•ä¸Šä¸ªé€‰æ²¡é€‰å¯ä»¥ç†è§£ä¸ºä¸€ç§å°èŒƒå›´çš„çŠ¶æ€å‹ç¼©å»è§£å†³ä¸€å®šçš„åæ•ˆæ€§)æ¥è½¬ç§»ã€‚å¦‚æœç ´ç¯æˆé“¾åŠ¿å¿…åˆé¢ä¸´ç»´æŠ¤éº»çƒ¦çš„é•¿åº¦é™åˆ¶çš„é—®é¢˜, æ‰€ä»¥è€ƒè™‘å¼ºåˆ¶è¿æ¥ã€‚ å¼ºåˆ¶è¿æ¥åå‰åä¸¤ä¸ªè§†ä¸ºä¸€æ®µ, åœ¨ä¸­é—´æ‰¾ç¬¬ä¸‰æ®µå³å¯, å³æ±‚å‡ºä¸å¼ºåˆ¶è¿æ¥æ—¶çš„ä¸¤æ®µç­”æ¡ˆ, å’Œå¼ºåˆ¶è¿æ¥åçš„ä¸‰æ®µç­”æ¡ˆå°±å¯è¦†ç›–æ‰€æœ‰æƒ…å†µã€‚ è¿™ç§æ–¹æ³•å¸¸æ•°ä¸å¤ªå¥½, ä½†æ˜¯ä¸ç”¨è€ƒè™‘éº»çƒ¦çš„è¾¹ç•Œæƒ…å†µ, æ˜¯è€ƒåœºæ¯”è¾ƒä¼˜ç§€çš„ç®—æ³•ã€‚ } Code:@card{ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;iostream&gt;#include &lt;cstdio&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 2e5 + 10;const int inf = 2e9 + 10;int n;int arr[maxn], cnt = 0;int ans = -inf, sum, max1 = -inf, max2 = -inf;int presum[maxn], sufsum[maxn];void calc() &#123; for(rint i=1; i&lt;=n; i++) presum[i] = max(presum[i-1], 0) + arr[i]; for(rint i=n; i&gt;=1; i--) sufsum[i] = max(sufsum[i+1], 0) + arr[i]; for(rint i=2; i&lt;=n; i++) presum[i] = max(presum[i-1], presum[i]); for(rint i=n-1; i&gt;=1; i--) sufsum[i] = max(sufsum[i+1], sufsum[i]); &#125;int main() &#123; readint(n); for(rint i=1; i&lt;=n; i++) &#123; readint(arr[i]), sum += arr[i]; if(arr[i] &gt;= 0) cnt++; &#125; for(rint i=1; i&lt;=n; i++) &#123; if(arr[i] &gt;= max1) max2 = max1, max1 = arr[i]; else if(arr[i] &gt; max2) max2 = arr[i]; &#125; ans = max1 + max2; if(cnt &lt; 2) &#123; cout &lt;&lt; ans &lt;&lt; endl; return 0; &#125; calc(); for(rint i=1; i&lt;=n-1; i++) ans = max(ans, presum[i] + sufsum[i+1]); for(rint i=1; i&lt;=n; i++) arr[i] = -arr[i]; calc(); for(rint i=1; i&lt;=n-1; i++) ans = max(ans, sum + presum[i] + sufsum[i+1]); cout &lt;&lt; ans &lt;&lt; endl; return 0;&#125; }","categories":[{"name":"Luogu","slug":"Luogu","permalink":"http://arintaro.com/categories/Luogu/"},{"name":"é¢˜è§£","slug":"Luogu/é¢˜è§£","permalink":"http://arintaro.com/categories/Luogu/é¢˜è§£/"}],"tags":[{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"http://arintaro.com/tags/è´ªå¿ƒ/"},{"name":"ç»å…¸æ¨¡å‹","slug":"ç»å…¸æ¨¡å‹","permalink":"http://arintaro.com/tags/ç»å…¸æ¨¡å‹/"},{"name":"æ­£éš¾åˆ™å","slug":"æ­£éš¾åˆ™å","permalink":"http://arintaro.com/tags/æ­£éš¾åˆ™å/"},{"name":"ä¸¤æ®µå¤„ç†","slug":"ä¸¤æ®µå¤„ç†","permalink":"http://arintaro.com/tags/ä¸¤æ®µå¤„ç†/"},{"name":"ç¯å½¢å¤„ç†","slug":"ç¯å½¢å¤„ç†","permalink":"http://arintaro.com/tags/ç¯å½¢å¤„ç†/"}]},{"title":"Luogu P1654 OSU!","slug":"Answer/osu","date":"2019-10-24T05:40:42.504Z","updated":"2019-10-30T08:28:01.841Z","comments":true,"path":"2019/10/24/Answer/osu/","link":"","permalink":"http://arintaro.com/2019/10/24/Answer/osu/","excerpt":"æ„Ÿè§‰æœŸæœ›è¿˜æ˜¯æ¯”è¾ƒå†·é—¨çš„è€ƒå¯Ÿæ–¹å‘","text":"æ„Ÿè§‰æœŸæœ›è¿˜æ˜¯æ¯”è¾ƒå†·é—¨çš„è€ƒå¯Ÿæ–¹å‘ Description:@card{ ç»™å®šä¸€ä¸ª$n$ä¸ªä½ç½®, æ¯ä¸ªä½ç½®æœ‰$p_i$çš„æ¦‚ç‡ä¸º$1$, å¦åˆ™ä¸º0, æ¯ä¸€æ®µæå¤§è¿ç»­çš„$1$ä¼šäº§ç”Ÿé•¿åº¦çš„ä¸‰æ¬¡æ–¹çš„åˆ†æ•°, æ±‚åˆ†æ•°çš„æœŸæœ›å€¼ } Solution:@card{ è€ƒè™‘é€ä¸ªæŠŠ1åŠ å…¥è®¡ç®—è´¡çŒ®, ä¸å¦¨å‡è®¾å‰$i-1$ä¸ªä½ç½®çš„å¾—åˆ†æœŸæœ›å·²ç»æ­£ç¡®æ±‚å‡º,ã€‚å½“è¯¥ä½ä¸º0æ—¶, æ˜¾ç„¶ç­”æ¡ˆç›´æ¥ç´¯åŠ $i-1$çš„å³å¯ï¼›å½“è¯¥ä½ä¸º1æ—¶, ä¼šå¢å¤§æ‰€æœ‰â€åç¼€è¿ç»­1â€çš„è´¡çŒ®, è€Œå¯¹å…¶ä»–è´¡çŒ®æ²¡æœ‰å½±å“: å¯¹äºä¸€ä¸ªé•¿åº¦åœ¨è¿™ä¹‹å‰å·²ç»ä¸º$x$çš„åç¼€1æ®µ, å¢å¤§çš„è´¡çŒ®æ˜¾ç„¶ä¸º$(x + 1)^3 - x^3 = 3x^2 + 3x + 1$, å¯¹äºæ‰€æœ‰è¿™æ ·çš„ä¸²è€ƒè™‘æ˜¾ç„¶åªéœ€è¦ä»£å…¥æœŸæœ›å€¼å³å¯, æ‰€ä»¥éœ€è¦åˆ†åˆ«ç»´æŠ¤åç¼€é•¿åº¦å¹³æ–¹çš„æœŸæœ›å’Œåç¼€é•¿åº¦çš„æœŸæœ›ã€‚ æ³¨æ„åç¼€é•¿åº¦å¹³æ–¹çš„æœŸæœ›ä¸èƒ½ç›´æ¥ç”±åç¼€é•¿åº¦çš„æœŸæœ›ç›´æ¥å¹³æ–¹å¾—åˆ°, å› ä¸ºå®ƒè‡ªèº«æ˜¾ç„¶æ˜¯ä¸ç‹¬ç«‹çš„, ä¸èƒ½ç›´æ¥ç”¨æœŸæœ›çš„ä¹˜æ³•æ€§è´¨, ä¹˜æ³•è¦æ±‚ä¸¤ä¸ªéšæœºå˜é‡ç›¸äº’ç‹¬ç«‹ã€‚åˆ™æœ‰: $$E(A^3_n) = p_i (E(A^3_n-1) + 3E(B^2_n-1) + 3E(B_n-1) + 1) + (1 - p_i) E(A^3_n-1)$$$$E(B^2_n) = p_i (E(B^2_n-1) + 2E(B_n-1) + 1) + (1 - p_i) \\times 0$$$$E(B_n) = p_i(E(B_n-1) + 1) + (1 - p_i) \\times 0$$ Luoguä¸Šçš„é¢˜è§£ä¹Ÿæœ‰å¾ˆå¤šä»å¦å¤–çš„è§’åº¦æ€è€ƒäº†, å¤ä¹ çš„æ—¶å€™å¯ä»¥çœ‹ä¸€ä¸‹ï¼šhttps://www.luogu.org/problemnew/solution/P1654} Code:@card{ 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;#include &lt;cstdio&gt;#define rint register int#define lint long long#define ldob long double#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1e5 + 10;int n;ldob EA3[maxn], EB1[maxn], EB2[maxn], p[maxn];int main() &#123; readint(n); for(rint i=1; i&lt;=n; i++) &#123; scanf(\"%Lf\", &amp;p[i]); EB1[i] = p[i] * (EB1[i-1] + 1) + (1 - p[i]) * 0; EB2[i] = p[i] * (EB2[i-1] + 2 * EB1[i-1] + 1) + (1 - p[i]) * 0; EA3[i] = p[i] * (EA3[i-1] + 3 * EB2[i-1] + 3 * EB1[i-1] + 1) + (1 - p[i]) * EA3[i-1]; &#125; printf(\"%.1Lf\\n\", EA3[n]); return 0;&#125; }","categories":[{"name":"Luogu","slug":"Luogu","permalink":"http://arintaro.com/categories/Luogu/"},{"name":"é¢˜è§£","slug":"Luogu/é¢˜è§£","permalink":"http://arintaro.com/categories/Luogu/é¢˜è§£/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://arintaro.com/tags/æ•°å­¦/"},{"name":"é€’æ¨","slug":"é€’æ¨","permalink":"http://arintaro.com/tags/é€’æ¨/"},{"name":"æœŸæœ›","slug":"æœŸæœ›","permalink":"http://arintaro.com/tags/æœŸæœ›/"}]},{"title":"NOIP2013 èŠ±åŒ ","slug":"Contest/NOIP 2013/flower","date":"2019-10-23T11:53:29.869Z","updated":"2019-10-24T05:42:26.448Z","comments":true,"path":"2019/10/23/Contest/NOIP 2013/flower/","link":"","permalink":"http://arintaro.com/2019/10/23/Contest/NOIP 2013/flower/","excerpt":"ä¸é»„é¢˜æ–—æ™ºæ–—å‹‡","text":"ä¸é»„é¢˜æ–—æ™ºæ–—å‹‡ Description:@card{ æ±‚ä¸€ä¸ªæ•´æ•°åºåˆ—çš„æœ€é•¿æ³¢å³°åºåˆ—, è¯¦è§https://www.luogu.org/problem/P1970 } Solution:@card{ è¿™ä¸ªé¢˜æ€è·¯æ²¡ä»€ä¹ˆéš¾çš„, ä¸»è¦æ˜¯å®ç°ç»†èŠ‚ä¸è¾¹ç•Œå¤„ç†ã€‚ åšæ³•æ˜¾ç„¶æ˜¯åˆ’åˆ†å‡ºæ¯ä¸ªå•è°ƒé€’å¢å•è°ƒé€’å‡çš„å­æ®µ, é€‰ä¸Šå³°ç‚¹å’Œå¼€å¤´ç»“å°¾å³å¯ã€‚ é—®é¢˜åœ¨äºå…¶ä¸­ä¼šæœ‰ç›¸ç­‰çš„æ•°å­—, å¯¹äºä¸€ä¸ªåŒºé—´å†…çš„å¾ˆå¥½å¤„ç†, ç›¸ç­‰æ˜¯ä¸å½±å“å½“å‰åŒºé—´çš„å•è°ƒæ€§çš„ã€‚ç„¶è€Œæˆ‘ä»¬åœ¨è®¾åˆå€¼æ—¶, ä¼šè®¾ä¸º$a[1], a[2]$çš„å…³ç³», æˆ‘ä¸€å¼€å§‹æ²¡æœ‰è€ƒè™‘$a[1]$, $a[i]$ç›¸ç­‰äº†è¯¥æ€ä¹ˆåŠã€‚å¦å¤–, å½“$n=1$å’Œ$n = 2 and a[1] == a[2]$æ—¶, â€œé€‰ä¸Šå¼€å¤´ç»“å°¾â€æ˜¯æ— æ³•åšåˆ°çš„, éœ€è¦ç‰¹åˆ¤ã€‚ } Code:@card{ 1234567891011121314151617181920212223242526272829303132333435#include &lt;iostream&gt;#include &lt;cstdio&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1e5 + 10;int n, ans = 2;int arr[maxn];int main() &#123; readint(n); for(rint i=1; i&lt;=n; i++) readint(arr[i]); if(n == 1) cout &lt;&lt; 1 &lt;&lt; endl; else if(n == 2) cout &lt;&lt; 1 + (arr[2] != arr[1]) &lt;&lt; endl; else &#123; int x = -1; for(rint i=2; i&lt;=n; i++) &#123; if(arr[i] == arr[i-1]) continue; if(x == -1) x = (arr[i] &gt; arr[i-1]); else if((arr[i] &gt; arr[i-1]) != x) ans++, x ^= 1; &#125; cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125; }","categories":[{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://arintaro.com/categories/æ¯”èµ›/"},{"name":"NOIP2013","slug":"æ¯”èµ›/NOIP2013","permalink":"http://arintaro.com/categories/æ¯”èµ›/NOIP2013/"},{"name":"é¢˜è§£","slug":"æ¯”èµ›/NOIP2013/é¢˜è§£","permalink":"http://arintaro.com/categories/æ¯”èµ›/NOIP2013/é¢˜è§£/"}],"tags":[{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"http://arintaro.com/tags/è´ªå¿ƒ/"},{"name":"è¾¹ç•Œå¤„ç†","slug":"è¾¹ç•Œå¤„ç†","permalink":"http://arintaro.com/tags/è¾¹ç•Œå¤„ç†/"}]},{"title":"NOIP2010 è§‚å…‰å…¬äº¤","slug":"Contest/NOIP 2010/bus","date":"2019-10-23T09:33:02.040Z","updated":"2019-10-23T10:48:35.241Z","comments":true,"path":"2019/10/23/Contest/NOIP 2010/bus/","link":"","permalink":"http://arintaro.com/2019/10/23/Contest/NOIP 2010/bus/","excerpt":"ä½ ä»¥ä¸ºæˆ‘æ˜¯DP,å…¶å®æˆ‘æ˜¯è´ªå¿ƒå•¦dio","text":"ä½ ä»¥ä¸ºæˆ‘æ˜¯DP,å…¶å®æˆ‘æ˜¯è´ªå¿ƒå•¦dio Description:@card{ é¢˜æ„è¾ƒä¸ºå¤æ‚,å¥—çš„å£³æ¯”è¾ƒå¤š,å¯è§https://www.luogu.org/problem/P1315è¦ç‚¹: å…¬äº¤è½¦åœ¨æ¯ç«™éƒ½å¿…é¡»ç­‰å¾…éœ€è¦ä»è¯¥æ™¯ç‚¹å‡ºå‘çš„æ‰€æœ‰ä¹˜å®¢éƒ½ä¸Šè½¦åæ‰èƒ½å‡ºå‘å¼€å¾€ä¸‹ä¸€æ™¯ç‚¹ã€‚ } Solution:@card{ å¯¹äºè¿™ç§å¤–é¢å£³æ¯”è¾ƒå¤šçš„é¢˜,ä¸€å®šè¦å…ˆæŠ½è±¡å…¶é™åˆ¶æ¡ä»¶ä¸éœ€è¦å»æœ€ä¼˜åŒ–çš„ç›®æ ‡ã€‚ç”±äºæ¯ä¸ªä¹˜å®¢çš„æ—…è¡Œæ—¶é—´å¼€å§‹è®¡ç®—çš„ç‚¹çš„æ˜¯â€ä¹˜å®¢åˆ°è¾¾å‡ºå‘åœ°ç‚¹çš„æ—¶é—´â€, è€Œä¸æ˜¯â€ä¸Šè½¦æ—¶é—´â€, æ‰€ä»¥æ¯ä¸ªä¹˜å®¢å¯¹æ€»æ—¶é—´çš„å½±å“åªä¼šä½“ç°åœ¨â€å…¬äº¤è½¦åˆ°è¾¾ç›®æ ‡çš„æ—¶é—´â€, è€Œè·Ÿåˆ°è¾¾èµ·ç‚¹çš„æ—¶é—´æ— å…³, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠè´¹ç”¨ä½“ç°å®ƒçš„ç»ˆç‚¹å»è®¡ç®—ã€‚è€Œå®ƒçš„â€å‡ºå‘åœ°ç‚¹ä¸æ—¶é—´â€, ä½“ç°ä¸ºå¯¹â€å‡ºå‘åœ°ç‚¹â€çš„â€æœ€æ—©å‡ºå‘æ—¶é—´â€çš„é™åˆ¶æ¡ä»¶ã€‚ æ¥ç€è€ƒè™‘æ€ä¹ˆåš, æ˜¯ä¸ªæœ€ä¼˜åŒ–é—®é¢˜,ç¬¬ä¸€çœ¼çœ‹ä¸Šå»åƒä¸ªDP, ç„¶è€ŒDPçš„è¯, â€œå‰©ä½™çš„åŠ é€Ÿå™¨â€ä¸â€ç°åœ¨å…¬äº¤è½¦çš„åœ°ç‚¹â€æ˜¯ä¸¤ä¸ªæ˜¾ç„¶å¿…é¡»è¦è®°å½•çš„ä¿¡æ¯, ç„¶è€Œå³ä½¿è½¬ç§»æ˜¯$O(1)$çš„, è¿™ä¸¤ä¸ªä¿¡æ¯ä¹Ÿè¶³ä»¥è®©æˆ‘ä»¬TLEã€‚è”ç³»å›¾è®ºçš„è¯, å¯ä»¥è·‘è´¹ç”¨æµ, ç„¶è€Œå¦‚æœè·‘åˆ°ä¸Šç•Œæ˜¾ç„¶ä¼šTLEæ‰(äº‹å®ä¸Šè¿œè¿œè·‘ä¸åˆ°); ç”¨äºŒåˆ†ç­”æ¡ˆçš„è¯, äºŒåˆ†é™¤çš„ç­”æ¡ˆ$æ—…è¡Œæ—¶é—´æ€»å’Œ$åˆæ˜¾ç„¶å¯¹$check$æ¯«æ— å¸®åŠ©, æ‰€ä»¥è€ƒè™‘è´ªå¿ƒã€‚ æˆ‘ä»¬æ˜¾ç„¶ä¸èƒ½æŒ‰å¼€è½¦çš„é¡ºåºå»è´ªå¿ƒ, æ— æ³•åœ¨æœ‰æ•ˆçš„æ—¶é—´å†…åˆ¤æ–­è¿™æ¬¡è´ªå¿ƒå¯¹åé¢çš„å½±å“, åˆè®¾è®¡ä¸å‡ºâ€å¯ä»¥åæ‚”çš„è´ªå¿ƒâ€ã€‚æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘â€è¿­ä»£å¼çš„è´ªå¿ƒâ€, å³å…ˆæ±‚å‡ºä¸€ç»„å¯è¡Œè§£, ä¸æ–­å°è¯•å»ä¼˜åŒ–å®ƒ, ç›´åˆ°æ”¶æ•›åˆ°æœ€ä¼˜è§£ã€‚(è¿™ä¸¤ä¸ªåè¯éƒ½æ˜¯æˆ‘çç¼–çš„) ç®—æ³•1ï¼šè´ªå¿ƒç›´è§‚çš„æƒ³æ³•è‚¯å®šæ˜¯å¯¹äºä¸€ä¸ªåŠ é€Ÿå™¨, è®©å®ƒèƒ½å¤ŸåŠ é€Ÿçš„äººè¶Šå¤šè¶Šå¥½, é‚£ä¹ˆæ€ä¹ˆå»è®¡ç®—â€ä¸€ä¸ªåŠ é€Ÿå™¨æ”¾åœ¨æŸä¸ªä½ç½®èƒ½åŠ é€Ÿå¤šå°‘äºº?â€, æ˜¾ç„¶æ˜¯ä»ä½¿ç”¨ä½ç½®å¼€å§‹åˆ°ç¬¬ä¸€ä¸ªâ€è½¦ç­‰äººâ€çš„ä½ç½®,æ‰€æœ‰ç»“æŸä½ç½®åœ¨è¿™æ®µåŒºé—´çš„äººçš„æ—¶é—´éƒ½ä¼šå‡å°1, è€Œå¯¹è¿™ä¹‹åçš„ä½ç½®æ¯«æ— å½±å“ã€‚è¿›ä¸€æ­¥è€ƒè™‘, è¿™äº›åŒºé—´ä¹‹é—´çš„å…³ç³»è¦ä¹ˆæ˜¯ä¸€ä¸ªåŒ…å«ä¸€ä¸ª, è¦ä¹ˆæ˜¯ä¸ç›¸äº¤ã€‚è€ƒè™‘ä»$i$å‡ºå‘å»¶å±•çš„åŒºé—´, ä»$i+1$å‡ºå‘ä¹Ÿæ˜¾ç„¶ä¼šåˆ°å®ƒçš„ç»ˆç‚¹, æ˜¾ç„¶æˆ‘ä»¬åœ¨$i$ä¸Šç”¨æ¯”$i+1$ä¸Šç”¨è¦å¥½ã€‚æ‰€ä»¥, åœ¨æ¯ä¸ªåŒºé—´å†…éƒ¨è‚¯å®šæ˜¯åœ¨èµ·ç‚¹ç”¨æœ€å¥½, åœ¨åŒºé—´ä¹‹é—´ç”¨ä¸ç”¨åˆæ¯«æ— å½±å“, æ‰€ä»¥æˆ‘ä»¬æ¯æ¬¡æ‰¾ä¸€ä¸ªåŠ é€Ÿæ—¶é—´æœ€é•¿çš„èµ·ç‚¹ç”¨è‚¯å®šæ˜¯æœ€å¥½çš„ã€‚ åŒæ—¶éœ€è¦æ³¨æ„ä¸€äº›ç»†èŠ‚, æ¯”å¦‚ç¬¬äºŒä¸ªé™åˆ¶æ¡ä»¶$D_i$ä¸èƒ½ä¸ºè´Ÿæ•°, æ¯æ¬¡ç”¨å®Œä¸­é—´æœ‰è½¦å’ŒäººåŒæ—¶åˆ°è¾¾, è¦åˆ†è£‚åŒºé—´, ä¸å†èµ˜è¿°ã€‚ç›´æ¥æŒ‰ç…§ä¸Šè¿°æ€è·¯æ¨¡æ‹Ÿå³å¯å†™å‡º$O(kn)$çš„ç®—æ³•, ç½‘ä¸Šå¤§éƒ¨åˆ†é¢˜è§£ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ã€‚ ç®—æ³•2ï¼šä¼˜åŒ–åçš„è´ªå¿ƒå‘ç°$n = 10^3$, $k = 10^5$, ç›´æ¥è€ƒè™‘æ¯ä¸ªæ€ä¹ˆç”¨è‚¯å®šä¼šTLE(ç„¶è€Œå¹¶æ²¡æœ‰), è€ƒè™‘æ¯æ¬¡ç”¨ä¸€ä¸ªåŠ é€Ÿå™¨, å¦‚æœè¿™ä¸ªåŒºé—´â€æ²¡æœ‰è¢«åˆ†è£‚â€, è‚¯å®šä¸‹æ¬¡æœ€ä¼˜çš„è¿˜æ˜¯å®ƒ, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨åˆ°å®ƒåˆ†è£‚ä¸ºæ­¢, æ˜¾ç„¶å°±æ˜¯è¿™æ®µåŒºé—´ä¸­äººç­‰è½¦çš„æœ€çŸ­æ—¶é—´ã€‚ç”±äºæ¯æ¬¡ç”¨å®Œè‡³å°‘ä¼šæœ‰ä¸€ä¸ªç‚¹å˜ä¸º$äººç­‰è½¦$, è€Œæˆ‘ä»¬åªæœ‰$n$ä¸ªç‚¹, æ•…ä¸Šè¿°è¿‡ç¨‹è‡³å¤šæ‰§è¡Œ$O(n)$, æ‰€ä»¥æ€»å¤æ‚åº¦$O(n^2)$, å¯ä»¥é€šè¿‡ã€‚ ç®—æ³•3: æ•°æ®ç»“æ„ä¼˜åŒ–è´ªå¿ƒè€ƒè™‘$n = 10^5$æ—¶æ€ä¹ˆåš, æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ªå †ç»´æŠ¤è¿™äº›åŒºé—´çš„äººæ•°, è€Œæ¯æ¬¡ä¸ç”¨éå†è¿™äº›åŒºé—´å»æ‰¾æœ€å¤§å€¼, ç„¶è€Œé—®é¢˜åœ¨äºå¦‚ä½•å»â€åˆ†è£‚åŒºé—´â€, æˆ‘ä»¬å¯ä»¥åœ¨é¢„å¤„ç†è¿™äº›åŒºé—´å, è®°å½•è¿™äº›åŒºé—´æ‰€æœ‰â€æœ€å°å€¼â€çš„ä½ç½®, ä¸‹æ¬¡è¿™ä¸ªåŒºé—´è¢«é€‰åˆ°æ—¶, è¿™äº›æœ€å°å€¼å¿…ç„¶åŒæ—¶å˜ä¸º0, è¿™äº›æœ€å°å€¼çš„ä½ç½®åˆ‡åˆ†è¿™ä¸ªåŒºé—´, æŠŠè¿™äº›åŒºé—´çš„äººæ•°å…¥å †å³å¯ã€‚é—®é¢˜åœ¨äºå¦‚ä½•ç»´æŠ¤æ–°åŒºé—´æœ€å°å€¼çš„ä½ç½®, æˆ‘ä»¬å¯ä»¥å‘ç°, å¯¹äºä»»æ„æ—¶åˆ»çš„ä¸€ä¸ªåŒºé—´, å®ƒå†…éƒ¨çš„æ‰€æœ‰æ•°å­—å¿…ç„¶ç»å†çš„ç›¸åŒçš„â€åŒºé—´ä¿®æ”¹â€, ä¹Ÿå°±æ˜¯è¯´, åªè¦çŸ¥é“åŒºé—´çš„å·¦å³ç«¯ç‚¹, å®ƒå†…éƒ¨çš„æœ€å°å€¼ä½ç½®ä¸€å®šæ˜¯ä¸å˜çš„, å³æŸ¥ä½ç½®è¿™ä»¶äº‹æƒ…æ ¹æœ¬å°±æ˜¯ä¸ªé™æ€é—®é¢˜, éšä¾¿ç”¨ä¸ªæ•°æ®ç»“æ„å¯ä»¥ç›´æ¥è§£å†³, ä¸åŒä¸åªç»´æŠ¤ä¸€ä¸ªç‚¹çš„å»ºæ ‘$O(n)$, è¿™æ ·æœ€åå»ºæ ‘æ˜¯$O(nlogn)$çš„, å•æ¬¡æŸ¥è¯¢æ˜¾ç„¶æ˜¯è¿™æ¬¡åˆ é™¤çš„ç‚¹æ•°ä¹˜ä¸ª$logn$, æ ¹æ®ä¸Šé¢çš„å‡æ‘Šåˆ†æ, æ˜¾ç„¶æ€»å¤æ‚åº¦æ˜¯$O(nlogn)$çš„, è‡³äºå…·ä½“çš„æœ€å°å€¼å¯ä»¥ç›´æ¥åœ¨æ¯ä¸ªåŒºé—´ä¸Šè®°å½•ä¸€ä¸‹è‡³ä»Šå‡å°‘äº†å¤šå°‘, åŠ ä¸ŠåŸæ•°ç»„å³å¯æ±‚å‡ºã€‚ } Code:@card{ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;iostream&gt;#include &lt;cstdio&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1000 + 10;const int inf = 1e9;int n, m, k;int cnt[maxn], leave[maxn], arrive[maxn], w[maxn];lint sum[maxn];int main() &#123; readint(n), readint(m), readint(k); for(rint i=2; i&lt;=n; i++) readint(w[i]); for(rint i=1; i&lt;=m; i++) &#123; int t, st, ed; readint(t), readint(st), readint(ed); cnt[ed]++, sum[ed] += t; leave[st] = max(leave[st], t); &#125; for(rint i=2; i&lt;=n; i++) arrive[i] = max(arrive[i-1], leave[i-1]) + w[i]; while(k != 0) &#123; int res_st = 0, res_ed = 0, res_w = 0, res_cnt = 0; for(rint i=2; i&lt;=n; ) &#123; if(w[i] == 0) &#123; i++; continue; &#125; int now_w = min(w[i], k), now_cnt = 0; rint j = i; for(; j &lt;= n &amp;&amp; arrive[j] &gt; leave[j]; j++) &#123; now_cnt += cnt[j], now_w = min(now_w, arrive[j] - leave[j]); &#125; now_cnt += cnt[j]; if(now_cnt &gt; res_cnt) res_st = i, res_ed = j, res_w = now_w, res_cnt = now_cnt; i = j + 1; &#125; if(res_w == 0) break; w[res_st] -= res_w, k -= res_w; for(rint i=res_st; i&lt;=res_ed; i++) arrive[i] -= res_w; &#125; lint ans = 0; for(rint i=1; i&lt;=n; i++) ans += (lint)cnt[i] * arrive[i] - sum[i]; cout &lt;&lt; ans &lt;&lt; endl; return 0;&#125; }","categories":[{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://arintaro.com/categories/æ¯”èµ›/"},{"name":"NOIP2009","slug":"æ¯”èµ›/NOIP2009","permalink":"http://arintaro.com/categories/æ¯”èµ›/NOIP2009/"},{"name":"é¢˜è§£","slug":"æ¯”èµ›/NOIP2009/é¢˜è§£","permalink":"http://arintaro.com/categories/æ¯”èµ›/NOIP2009/é¢˜è§£/"}],"tags":[{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"http://arintaro.com/tags/è´ªå¿ƒ/"},{"name":"è¿­ä»£","slug":"è¿­ä»£","permalink":"http://arintaro.com/tags/è¿­ä»£/"}]},{"title":"NOIP2009 é“è·¯æ¸¸æˆ","slug":"Contest/NOIP 2009/road","date":"2019-10-23T02:52:08.757Z","updated":"2019-10-23T08:53:33.965Z","comments":true,"path":"2019/10/23/Contest/NOIP 2009/road/","link":"","permalink":"http://arintaro.com/2019/10/23/Contest/NOIP 2009/road/","excerpt":"åƒä¸‡ä¸è¦ä»¥ä¸ºæ™®åŠç»„éƒ½æ˜¯æ°´é¢˜","text":"åƒä¸‡ä¸è¦ä»¥ä¸ºæ™®åŠç»„éƒ½æ˜¯æ°´é¢˜ Description:@card{ é¢˜æ„è¾ƒä¸ºå¤æ‚,å¥—çš„å£³æ¯”è¾ƒå¤š,å¯è§https://www.luogu.org/problem/P1070è¦ç‚¹: åœ¨ä»»æ„æ—¶é—´å¿…é¡»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæœºå™¨äºº,å¯ä»¥èµ”é’± } Solution:@card{ åˆ†æä¸€ä¸‹æ€è·¯,å‘ç°æœ‰æ˜æ˜¾çš„æ—¶é—´é¡ºåº,åˆæ˜¯ä¸€ä¸ªæœ€ä¼˜åŒ–é—®é¢˜,å¯ä»¥ç¡®å®šæ˜¯åŠ¨æ€è§„åˆ’ã€‚è´¹ç”¨æ¯”è¾ƒå¥‡æ€ª,é¢˜é¢æè¿°æ˜¯ä¸ªè¾¹æƒ,ä¸è¿‡æˆ‘ä»¬æ˜¾ç„¶å¯ä»¥ä¸‹æ”¾åˆ°åˆ°ç‚¹ä¸Š,æ¯”å¦‚$1 -&gt; 2 -&gt; 3$,ä»1èµ°ä¸¤æ¬¡åˆ°3,ç´¯åŠ äº†ä¸¤æ®µè·¯ä¸Šé‡‘å¸,å¯ä»¥å‘ç°ä»$i$èµ°$p$æ¬¡å°±æ˜¯ç´¯åŠ $[i, i + x - 1]$çš„é‡‘å¸ã€‚æ‰‹ç©ä¸€ä¸‹å¯ä»¥å‘ç°åªè¦å¯¹è´¹ç”¨çŸ©é˜µæ–œç€æ±‚å‰ç¼€å’Œå³å¯ã€‚ç”±äºæ˜¯ç¯å½¢é—®é¢˜,ä¸ºäº†æ–¹ä¾¿æœ€å¥½æŠŠè¡Œä¸Šçš„ç¼–å·é‡ç¼–è‡³$[0, n-1]$ã€‚å¦‚æœæ²¿ç”¨$[1, n]$, éœ€è¦åœ¨æ¯æ¬¡â€å¯èƒ½è¶Šç•Œå‰â€,å…ˆæŠŠç¼–å·-1å–æ¨¡å†+1æ˜ å°„å›æ¥ã€‚ ç®—æ³•1ï¼šæš´åŠ›DPé¢˜é‡Œæ²¡ä»€ä¹ˆå½±å“å†³ç­–çš„é™åˆ¶æ¡ä»¶,è®°å½•æ—¶é—´å³å¯,è½¬ç§»æ˜¾ç„¶éœ€è¦æšä¸¾å‡ºå‘ç‚¹å’Œèµ°å¤šè¿œ,ç¨å¾®ç®—ä¸‹å¤æ‚åº¦$O(nmp)$ã€‚æœŸæœ›å¾—åˆ†90pts, å®é™…å¾—åˆ†100pts ç®—æ³•2ï¼šè½¬ç§»ä¼˜åŒ–DPç”±äºç»™äº†è¾ƒå¤šçš„éƒ¨åˆ†åˆ†,æˆ‘ä»¬å¯ä»¥ç›¸ä¿¡è¿™ä¸æ­£è§£å·²ç»ç›¸å·®ä¸è¿œ,æ‰€ä»¥å…ˆè€ƒè™‘è½¬ç§»ä¼˜åŒ–,è€Œä¸æ˜¯çŠ¶æ€ä¼˜åŒ–ã€‚ è¿™ç§æ±‚å‰ç¼€å’Œçš„åˆ†æ®µè½¬ç§»æ¨¡å‹,ä¸€èˆ¬å†™å‡ºâ€æˆ‘ä»å“ªé‡Œæ¥â€å½¢å¼çš„æ–¹ç¨‹,æ˜¾ç„¶æˆ‘ä»¬æœ‰: $$dp[i] = min{dp[j] + sum[x][i] - sum[(x - (i - j)) mod n][j] - val[(x - (i - j) + 1) mod n] } ( i - p &lt;= j &lt;= i - 1) $$ æ³¨æ„ä¸€ä¸ªç»†èŠ‚, åºåˆ—ä¸Šçš„â€å‰ç¼€å’Œâ€æ±‚$[l, r]$çš„å’Œæ—¶éœ€è¦ç”¨$sum[r] - sum[l - 1]$,åœ¨æ–¹ç¨‹ä¸­ä½“ç°çš„æ˜¯â€å‡ºå‘ç‚¹äº‹å®ä¸Šæ˜¯$x + 1$â€ã€‚å¦å¤–å…·ä½“å®ç°æ—¶,ç”±äºæ¶‰åŠåˆ°æ¨¡æ„ä¹‰ä¸‹çš„å‡æ³•,å°½é‡åŠ æ¨¡æ•°åå†å–æ¨¡é˜²æ­¢è´Ÿæ•°ã€‚ å†³ç­–å˜é‡ä¸¤ç»´, å‘ç°$n^2$å¯ä»¥æ¥å—, è€ƒè™‘å…ˆæšä¸¾ä¸€ç»´, æ¶‰åŠ$x$çš„é‡è¾ƒå¤š, è€ƒè™‘å…ˆç¡®å®š$x$, ç•¥å»$mod n$å $$dp[i] = min{dp[j] - sum[x - (i - j)][j] - val[x - (i - j) + 1] } + sum[x][i] ( i - p &lt;= j &lt;= i - 1)$$ å¯ä»¥å‘ç°ä¸å¸¸è§„çš„ä¼˜åŒ–DPä¸åŒ, ä¸€ä¸ªå†³ç­–$j$çš„ä»·å€¼å¯èƒ½ä¸$x, i$æœ‰å…³,ä½¿å¾—æˆ‘ä»¬æ— æ³•é«˜æ•ˆçš„ç»´æŠ¤å†³ç­–é›†åˆ,å¦‚æœæˆ‘ä»¬èƒ½ä½¿å¾—$j$çš„ä»·å€¼ä¸$x, i$æ— å…³,å°±å¯ä»¥ç”¨å•è°ƒé˜Ÿåˆ—æˆ–å¹³è¡¡æ ‘ç­‰æ•°æ®ç»“æ„ç›´æ¥ç»´æŠ¤ä»·å€¼,æ¯æ¬¡ç›´æ¥è½¬ç§»,è€Œä¸éœ€è¦åœ¨å¾—åˆ°$x, i$åå¯¹å†³ç­–é›†åˆä¸­çš„æ¯ä¸ªå†³ç­–é‡æ–°è®¡ç®—ä»·å€¼ã€‚ æŠŠç¡®å®šçš„å˜é‡$x, i$æ•´ç†åˆ°ä¸€èµ·å, å‘ç°å†…å±‚ä»·å€¼æ•°ç»„ä¸­çš„ä¸‹æ ‡åªä¸$x - i$æœ‰å…³, è€Œåœ¨$mod n$æ„ä¹‰ä¸‹$x - i$çš„å€¼æ˜¾ç„¶è‡³å¤šåªæœ‰$n$ç§,ä»å¤šé‡èƒŒåŒ…åœ¨å‰©ä½™ç³»ä¸‹çš„ä¼˜åŒ–è½¬ç§»å¾—åˆ°å¯å‘,æˆ‘ä»¬å¯ä»¥æŒ‰å…¶åœ¨å‰©ä½™ç³»çš„æ¨¡æ•°åˆ†ç±»,å¼€$n$ä¸ªä¸åŒçš„å†³ç­–é›†åˆ,è¿™æ ·å¯¹äºå†³ç­–$j$æ¥è®²å…³äº$x - i$çš„éƒ¨åˆ†å³å¯åŒ–ä¸ºå®šå€¼ã€‚é™åˆ¶æ¡ä»¶ä¸­ä¸Šç•Œä¸‹ç•Œå•è°ƒé€’å¢, æ˜¾ç„¶å¯ä»¥ç”¨å•è°ƒé˜Ÿåˆ—æŠŠè½¬ç§»çš„æ—¶é—´æ‘Šåˆ°$O(1)$ ä»å®é™…å«ä¹‰ä¸Šè®²,è¿™å¯¹åº”äº†åœ¨è´¹ç”¨çŸ©é˜µä¸Šä¸åŒçš„â€æ–œåˆ—â€è½¬ç§»(å³æˆ‘ä»¬æ–œç€æ±‚å‰ç¼€å’Œçš„$n$ä¸ªä¸åŒåºåˆ—), æ¯æ¬¡å†…å±‚$x$å¢åŠ æ—¶, å¯¹åº”åœ¨ä¸åŒæ–œåˆ—ä¸Šçš„ç§»åŠ¨ã€‚ æ­¤é¢˜å¯å‘æˆ‘ä»¬å¯ä»¥å¯¹å†³ç­–é›†åˆè¿›è¡Œâ€åˆ†ç±»â€, ä»è€Œæ¶ˆé™¤çŠ¶æ€å˜é‡å¯¹ä¸€ä¸ªå†³ç­–ä»·å€¼çš„å½±å“ã€‚ } Code:@card{ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#define rint register int#define lint long long#define pii pair&lt;int, int&gt;#define mp(x, y) make_pair((x), (y))#define eco(x) ((x) % n == 0 ? n : (x) % n)#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1000 + 10;int n, m, p;int id[maxn][maxn], w[maxn][maxn], c[maxn];int dp[maxn], ql[maxn], qr[maxn];pii mq[maxn][maxn];int main() &#123; memset(dp, 0xc0, sizeof(dp)); readint(n), readint(m), readint(p); for(rint i=1; i&lt;=n; i++) &#123; for(rint j=1; j&lt;=m; j++) &#123; readint(w[i][j]); &#125; &#125; for(rint i=1; i&lt;=n; i++) readint(c[i]); for(rint j=1; j&lt;=m; j++) &#123; for(rint i=1; i&lt;=n; i++) &#123; w[i][j] += w[eco(i-1)][j-1]; &#125; &#125; for(rint i=1; i&lt;=n; i++) &#123; int x = i, y = 1; ql[i] = 1, qr[i] = 1; mq[i][1] = mp(-c[i], 0); while(y &lt;= m) &#123; id[x][y] = i; x = eco(x + 1), y++; &#125; &#125; dp[0] = 0; for(rint t=1; t&lt;=m; t++) &#123; for(rint x=1; x&lt;=n; x++) &#123; int &amp;qid = id[x][t], &amp;l = ql[qid], &amp;r = qr[qid]; pii (&amp;q)[maxn] = mq[qid]; while(l &lt;= r &amp;&amp; t - q[l].second &gt; p) l++; dp[t] = max(dp[t], w[x][t] + q[l].first); &#125; for(rint x=1; x&lt;=n; x++) &#123; int &amp;qid = id[x][t], &amp;l = ql[qid], &amp;r = qr[qid]; pii (&amp;q)[maxn] = mq[qid]; while(l &lt;= r &amp;&amp; q[r].first &lt; dp[t] - w[x][t] - c[eco(x+1)]) r--; q[++r] = mp(dp[t] - w[x][t] - c[eco(x+1)], t); &#125; &#125; cout &lt;&lt; dp[m] &lt;&lt; endl; return 0;&#125; }","categories":[{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://arintaro.com/categories/æ¯”èµ›/"},{"name":"NOIP2009","slug":"æ¯”èµ›/NOIP2009","permalink":"http://arintaro.com/categories/æ¯”èµ›/NOIP2009/"},{"name":"é¢˜è§£","slug":"æ¯”èµ›/NOIP2009/é¢˜è§£","permalink":"http://arintaro.com/categories/æ¯”èµ›/NOIP2009/é¢˜è§£/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://arintaro.com/tags/åŠ¨æ€è§„åˆ’/"},{"name":"ç¯å½¢å¤„ç†","slug":"ç¯å½¢å¤„ç†","permalink":"http://arintaro.com/tags/ç¯å½¢å¤„ç†/"},{"name":"åŠ¨æ€è§„åˆ’çš„è½¬ç§»ä¼˜åŒ–","slug":"åŠ¨æ€è§„åˆ’çš„è½¬ç§»ä¼˜åŒ–","permalink":"http://arintaro.com/tags/åŠ¨æ€è§„åˆ’çš„è½¬ç§»ä¼˜åŒ–/"},{"name":"å•è°ƒé˜Ÿåˆ—","slug":"å•è°ƒé˜Ÿåˆ—","permalink":"http://arintaro.com/tags/å•è°ƒé˜Ÿåˆ—/"}]},{"title":"ç®—æ³•å­¦ä¹ èµ„æ–™æ±‡æ€»","slug":"Essay/ç®—æ³•å­¦ä¹ èµ„æ–™æ±‡æ€»","date":"2019-10-01T05:19:49.561Z","updated":"2019-10-30T12:47:14.349Z","comments":true,"path":"2019/10/01/Essay/ç®—æ³•å­¦ä¹ èµ„æ–™æ±‡æ€»/","link":"","permalink":"http://arintaro.com/2019/10/01/Essay/ç®—æ³•å­¦ä¹ èµ„æ–™æ±‡æ€»/","excerpt":"ä¸»è¦é€‰å½•äº†ä¸€äº›é›†è®­é˜Ÿè®ºæ–‡ã€å¤§ç¥è¯¾ä»¶ï¼Œå’Œæˆ‘è®¤ä¸ºè®²çš„ä¸é”™çš„blogç”±äºæˆ‘ä¹‹å‰åœ¨å­¦ã€Šç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ã€‹ï¼Œè¿™æœ¬ä¹¦ä¸Šæœ‰çš„ç®—æ³•å¤§æ¦‚æ²¡æœ‰","text":"ä¸»è¦é€‰å½•äº†ä¸€äº›é›†è®­é˜Ÿè®ºæ–‡ã€å¤§ç¥è¯¾ä»¶ï¼Œå’Œæˆ‘è®¤ä¸ºè®²çš„ä¸é”™çš„blogç”±äºæˆ‘ä¹‹å‰åœ¨å­¦ã€Šç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ã€‹ï¼Œè¿™æœ¬ä¹¦ä¸Šæœ‰çš„ç®—æ³•å¤§æ¦‚æ²¡æœ‰ ä¸€ã€æ•°å­¦@card{ çº¿æ€§åŸº https://ouuan.github.io/%E7%BA%BF%E6%80%A7%E5%9F%BA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ https://blog.csdn.net/a_forever_dream/article/details/83654397 åšå¼ˆè®º https://www.cnblogs.com/Wolfycz/p/8430991.html 2007å›½å®¶é›†è®­é˜Ÿè®ºæ–‡ï¼šç‹æ™“ç‚ã€Šè§£æä¸€ç±»ç»„åˆæ¸¸æˆã€‹ 2009å›½å®¶é›†è®­é˜Ÿè®ºæ–‡ï¼šè´¾å¿—è±ªã€Šç»„åˆæ¸¸æˆç•¥è¿°â€”â€”æµ…è°ˆSGæ¸¸æˆçš„è‹¥å¹²æ‹“å±•åŠå˜å½¢ã€‹ å¥‡å¼‚çš„æ•°åˆ— æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼šhttps://www.luogu.org/blog/Loveti/fei-bo-nei-qie-shuo-lieã€ $f[n+m]=f[mâˆ’1]âˆ—f[n]+f[m]âˆ—f[n+1]$ åˆç­‰æ•°è®º https://sshwy.tk/2019/01/52170/ åº·æ‰˜å±•å¼€ https://www.luogu.org/blog/abc123-yummy/huoxingren å…¶å®æ˜¯è§„å®šäº†ä¸€ç§æ–°çš„è¿›åˆ¶} äºŒã€å›¾è®º@card{ è´Ÿç¯ä¸å·®åˆ†çº¦æŸ æ±‚æœ€å¤§å€¼:åˆå§‹åŒ–inf, è·‘æœ€çŸ­è·¯ã€æ±‚æœ€å°å€¼:åˆå§‹åŒ–-inf, è·‘æœ€é•¿è·¯ SPFAçš„ä¸‰ç§ä¼˜åŒ–: å¤§äºé˜Ÿå¤´ä»é˜Ÿå°¾å…¥é˜Ÿã€æ¯æ¬¡é˜Ÿåˆ—å˜åŒ–æ—¶æ£€æŸ¥é˜Ÿå¤´é˜Ÿå°¾è·ç¦»swapã€å¡æ—¶2e7 åŒè”é€šåˆ†é‡ https://linkfqy.github.io/posts/BCC_and_Tarjan/ æ±‚ç‚¹åŒè”é€šåˆ†é‡ï¼Œæ ¹èŠ‚ç‚¹åœ¨æœç´¢æ ‘ä¸Šéœ€è¦æœ‰ä¸¤ä¸ªå­æ ‘æ‰èƒ½è¢«åˆ¤å®šä¸ºå‰²ç‚¹ } ä¸‰ã€å­—ç¬¦ä¸²@card{ ACè‡ªåŠ¨æœºhttps://ouuan.github.io/AC%E8%87%AA%E5%8A%A8%E6%9C%BA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/https://oi-wiki.org/string/ac-automaton/ } å››ã€æ•°æ®ç»“æ„@card{ è«é˜Ÿ https://www.cnblogs.com/WAMonster/p/10118934.html ã€Šç®—æ³•ç«èµ›ä¸­çš„åˆ†å—æ€æƒ³ã€‹ æ­å·å­¦å†›ä¸­å­¦ â¾•æ™Ÿ } äº”ã€åŠ¨æ€è§„åˆ’@card { æ‚¬çº¿æ³• 2003å›½å®¶é›†è®­é˜Ÿè®ºæ–‡ã€Šæµ…è°ˆç”¨æå¤§åŒ–æ€æƒ³è§£å†³æœ€å¤§å­çŸ©å½¢é—®é¢˜ã€‹ç‹çŸ¥æ˜† æ ‘å½¢èƒŒåŒ…çš„ä¼˜åŒ– https://ouuan.github.io/%E6%A0%91%E4%B8%8A%E8%83%8C%E5%8C%85%E7%9A%84%E4%B8%8A%E4%B8%8B%E7%95%8C%E4%BC%98%E5%8C%96/ }","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://arintaro.com/categories/ç®—æ³•/"}],"tags":[{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://arintaro.com/tags/æ€»ç»“/"}]},{"title":"åŸºç¡€æ•°å­¦æ€»ç»“","slug":"Algorithm/åŸºç¡€æ•°å­¦æ€»ç»“","date":"2019-09-25T07:56:33.502Z","updated":"2019-10-01T06:52:50.957Z","comments":true,"path":"2019/09/25/Algorithm/åŸºç¡€æ•°å­¦æ€»ç»“/","link":"","permalink":"http://arintaro.com/2019/09/25/Algorithm/åŸºç¡€æ•°å­¦æ€»ç»“/","excerpt":"","text":"ä¸€ã€æ•°è®º@card{ (ä¸€) è´¨æ•°ä¸å› å­ç›¸å…³1.å¯¹äºä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ•´æ•°Nï¼Œä¸è¶…è¿‡Nçš„è´¨æ•°å¤§çº¦æœ‰$\\frac{N}{ln(n)}$ä¸ª2.ä¸€ä¸ªæ•°è‡³å°‘æœ‰ä¸€ä¸ªå°äº$\\sqrt{n}$çš„å› å­ï¼Œè‡³å¤šå­˜åœ¨ä¸€ä¸ªè¶…è¿‡$\\sqrt{n}$çš„å› å­ï¼Œå› æ­¤ä¸å°‘ç®—æ³•å¯ä»¥åªè·‘åˆ°$\\sqrt{n}â€‹$3.åŸƒç­›(1) æ¯ä¸ªæ•°ä»$x^2â€‹$å¼€å§‹ç­›å³å¯ (2) ç”¨$\\sqrt{r}$å†…çš„æ•°å°±å¯ä»¥å¯¹$[l, r]$è¿›è¡ŒåŒºé—´ç­› 4.çº¿ç­›(1) é€šè¿‡â€œç§¯ç´¯æœ€å°è´¨å› å­â€çš„æ–¹æ³•ï¼Œå»é™¤åˆæ•° 5.è´¨å› æ•°åˆ†è§£(1) ä¸å°‘é¢˜å¯ä»¥é€šè¿‡ç®—æœ¯åŸºæœ¬å®šç†æ‰¾å‡ºæƒ³æ³• (2) è¯•é™¤æ³•æœ€åéœ€è¦ç‰¹åˆ¤å‰©ä¸‹æ¥ä¸ªå¤§äº$\\sqrt{n}$çš„è´¨æ•°çš„æƒ…å†µ (3) æœ‰æ—¶å€™ä¹Ÿå¯ä»¥åè¿‡æ¥ç»Ÿè®¡ï¼Œä¸è€ƒè™‘å®ƒæœ‰ä»€ä¹ˆå› å­ï¼Œè€Œæ˜¯è€ƒè™‘â€œæ¯ä¸ªå› å­æœ‰å¤šå°‘ä¸ªâ€ï¼Œé˜¶ä¹˜å¿«é€Ÿåˆ†è§£å’Œå€æ•°æ³•åŸºäºæ­¤æ€æƒ³ } @card{ (äºŒ) åŒä½™ã€å–æ¨¡ç›¸å…³1.ä¸å°‘æ¨¡éè´¨æ•°çš„é¢˜ç›®ï¼Œéœ€è¦å¯¹æ¨¡æ•°åˆ†è§£æˆè´¨å› å­ï¼Œæœ€åç”¨CRT/EXCTRåˆå¹¶ç­”æ¡ˆ}","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://arintaro.com/categories/ç®—æ³•/"},{"name":"æ•°å­¦","slug":"ç®—æ³•/æ•°å­¦","permalink":"http://arintaro.com/categories/ç®—æ³•/æ•°å­¦/"}],"tags":[{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://arintaro.com/tags/æ€»ç»“/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://arintaro.com/tags/æ•°å­¦/"}]},{"title":"åŸºç¡€æ•°è®º","slug":"Template/åŸºç¡€ç®—æ³•/base","date":"2019-09-23T13:41:18.234Z","updated":"2019-10-28T14:06:53.665Z","comments":true,"path":"2019/09/23/Template/åŸºç¡€ç®—æ³•/base/","link":"","permalink":"http://arintaro.com/2019/09/23/Template/åŸºç¡€ç®—æ³•/base/","excerpt":"","text":"1.å½’å¹¶æ’åºæ±‚é€†åºå¯¹@card{ $Test Site:$ https://www.acwing.com/problem/content/109/ $Code:$ 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;queue&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 5e5 + 10;// 9 1 0 5 4int n;lint ans = 0;int arr[maxn], temp[maxn];void msort(int l, int r) &#123; if(l == r) return; int mid = (l + r) &gt;&gt; 1; msort(l, mid), msort(mid+1, r); // åœ¨åé¢è¿˜å° for(rint i=l, j=mid+1, p=l; p&lt;=r; p++) &#123; // ä¸€å®šè¦è®¨è®ºé€‰å®Œçš„æƒ…å†µ if(j &gt; r || i &lt;= mid &amp;&amp; arr[i] &lt;= arr[j]) temp[p] = arr[i++]; else temp[p] = arr[j++], ans += mid - i + 1; &#125; for(rint i=l; i&lt;=r; i++) arr[i] = temp[i];&#125;int main() &#123; while(cin &gt;&gt; n &amp;&amp; n) &#123; ans = 0; for(rint i=1; i&lt;=n; i++) readint(arr[i]); msort(1, n); printf(\"%lld\\n\", ans); &#125; return 0;&#125; }","categories":[{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"http://arintaro.com/categories/æ¨¡æ¿/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://arintaro.com/tags/æ•°å­¦/"},{"name":"æ•°è®º","slug":"æ•°è®º","permalink":"http://arintaro.com/tags/æ•°è®º/"}]},{"title":"åŸºç¡€æ•°è®º","slug":"Template/æ•°è®º/åŸºç¡€æ•°è®º","date":"2019-09-23T11:05:47.314Z","updated":"2019-09-23T11:12:04.557Z","comments":true,"path":"2019/09/23/Template/æ•°è®º/åŸºç¡€æ•°è®º/","link":"","permalink":"http://arintaro.com/2019/09/23/Template/æ•°è®º/åŸºç¡€æ•°è®º/","excerpt":"","text":"1.åˆ¤æ–­ç´ æ•°@card{ $Test Site:$ https://www.luogu.org/problem/P3383 $Code:$ 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#include &lt;cmath&gt;#define readint(x) scanf(\"%d\",&amp;(x))#define read3(x,y,z) scanf(\"%d %d %d\",&amp;(x),&amp;(y),&amp;(z))#define putint(x) printf(\"%d \",(x))#define rint register intusing namespace std;bool isprime(int x)&#123; if(x==2||x==3) return 1; if(x==0||x==1||(x%6!=1&amp;&amp;x%6!=5)) return 0; int t = sqrt(x); for(rint i=5; i&lt;=t; i+=6) if(x%i==0||x%(i+2)==0) return 0; return 1;&#125;int main()&#123; int x , n; readint(x) , readint(n); while(n--)&#123; readint(x); puts(isp(x) ? \"Yes\" : \"No\"); &#125; return 0;&#125; }","categories":[{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"http://arintaro.com/categories/æ¨¡æ¿/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://arintaro.com/tags/æ•°å­¦/"},{"name":"æ•°è®º","slug":"æ•°è®º","permalink":"http://arintaro.com/tags/æ•°è®º/"}]},{"title":"å°å‹å†·é—¨çŸ¥è¯†ç‚¹æ±‡æ€»","slug":"Algorithm/å°å‹å†·é—¨çŸ¥è¯†ç‚¹æ±‡æ€»","date":"2019-04-28T06:06:16.512Z","updated":"2019-05-05T03:33:51.723Z","comments":true,"path":"2019/04/28/Algorithm/å°å‹å†·é—¨çŸ¥è¯†ç‚¹æ±‡æ€»/","link":"","permalink":"http://arintaro.com/2019/04/28/Algorithm/å°å‹å†·é—¨çŸ¥è¯†ç‚¹æ±‡æ€»/","excerpt":"","text":"å›¾è®º Johnson ç®—æ³• /åŸå§‹å¯¹å¶ç®—æ³• $site:$ https://zhuanlan.zhihu.com/p/48523094ã€https://www.cnblogs.com/tkandi/p/10532774.html ç”¨é€”ï¼šç”¨ä¸‹ç•Œ$O(NM)$çš„æ—¶é—´è·‘ä¸€é$SPFA$æ¶ˆé™¤å›¾å†…æ‰€æœ‰è´Ÿæƒè¾¹ï¼Œç”¨ä»¥ä¹‹åè·‘$DJ$çš„å…¨æºæœ€çŸ­è·¯å¾„æˆ–è€…è·‘è´¹ç”¨æµã€‚é€‚ç”¨äºéœ€è¦å¤šæ¬¡æ±‚æœ€çŸ­è·¯çš„é—®é¢˜ï¼Œæœ‰æ—¶å€™ç”šè‡³å¯ä»¥å¸¦æ¥çº§ ##","categories":[],"tags":[{"name":"ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨","slug":"ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨","permalink":"http://arintaro.com/tags/ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨/"}]},{"title":"EXæ•°æ®ç»“æ„","slug":"Template/æ•°æ®ç»“æ„/ex","date":"2019-04-28T02:46:22.952Z","updated":"2019-10-28T14:07:02.441Z","comments":true,"path":"2019/04/28/Template/æ•°æ®ç»“æ„/ex/","link":"","permalink":"http://arintaro.com/2019/04/28/Template/æ•°æ®ç»“æ„/ex/","excerpt":"æ‰€è°“çš„EXï¼Œå¹¶ä¸æ˜¯æŒ‡å¾ˆå‰å®³çš„æ•°æ®ç»“æ„ï¼Œæ˜¯æŒ‡â€é¢å¤–çš„â€ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯æˆ‘ä»¬å¹³æ—¶ç”¨çš„æ•°æ®ç»“æ„å†™æ³•éº»çƒ¦çš„åŠ å¼ºç‰ˆï¼Œå¯ä»¥ä¼˜åŒ–å¸¸æ•°æˆ–é™ä¸€äº›å¤æ‚åº¦ï¼Œä½†ä¸æ˜¯å¿…é¡»çš„ã€‚","text":"æ‰€è°“çš„EXï¼Œå¹¶ä¸æ˜¯æŒ‡å¾ˆå‰å®³çš„æ•°æ®ç»“æ„ï¼Œæ˜¯æŒ‡â€é¢å¤–çš„â€ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯æˆ‘ä»¬å¹³æ—¶ç”¨çš„æ•°æ®ç»“æ„å†™æ³•éº»çƒ¦çš„åŠ å¼ºç‰ˆï¼Œå¯ä»¥ä¼˜åŒ–å¸¸æ•°æˆ–é™ä¸€äº›å¤æ‚åº¦ï¼Œä½†ä¸æ˜¯å¿…é¡»çš„ã€‚ EXå †-é…å¯¹å †@card{ è¯·ä¸è¦å¯¹æˆ‘æŠ±æœ‰ä¼šå†™æ–æ³¢é‚£å¥‘å †çš„æœŸæœ›ã€‚ $test\\ site: $&lt; https://lydsy.com/JudgeOnline/problem.php?id=3040&gt; $task:$ å®ç°é…å¯¹å †å®Œæˆæœ€çŸ­è·¯ï¼Œæ¯æ¬¡$push$è¾“å…¥èŠ‚ç‚¹ç¼–å·ï¼Œ$top$è¿”å›æœ€çŸ­ç‚¹çš„èŠ‚ç‚¹ç¼–å·ï¼Œæ³¨æ„ç©ºé—´è¦æ±‚$O(n)$ï¼Œä¹Ÿå°±æ˜¯è¯´æ‚¨è¦å®ç°ä¸€ä¸ªå†…å­˜æ± ã€‚ $note: $ç»´æŠ¤è¿™ç§å¤šé‡ç¼–å·æ˜ å°„ï¼Œä¸€å®šè¦åˆ—è¡¨éœ€è¦ç»´æŠ¤çš„ä¸œè¥¿ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cmath&gt;#include &lt;cstring&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')#define pii pair&lt;int, int&gt;template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1000000 + 10;const int maxm = 10000000 + 10;const int inf = 0x7f7f7f7f;lint dist[maxn];struct Heap&#123;&#125;q;int n, m, s;int head[maxn], ev[maxm], ew[maxm], nxt[maxm];int totedge = 0;inline void addedge(int nu, int nv, int nw) &#123; ev[++totedge] = nv, ew[totedge] = nw, nxt[totedge] = head[nu]; head[nu] = totedge;&#125;void calc_sp() &#123; memset(dist, 0x7f, sizeof(lint) * (n+1)); dist[s] = 0, q.push(s); while(!q.empty()) &#123; int x = q.top(); q.pop(); for(rint i=head[x], y=ev[i]; i; i=nxt[i], y=ev[i]) &#123; if(dist[y] &gt; dist[x] + ew[i]) &#123; dist[y] = dist[x] + ew[i]; q.update(y); &#125; &#125; &#125;&#125;int main() &#123; int T, nu, nv, nw; lint x = 0, y = 0, a, b; lint rxa, rxc, rya, ryc, rp; readint(n), readint(m), s = 1; readint(T), readint(rxa), readint(rxc), readint(rya), readint(ryc), readint(rp); while(T--) &#123; x=(x*rxa+rxc)%rp; y=(y*rya+ryc)%rp; a=min(x%n+1,y%n+1); b=max(y%n+1,y%n+1); addedge(a, b, 1e8 - 100 * a); &#125; while(m--) &#123; readint(nu), readint(nv), readint(nw); addedge(nu, nv, nw); &#125; calc_sp(); printf(\"%lld\\n\", dist[n]); return 0;&#125; } 2.","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://arintaro.com/categories/æ•°æ®ç»“æ„/"}],"tags":[{"name":"ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨","slug":"ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨","permalink":"http://arintaro.com/tags/ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://arintaro.com/tags/æ•°æ®ç»“æ„/"},{"name":"æ–°ç§‘æŠ€","slug":"æ–°ç§‘æŠ€","permalink":"http://arintaro.com/tags/æ–°ç§‘æŠ€/"}]},{"title":"åŸºç¡€å›¾è®ºæ¨¡æ¿","slug":"Template/å›¾è®º/åŸºç¡€å›¾è®º","date":"2019-04-27T13:23:23.969Z","updated":"2019-05-08T08:04:19.163Z","comments":true,"path":"2019/04/27/Template/å›¾è®º/åŸºç¡€å›¾è®º/","link":"","permalink":"http://arintaro.com/2019/04/27/Template/å›¾è®º/åŸºç¡€å›¾è®º/","excerpt":"éœ€è¦$3min$å†…å®ç°ä»»æ„ä¸€ä¸ª","text":"éœ€è¦$3min$å†…å®ç°ä»»æ„ä¸€ä¸ª è´Ÿç¯çš„åˆ¤å®š@card{ $test\\ site: $https://www.luogu.org/problemnew/show/P3385 $task: $ 600msä»¥å†…åˆ¤å®šè´Ÿç¯ï¼Œè¯·æ³¨æ„ï¼Œæœ‰å¤šç»„æ•°æ®ï¼Œè¦æ±‚å®ç°clearå‡½æ•°ï¼ˆåŒ…æ‹¬é‚»æ¥è¡¨ $tips: $ å¯¹äº$O(NM)$èƒ½è·‘è¿‡å»å¤æ‚åº¦æ­£ç¡®çš„ï¼Œå»ºè®®å†™$BFS_SPFA + SLF_SWAP$ï¼Œå¤æ‚åº¦ä¸å¯¹çš„å†™$DFS$ $extra:?$?â€åŒæ—¶è®°å½•èŠ‚ç‚¹å…¥é˜Ÿæ¬¡æ•°â€ã€â€å¡æ—¶â€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;queue&gt;#define rint register int#define lint long long#define isnum(x) (&apos;0&apos; &lt;= (x) &amp;&amp; (x) &lt;= &apos;9&apos;)template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == &apos;-&apos;) f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - &apos;0&apos;; x *= f;&#125;using namespace std;const int maxn = 2000 + 10;const int maxm = 6000 + 10;int n, m, start = 1;int head[maxn], ev[maxm], ew[maxm], nxt[maxm];int totedge = 0;inline void addedge(int nu, int nv, int nw) &#123; ev[++totedge] = nv, ew[totedge] = nw, nxt[totedge] = head[nu]; head[nu] = totedge;&#125;struct Queue&#123; int arr[maxn]; int l, r, size; inline void init() &#123; l = 1, r = 0, size = maxn - 10; &#125; inline void push(int x) &#123; if(r == size) r = 0; arr[++r] = x; &#125; inline int pop() &#123; if(l == size) &#123;l = 1; return arr[size]; &#125; return arr[l++]; &#125; inline bool empty() &#123; return l == r + 1; &#125;&#125;q;void clear() &#123; &#125;bool check() &#123; &#125;int main() &#123; int T; readint(T); while(T--) &#123; int nu, nv, nw; readint(n), readint(m); clear(); for(rint i=1; i&lt;=m; i++) &#123; readint(nu), readint(nv), readint(nw); addedge(nu, nv, nw); if(nw &gt;= 0) addedge(nv, nu, nw); &#125; puts(check() ? &quot;YE5&quot; : &quot;N0&quot;); &#125; return 0;&#125; } é‚»æ¥è¡¨çš„åˆ é™¤æ“ä½œcard{ å¯ä»¥ç»´æŠ¤ä¸€ä¸ªåˆ é™¤æ ‡è®°ï¼Œä½†æ˜¯è¿™ä¹ˆåšåœ¨æœ‰äº›ç®—æ³•é‡Œä¼šå¯¼è‡´å¤æ‚åº¦(ç©ºé—´oræ—¶é—´)é€€åŒ–ï¼Œå…·ä½“æµ‹è¯•å¯ä»¥å»å†™å³æ—¶åˆ é™¤çš„é…å¯¹å †ã€‚ æ˜¾ç„¶æˆ‘ä»¬å¯ä»¥å†ç»´æŠ¤ä¸€ä¸ª$pre$åŸŸï¼Œåƒæ™®é€šé“¾è¡¨ä¸€æ ·åˆ é™¤ï¼Œä½†æ˜¯è¿‡äºéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠè¿™æ¡è¾¹çš„æ•°æ®ä¸è¡¨å¤´äº¤æ¢ï¼Œç„¶åè®©è¡¨å¤´æŒ‡å‘ä¸‹ä¸€ä¸ªï¼Œä½†æ˜¯è¿™ä¹ˆåšä¼šå¯¼è‡´è¾¹åºå·ä¹±åºï¼Œéœ€è¦æ³¨æ„æˆå¯¹å˜æ¢ç­‰å¯¹è¾¹åºå·æœ‰è¦æ±‚çš„ä¿¡æ¯ã€‚ } SPFAæ±‚æœ€é•¿è·¯card{ æˆ‘ä»¬ç»å¸¸å†™$DJ$ï¼Œä¹Ÿç»å¸¸å†™æœ€çŸ­è·¯ï¼Œä½†æ˜¯æœ€é•¿è·¯+$SPFA$æˆ‘ç¬¬ä¸€æ¬¡å†™çš„æ—¶å€™å´æŒ‚äº†ã€‚ã€‚ $test\\ stie: $ https://www.acwing.com/activity/content/code/content/34854/ $task:$ å®ç°å¾ªç¯é˜Ÿåˆ—ï¼Œåˆå§‹åŒ–$dist[1] = 0$ï¼Œæ±‚æœ€é•¿è·¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;queue&gt;#include &lt;algorithm&gt;#define rint register int#define lint long long#define pii pair&lt;int, int&gt;#define mp(x, y) make_pair(x, y)#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 100000 + 10;const int maxm = 2 * (maxn + maxn);int n, max_val;int dist[maxn];int head[maxn], ev[maxm], ew[maxm], nxt[maxm];int totedge = 0;inline void addedge(int nu, int nv, int nw) &#123; ev[++totedge] = nv, ew[totedge] = nw, nxt[totedge] = head[nu]; head[nu] = totedge;&#125;struct Queue&#123; int q[maxn]; int l, r, size;&#125;q;void calc_sp() &#123; &#125;int main() &#123; int nu, nv, nw; readint(n); for(rint i=1; i&lt;=n; i++) &#123; readint(nu), readint(nv), readint(nw); nu += 1, nv += 2; // èŠ‚ç‚¹ç¼–å·[1, 50002] addedge(nu, nv, nw); max_val = max(max_val, max(nu, nv)); &#125; for(rint i=1; i&lt;=max_val-1; i++) addedge(i, i+1, 0), addedge(i+1, i, -1); calc_sp(); printf(\"%d\\n\", dist[max_val] - dist[1]); return 0;&#125; } æ— å‘å›¾çš„å‰²è¾¹card{ $test\\ site: $https://www.acwing.com/problem/content/365/ $task: $å®ç°åˆ¤æ–­å‰²è¾¹ï¼Œå¤„ç†å‡ºæœç´¢æ ‘çš„$deep$ï¼Œ$fa$æ•°ç»„ï¼Œå¹¶åœ¨å‰²è¾¹çš„å­èŠ‚ç‚¹ä¸Šæ ‡è®°$val[y] = 1$ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;extern inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 100000 + 10;const int maxm = 2 * 2 * maxn;int n, m, root = 1;int ans = 0;int head[maxn], ev[maxm], nxt[maxm], totedge = 1;inline void addedge(int nu, int nv) &#123; ev[++totedge] = nv, nxt[totedge] = head[nu], head[nu] = totedge;&#125;int dfn[maxn], low[maxn], tot = 0;int deep[maxn], val[maxn], fa[maxn];void dfs(int x, int ind) &#123; low[x] = dfn[x] = ++tot; for(rint i=head[x], y=ev[i]; i; i=nxt[i], y=ev[i]) &#123; if(i == ind) continue; if(!dfn[y]) &#123; deep[y] = deep[x] + 1, fa[y] = x, dfs(y, i ^ 1); low[x] = min(low[x], low[y]); if(low[y] &gt; dfn[x]) val[y] = 1, ans++; &#125;else low[x] = min(low[x], dfn[y]); &#125;&#125;void clear() &#123; ans = tot = 0, totedge = 1; memset(head, 0, sizeof(int) * (n+1)); memset(dfn, 0, sizeof(int) * (n+1)); memset(val, 0, sizeof(int) * (n+1));&#125;int mem[maxn];void ask(int x, int y) &#123; int res = 0, s = 0; if(deep[x] &lt; deep[y]) swap(x, y); while(deep[x] &gt; deep[y]) &#123; mem[++s] = x, x = fa[x]; &#125; while(x != y) &#123; mem[++s] = x, mem[++s] = y; x = fa[x], y = fa[y]; &#125; for(rint i=1; i&lt;=s; i++) &#123; res += val[mem[i]], val[mem[i]] = 0; fa[mem[i]] = x; &#125; ans -= res;&#125;int main() &#123; int T = 0; int nu, nv; while(cin &gt;&gt; n &gt;&gt; m &amp;&amp; n &amp;&amp; m) &#123; clear(); printf(\"Case %d:\\n\", ++T); while(m--) &#123; readint(nu), readint(nv); addedge(nu, nv), addedge(nv, nu); &#125; dfs(root, 0); readint(m); while(m--) &#123; readint(nu), readint(nv); ask(nu, nv); printf(\"%d\\n\", ans); &#125; puts(\"\"); &#125; return 0;&#125; $Solution:$ æ³¨æ„çˆ¶èŠ‚ç‚¹æ¥çš„è¾¹ä¸èƒ½æ›´æ–°ï¼Œå…·ä½“ç”¨æˆå¯¹å˜æ¢å®ç°ï¼Œå‰²ç‚¹ä¸ç”¨è®°å½•ï¼Œéƒ½èƒ½æ›´æ–°ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼ŒæŒ‰ç…§å¸¸è§„å‰²ç‚¹å®šä¹‰ï¼Œæ ¹èŠ‚ç‚¹å¿…é¡»æœ‰ä¿©å„¿å­â€œå¤§äºç­‰äºâ€ï¼Œæ‰èƒ½åˆ¤æ–­æ˜¯ï¼Œå‰²è¾¹åˆ™æ˜¯â€œå¤§äºâ€ã€‚ } æ— å‘å›¾çš„$v-dcc$ç¼©ç‚¹ + äºŒåˆ†å›¾åˆ¤å®š@card{ $test\\ site:â€‹$ https://www.acwing.com/problem/content/367/ $task:$ åˆ’åˆ†å‡ºå›¾ä¸­çš„æ¯ä¸ª$vdcc$ï¼Œå¹¶åˆ¤å®šå…¶æ˜¯å¦æ˜¯äºŒåˆ†å›¾ï¼ˆæ˜¯å¦å­˜åœ¨å¥‡ç¯ï¼‰ï¼Œæ˜¯çš„è¯å°†å…¶æ¯ä¸ªèŠ‚ç‚¹çš„$suc$å€¼è®¾ä¸º$1$ï¼Œå¹¶å®ç°å¤šç»„æ•°æ®çš„æ¸…ç©ºå‡½æ•° $note:$ ç°ç”¨ç°æ ‡è®°ï¼Œè§£å†³å‰²ç‚¹é‡å é—®é¢˜ 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;vector&gt;#include &lt;cstring&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;extern inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1e3 + 10;const int maxm = 1e6 + 4 * maxn;int n, m;int edge[maxn][maxn];int head[maxn], nxt[maxm], ev[maxm], totedge = 1;inline void addedge(int x, int y) &#123; ev[++totedge] = y, nxt[totedge] = head[x], head[x] = totedge;&#125;int main() &#123; int nu, nv; while(cin &gt;&gt; n &gt;&gt; m &amp;&amp; n &amp;&amp; m) &#123; while(m--) readint(nu), readint(nv), edge[nu][nv] = edge[nv][nu] = 1; for(rint i=1; i&lt;=n; i++) &#123; for(rint j=i+1; j&lt;=n; j++) &#123; // è™½ç„¶åœ¨å®Œå…¨å›¾ä¸Šç”¨é‚»æ¥è¡¨ååˆ†å¼±æ™º,ä½†å¯ä»¥é™ä½å¸¸æ•° if(!edge[i][j]) addedge(i, j), addedge(j, i); &#125; &#125; int ans = 0; for(rint i=1; i&lt;=n; i++) ans += (suc[i] == 0); printf(\"%d\\n\", ans); clear(); &#125; return 0;&#125; } æ¬§æ‹‰å›è·¯çš„å…·ä½“æ–¹æ¡ˆ $test\\ site:$ https://www.acwing.com/problem/content/368/ $task:$ å¯»æ‰¾ä¸€ä¸ªä»$1$å‡ºå‘ï¼Œéå†æ‰€æœ‰è¾¹ä¸¤æ¬¡çš„å…·ä½“æ–¹æ¡ˆï¼Œä¿è¯æœ‰è§£ã€‚ $tips:$ æ³¨æ„å…¥æ ˆæ–¹æ³•çš„å®é™…å«ä¹‰ã€‚ 12345678910111213141516171819202122232425262728293031323334353637#include &lt;iostream&gt;#include &lt;cstdio&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;extern inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 1e4 + 10;const int maxm = 1e5 + 10;int n, m;int head[maxn], ev[maxm], nxt[maxm], totedge = 1;inline void addedge(int nu, int nv) &#123; ev[++totedge] = nv, nxt[totedge] = head[nu], head[nu] = totedge;&#125;int ans[maxm], tot = 0;int s[maxm], top = 0;void solve() &#123; &#125;int main() &#123; int nu, nv; readint(n), readint(m); while(m--) readint(nu), readint(nv), addedge(nu, nv), addedge(nv, nu); solve(); for(rint i=1; i&lt;=tot; i++) printf(\"%d\\n\",ans[i]); return 0;&#125; 7.","categories":[{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"http://arintaro.com/categories/æ¨¡æ¿/"}],"tags":[{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"http://arintaro.com/tags/å›¾è®º/"}]},{"title":"åŸºç¡€æ•°æ®ç»“æ„","slug":"Template/æ•°æ®ç»“æ„/base","date":"2019-04-27T12:44:23.105Z","updated":"2019-10-28T14:06:59.668Z","comments":true,"path":"2019/04/27/Template/æ•°æ®ç»“æ„/base/","link":"","permalink":"http://arintaro.com/2019/04/27/Template/æ•°æ®ç»“æ„/base/","excerpt":"è™½ç„¶STLæœ‰ï¼Œä½†æ˜¯ä¸ºäº†é˜²æ¯’ç˜¤å‡ºé¢˜äººä¸$O(1)$çš„æ¸…ç©ºï¼Œè¿˜æ˜¯éœ€è¦åœ¨$2min$å†…å®ç°ä»»æ„ä¸€ä¸ªï¼Œå‡ºé”™å¯å°±ä¸¢äººäº†ã€‚","text":"è™½ç„¶STLæœ‰ï¼Œä½†æ˜¯ä¸ºäº†é˜²æ¯’ç˜¤å‡ºé¢˜äººä¸$O(1)$çš„æ¸…ç©ºï¼Œè¿˜æ˜¯éœ€è¦åœ¨$2min$å†…å®ç°ä»»æ„ä¸€ä¸ªï¼Œå‡ºé”™å¯å°±ä¸¢äººäº†ã€‚ å¾ªç¯é˜Ÿåˆ—@card{ $test \\ site:$https://www.luogu.org/problemnew/show/P3385 $task:$å®ç°ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—ï¼Œè¦æ±‚æœ‰$empty \\ \\ push\\ init(O(1))\\ \\ pop\\ \\ front $ $note:$ä¸€èˆ¬ç”¨äºéœ€è¦å¤šæ¬¡æ¸…ç©ºé˜Ÿåˆ—ä¸”å·²çŸ¥â€é˜Ÿåˆ—é‡ŒåŒæ—¶å­˜åœ¨çš„æœ€å¤šå…ƒç´ æ•°é‡â€ï¼ˆä¾‹å¦‚äºŒåˆ†ç­”æ¡ˆ+BFSï¼‰ï¼Œæ¯”èµ·STLçš„queueï¼Œæ‰‹å†™çš„å¯ä»¥O(1)æ¸…ç©ºã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879// test site: https://www.luogu.org/problemnew/show/P3385// task: å®ç°ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—ï¼Œè¦æ±‚æœ‰empty push init(O(1)) pop front // note: ä¸€èˆ¬ç”¨äºéœ€è¦å¤šæ¬¡æ¸…ç©ºé˜Ÿåˆ—ä¸”å·²çŸ¥\"é˜Ÿåˆ—é‡ŒåŒæ—¶å­˜åœ¨çš„æœ€å¤šå…ƒç´ æ•°é‡\"ï¼Œ// æ¯”èµ·STLçš„queueï¼Œæ‰‹å†™çš„å¯ä»¥O(1)æ¸…ç©ºã€‚ #include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;queue&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 2000 + 10;const int maxm = 6000 + 10;int n, m, start = 1;int head[maxn], ev[maxm], ew[maxm], nxt[maxm];int totedge = 0;inline void addedge(int nu, int nv, int nw) &#123; ev[++totedge] = nv, ew[totedge] = nw, nxt[totedge] = head[nu]; head[nu] = totedge;&#125;struct Queue&#123; &#125;q;int cnt_path[maxn], dist[maxn];bool inq[maxn];void clear() &#123; totedge = 0; q.init(); memset(head, 0, sizeof(int) * (n+1)); memset(inq, 0, sizeof(bool) * (n+1)); memset(cnt_path, 0, sizeof(int) * (n+1)); memset(dist, 0x3f, sizeof(int) * (n+1));&#125;bool check() &#123; q.push(start), dist[start] = 0; while(!q.empty()) &#123; int x = q.pop(); inq[x] = 0; for(rint i=head[x], y=ev[i]; i; i=nxt[i], y=ev[i]) &#123; if(dist[x] + ew[i] &lt; dist[y]) &#123; dist[y] = dist[x] + ew[i]; cnt_path[y] = cnt_path[x] + 1; if(cnt_path[y] &gt; n) return 1; if(!inq[y]) q.push(y), inq[y] = 1; &#125; &#125; &#125; return 0;&#125;int main() &#123; int T; readint(T); while(T--) &#123; int nu, nv, nw; readint(n), readint(m); clear(); for(rint i=1; i&lt;=m; i++) &#123; readint(nu), readint(nv), readint(nw); addedge(nu, nv, nw); if(nw &gt;= 0) addedge(nv, nu, nw); &#125; puts(check() ? \"YE5\" : \"N0\"); &#125; return 0;&#125; $Solution:$ æ‡’å¾—å†™äº†ï¼Œè‡ªå·±çœ‹ä»£ç å§ } 2.#### æ•´æ•°hashè¡¨@card{ $Test Site:https://www.luogu.org/problem/CF670C $Code:$1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;set&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')#define pll pair&lt;lint, lint&gt;#define pii pair&lt;int, int&gt;#define mp(x, y) make_pair((x), (y))template&lt;typename tint&gt;inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 200000 * 3 + 10;const int mod = 599899;int arr[maxn];int n, m, totid;struct mhash&#123; int head[maxn], nxt[maxn], eco[maxn], tot; int pre[maxn], suf[maxn]; int find(int x) &#123; int nu = x % mod + 1; //åˆ«å¿˜äº†+1 for(rint i=head[nu]; i; i=nxt[i]) &#123; if(pre[i] == x) return suf[i]; &#125; return 0; &#125; void insert(int x, int y) &#123; int nu = x % mod + 1; nxt[++tot] = head[nu], head[nu] = tot, pre[tot] = x, suf[tot] = y; &#125;&#125;ht;int ry[maxn], dz[maxn], dy[maxn];int cnt[maxn];int ansid = 1, ansy = -1, ansz = -1;int main() &#123; readint(n); for(rint i=1; i&lt;=n; i++) &#123; readint(ry[i]); int t = ht.find(ry[i]); if(t == 0) t = ++totid, ht.insert(ry[i], t); cnt[t]++; &#125; readint(m); for(rint i=1; i&lt;=m; i++) readint(dy[i]), dy[i] = ht.find(dy[i]); for(rint i=1; i&lt;=m; i++) readint(dz[i]), dz[i] = ht.find(dz[i]); for(rint i=1; i&lt;=m; i++) &#123; if(cnt[dy[i]] &gt; ansy || (cnt[dy[i]] == ansy &amp;&amp; cnt[dz[i]] &gt; ansz)) ansid = i, ansy = cnt[dy[i]], ansz = cnt[dz[i]]; &#125; printf(\"%d\\n\", ansid); return 0;&#125; }3.","categories":[{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"http://arintaro.com/categories/æ¨¡æ¿/"},{"name":"æ•°æ®ç»“æ„","slug":"æ¨¡æ¿/æ•°æ®ç»“æ„","permalink":"http://arintaro.com/categories/æ¨¡æ¿/æ•°æ®ç»“æ„/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://arintaro.com/tags/æ•°æ®ç»“æ„/"},{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"http://arintaro.com/tags/é˜Ÿåˆ—/"}]},{"title":"LNOI2019 & å¤šçœè”è€ƒ æ¸¸è®°","slug":"Essay/LNOI2019 & å¤šçœè”è€ƒ æ¸¸è®°","date":"2019-04-27T09:01:25.797Z","updated":"2019-04-27T13:03:09.425Z","comments":true,"path":"2019/04/27/Essay/LNOI2019 & å¤šçœè”è€ƒ æ¸¸è®°/","link":"","permalink":"http://arintaro.com/2019/04/27/Essay/LNOI2019 & å¤šçœè”è€ƒ æ¸¸è®°/","excerpt":"","text":"Day1:å¾…æ›´ï¼Œé¸½äº†","categories":[{"name":"æ–‡ç« ","slug":"æ–‡ç« ","permalink":"http://arintaro.com/categories/æ–‡ç« /"}],"tags":[{"name":"æ— ç—…å‘»åŸ","slug":"æ— ç—…å‘»åŸ","permalink":"http://arintaro.com/tags/æ— ç—…å‘»åŸ/"}]},{"title":"ç»¼åˆæŠ€å·§ä¸å®è·µ","slug":"Detail/ç»¼åˆæŠ€å·§ä¸å®è·µ","date":"2019-04-27T09:01:25.547Z","updated":"2019-10-29T02:43:20.285Z","comments":true,"path":"2019/04/27/Detail/ç»¼åˆæŠ€å·§ä¸å®è·µ/","link":"","permalink":"http://arintaro.com/2019/04/27/Detail/ç»¼åˆæŠ€å·§ä¸å®è·µ/","excerpt":"æ ¹æ®è´ªå¿ƒç­–ç•¥ï¼Œæˆ‘ä»¬æŠŠè¿™äº›ä¸œè¥¿èƒŒä¸€èƒŒè‚¯å®šæ˜¯æ˜¯ä¸äºçš„ã€‚","text":"æ ¹æ®è´ªå¿ƒç­–ç•¥ï¼Œæˆ‘ä»¬æŠŠè¿™äº›ä¸œè¥¿èƒŒä¸€èƒŒè‚¯å®šæ˜¯æ˜¯ä¸äºçš„ã€‚ ä¸€ã€STLç›¸å…³@card{ 1.algorithm1234567891011121314151.lower_bound &amp; upper_bound //æˆ‘å°±ç®—é¥¿æ­»ï¼Œæ­»å¤–é¢ï¼Œä¹Ÿä¸ä¼šè‡ªå·±å†™ä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾çš„ int pos = lower_bound(arr+1,arr+n+1,val) - arr; //åœ¨æœ‰åºæ•°ç»„[1,n]ä¸­æŸ¥ç¬¬ä¸€ä¸ª &gt;=valçš„æ•° // æœ€åä¸€ä¸ªå‚æ•°å¯ä»¥ä¼ æ¯”è¾ƒå‡½æ•°ï¼Œéœ€è¦ä¸åºåˆ—é¡ºåºç›¸åŒï¼Œå³ å•å¢ &lt; less å’Œ å•å‡ &lt; greater2.unique //å¸¸ç”¨äºç¦»æ•£åŒ– n = unique(arr+1,arr+n+1) - (arr+1); //å»é‡ï¼Œæ–°å…ƒç´ å­˜åœ¨[1,n] 3.inplace_merge merge // å¸¸ç”¨äºCDQåˆ†æ²»ä¸­ï¼Œä¸è¦cdqé‡Œå¥—sortäº†ï¼ï¼ // æ•°ç»„ arråˆ†ä¸ºæœ‰åºçš„ä¸¤éƒ¨åˆ† [1,mid] [mid+1,n] inplace_merge(arr+1,arr+mid+1,arr+n+1); merge(first1,last1,first2,last2,result,compare);4.nth_element //æ•°ç»„ä¸­O(n)æ‰¾ç¬¬kå¤§ï¼Œå‰kä¸ªæ•°ä¸€å®šéƒ½åœ¨[1ï¼Œk], å†…éƒ¨ä¸ä¸€å®šæœ‰åº nth_element(arr+1,arr+k,arr+n+1);5.sort stable_sort // åä¸€ä¸ªå¯ä»¥ç¨³å®šæ’åº 6.reverse // è·Ÿsortä¼ å‚ä¸€æ ·ï¼Œåºåˆ—åè½¬ 7.next_permutation, prev_permutation //æ’åˆ—8.partial_sort // nth_elementåŠ å¼ºç‰ˆ, O(nlogk)æ’åºå‰kä¸ªæ•°, [1, k]å†…ä¸€å®šæœ‰åº 2.vector121.vectorçš„clearä¸ä¼šé‡Šæ”¾ç©ºé—´ï¼Œéœ€è¦é‡Šæ”¾ç©ºé—´çš„è¯ï¼Œéœ€è¦: vector&lt;int&gt;().swap(a); // ä½†æ˜¯å‡ ä¹æ¯”clearæ…¢ä¸€å€ 3.è¾“å…¥è¾“å‡ºç›¸å…³11.cin.getline(s+1, len+1, '\\0'); // å­—ç¬¦æ•°ç»„ã€é•¿åº¦ã€ç»“æŸå­—ç¬¦ 4.cmath11.round(double x); // è¿”å›å››èˆäº”å…¥çš„æ•´æ•° %.0lfä¹Ÿå¯ä»¥ 5.å…¶ä»–1231.fill(begin, end, val); // å¡«å……æ•°ç»„long long arr[maxn][maxn];fill(arr[0], arr[0]+maxn*maxn, inf); } äºŒã€NOI Linuxç›¸å…³@card{ â€‹ 1.Emacsç›¸å…³ï¼ˆMä¸ºAlté”®ï¼ŒCä¸ºCtrlé”® - M+xè¾“å…¥å‘½ä»¤ C+x+kå…³é—­å½“å‰çª—å£ - Options-Use CUA Keys (è½¬æ¢å¤åˆ¶ç²˜è´´å¿«æ·é”®) - Options-Customize Emacs-Custom-Themes-Tango Dark ï¼ˆè½¬æ¢ä¸»é¢˜ï¼‰ - Options-Set Default Font - Ubuntu Mono 20-30ï¼ˆå˜æ›´å­—ä½“ - C-x-2 æ°´å¹³åˆ‡åˆ†å½“å‰Buffer, C-x-3 å·¦å³åˆ‡åˆ† - M-% æ›¿æ¢ - C-R æŸ¥æ‰¾ - å‘½ä»¤ Find-fileåï¼Œ ~/.emacs å¯ä»¥ç›´æ¥æ‰“å¼€é…ç½®æ–‡ä»¶ 123456789101112131415161718192021(global-linum-mode t) ;;line num æ˜¾ç¤ºè¡Œå·(setq c-basic-offset 3) ;; å˜æ›´ç¼©è¿›(setq default-tab-width 3) (electric-pair-mode t) ;;electric pair æ‹¬å·è¡¥å…¨(electric-layout-mode t)(electric-indent-mode t)(setq-default cursor-type 'bar) ;;å…‰æ ‡ç«–çº¿(show-paren-mode t) ;;show paren æ‹¬å·é…å¯¹(global-set-key [f4] 'shell) ;;æ‘F4è¿›å…¥shell(defun compile-file()(interactive)(compile(format \"g++ -o '%s' '%s' -lm -Wall -g\"(file-name-sans-extension(buffer-name))(buffer-name))))(global-set-key [f5] 'compile-file) ;;æ‘F5ç¼–è¯‘(global-set-key [f6] 'gdb) ;;æ‘F6è¿›å…¥gdbè°ƒè¯•(global-set-key (kbd \"C-s\") 'save-buffer) ;; Ctrl+så˜ä¸ºä¿å­˜(global-set-key (kbd \"C-a\") 'mark-the-whole-buffer) ;; Ctrl+så˜ä¸ºä¿å­˜(global-set-key (kbd \"RET\") 'newline-and-indent) ;;å›è½¦è‡ªåŠ¨ç¼©è¿› } å››ã€å¯¹æ‹ç›¸å…³@card{ 1.ç¨‹åºè¿è¡Œæ—¶é—´12double t = clock();cerr &lt;&lt; (clock() - t) / CLOCKS_PER_SEC &lt;&lt; endl; 1234#### 2.diffå‘½ä»¤```diff -b -B test.out ans.out``` }","categories":[{"name":"ç»†èŠ‚","slug":"ç»†èŠ‚","permalink":"http://arintaro.com/categories/ç»†èŠ‚/"}],"tags":[{"name":"è¯­è¨€","slug":"è¯­è¨€","permalink":"http://arintaro.com/tags/è¯­è¨€/"},{"name":"STL","slug":"STL","permalink":"http://arintaro.com/tags/STL/"},{"name":"Linux","slug":"Linux","permalink":"http://arintaro.com/tags/Linux/"},{"name":"Emacs","slug":"Emacs","permalink":"http://arintaro.com/tags/Emacs/"}]},{"title":"å¸¸è§ä»£ç å®ç°ç»†èŠ‚","slug":"Detail/å¸¸è§ä»£ç å®ç°ç»†èŠ‚","date":"2019-04-27T09:01:25.528Z","updated":"2019-10-30T14:12:32.669Z","comments":true,"path":"2019/04/27/Detail/å¸¸è§ä»£ç å®ç°ç»†èŠ‚/","link":"","permalink":"http://arintaro.com/2019/04/27/Detail/å¸¸è§ä»£ç å®ç°ç»†èŠ‚/","excerpt":"","text":"è¿™é‡Œè®°å½•çš„é—®é¢˜ï¼Œå…¨æ˜¯æˆ‘è°ƒè¿‡çš„é—®é¢˜orzã€‚ &lt;!â€“ more â€“ &gt; @card{ æˆ‘ä»¬å†™ä»£ç çš„ç›®æ ‡æ˜¯â€ä¸€éæˆâ€ï¼Œä¸æ¸…é†’æ—¶ä¸å†™ä»£ç ï¼Œæ²¡æƒ³å¥½æ—¶ä¸å†™ä»£ç  } ä¸€ã€å˜é‡æº¢å‡ºé—®é¢˜@card{ ä¹˜æ˜¯ä¸€ä¸ªç›¸å½“å±é™©çš„æ“ä½œï¼Œåªè¦æœ‰ä¹˜ï¼Œå¿…é¡»è€ƒè™‘æº¢å‡ºé—®é¢˜ï¼Œlintå‹åšä¹˜æ³•å¸¦æ¨¡æ•°æ—¶ï¼Œè¦å†™å¿«é€Ÿä¹˜ intå‹æ¶‰åŠåˆ°å‰ç¼€å’Œ/ä¹˜æ³•æ—¶ï¼Œæ³¨æ„è¦è½¬linté˜²çˆ†ï¼Œæœ‰çš„é¢˜è¡¨é¢æ˜¯1e9å·¦å³ï¼Œä½†æœ‰å¤šæ¬¡åŠ æ³•æ“ä½œï¼Œä¹Ÿå¾—å¼€lint INTèŒƒå›´æ˜¯ 2^31-1ä¹Ÿå°±æ˜¯2.1e9ï¼Œä¸€èˆ¬æ¥è¯´1e9å¯ä»¥å®‰å…¨åŠ å‡ä¸€æ¬¡ï¼Œå¹³æ—¶infå¼€åˆ°1e9å³å¯ï¼Œ ä½†æ˜¯è¦æ³¨æ„æ¯’ç˜¤é¢˜èŒƒå›´2^32æˆ–è€…å·¦å³ï¼Œä¸€å®šè¦å¼€long longï¼Œ unsignedç±»å‹ï¼šå€¼åŸŸ$[0,2^{8size}-1]$æº¢å‡ºåå¯¹$2^{8size}$å–æ¨¡ã€‚ signedç±»å‹: å€¼$[-2^{8size-1},2^{8size-1}-1]$ï¼Œæº¢å‡ºåä¹Ÿå–æ¨¡ï¼Œåªä¸è¿‡ä¼šå¹³ç§»åˆ°å€¼åŸŸèŒƒå›´å†…ã€‚ long doubleå‹å¯ä»¥å­˜ä¸‹long longå‹çš„æ‰€æœ‰æœ‰æ•ˆæ•°å­—ï¼Œé‡åˆ°long longçš„æº¢å‡ºé—®é¢˜å¯ä»¥è€ƒè™‘è½¬long doubleå­˜æ•´æ•° doubleç”¨memsetåˆå§‹åŒ–æ—¶ï¼Œè·Ÿintå‹ä¸€æ ·çš„æœ€å€¼ç”¨max: 0x42, min: 0xc2,ï¼Œæé™å€¼max: 0x7f, min: 0xfeã€‚ åœ¨long longæ•°æ®èŒƒå›´ä½¿ç”¨å·¦ç§»æ—¶ï¼Œä¸€å®šå¾—ç”¨1LLé˜²æ­¢æº¢å‡ºã€‚ è®¾infæ—¶ä¸€å®šè¦å°å¿ƒ, 0x3fæœ€å¤šåŠ ä¸¤æ¬¡, 0x7fä¸èƒ½åŠ , æœ‰æ—¶æ­£å¸¸æ•°æ®ä¸ä¼šçˆ†int, ä½†ä½ è®¾çš„ä¸¤ä¸ªinfä¹‹é—´è¿ç®—çˆ†äº†int } äºŒã€è¿ç®—é—®é¢˜@card{ æœ‰æ—¶å€™æ¨¡æ•°æ˜¯ä¸€ä¸ªè´Ÿæ•°ï¼Œè¦å¾—åˆ°æœ€å°éè´Ÿæ•´æ•°è§£å‰ï¼Œéœ€è¦æŠŠè´Ÿæ•°è½¬æˆæ­£æ•° è¦æ³¨æ„ä¹˜é™¤æ³•çš„é¡ºåºï¼Œæ˜¯å¦éœ€è¦å‘ä¸‹å–æ•´ã€å…ˆè¿›è¡Œé™¤æ³•çš„è¯èƒ½å¦æ•´é™¤ åšä¹˜æ³•åˆå€¼ä¸€å®šè¦è®¾ä¸º1ï¼Œä¾‹å¦‚çº¿æ®µæ ‘çš„ä¹˜æ³•Lazytagï¼Œç´¯ä¹˜çš„åˆå€¼ï¼Œ ç»´æŠ¤ä¸€ä¸ªæœ€å°å€¼å˜é‡åˆå€¼è¦è®¾ä¸ºinfï¼Œç»´æŠ¤æœ€å¤§å€¼æœ‰è´Ÿæ•°çš„æ—¶å€™è¦èµ‹ä¸º-inf æ³¨æ„éè´Ÿæ•´æ•°ä¸â€œæ­£æ•´æ•°â€çš„åŒºåˆ«ï¼Œå€¼åŸŸé‡Œå¯èƒ½ä¼šæœ‰0 æœ‰æ—¶å€™æ±‚åŒºé—´$[l,r]$ä¹‹ç±»çš„ï¼Œ$l&gt;=1$ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬åˆ©ç”¨åŒºé—´å¯å‡æ€§ä¼šå¯¼è‡´å€¼åŸŸé‡Œå‡ºç°$0$ï¼Œæ³¨æ„ç‰¹åˆ¤ã€‚ } ä¸‰ã€è¯­è¨€é—®é¢˜@card{ æœ‰æ—¶éœ€è¦æ³¨æ„\\n \\rçš„é—®é¢˜ï¼Œå»ºè®®å†™æ‰‹åŠ¨è¯»å…¥çš„æ—¶å€™ç›´æ¥ç‰¹åˆ¤æ‰, scanfå’Œgetlineæ··ç”¨æ—¶å°¤å…¶è¦æ³¨æ„ å®å®šä¹‰åƒä¸‡åˆ«å¿˜äº†æ‹¬å·ï¼Œè°ƒä¸€è¾ˆå­ï¼Œä¸€èˆ¬æ¥è¯´â€æœ‰åˆ†å‰²â€çš„ä¸œè¥¿ï¼Œä¸ç”¨åŠ æ‹¬å· lint è¾“å…¥è¾“å‡º %lldï¼Œldobè¾“å…¥è¾“å‡º %Lf æ•°ç»„ä½œä¸ºå½¢å‚ä¼šé€€åŒ–æˆæŒ‡é’ˆï¼Œä¸èƒ½å†ç”¨sizeofæ±‚å¤§å° é¢˜ç›®ä¸­è¦æ±‚â€œå½“è¾“å…¥ç”¨ä¾‹ n=k=0 æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»ˆæ­¢â€, ä¸èƒ½å†™ n&amp;&amp;k, å› ä¸ºå¯èƒ½nä¸kå…¶ä¸­ä¸€ä¸ªè¿˜å¯èƒ½ç­‰äº0 ç¨‹åºä¸­å¸¸é‡é»˜è®¤æ˜¯INTå‹ï¼Œè®¾å®š long long a = 10000 9999 9998 ç­‰ä¸€å®šè¦æ³¨æ„å¸¸é‡çˆ†INTçš„é—®é¢˜ ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œè¦æ³¨æ„ä¸å­˜åœ¨çš„æƒ…å†µï¼Œæˆ‘ä»¬å¸¸ç”¨çš„å†™æ³•ä¸‹æ ‡ä¼šè¿”å›n+1ï¼Œæ³¨æ„ç‰¹åˆ¤æ‰ å†™é€’å½’å¼ç¨‹åºã€ç»´æŠ¤åŒæŒ‡é’ˆæ—¶ï¼Œä¸€å®šè¦æŠŠéœ€è¦ç»´æŠ¤çš„ä¸œè¥¿åˆ—ä¸ªè¡¨ï¼Œæ¯”å¦‚visæ•°ç»„ç­‰ ç»´æŠ¤åŒæŒ‡é’ˆæ—¶ï¼Œéœ€è¦æ³¨æ„è¿ç®—é¡ºåºï¼Œjâ€“ï¼Œi++æ˜¯å‘ç”Ÿåœ¨æ“ä½œå‰è¿˜æ˜¯æ“ä½œåï¼Œåº”è¯¥å…·ä½“å†™å‡ºå®šä¹‰ è®¡ç®—æŸäº›ä¸œè¥¿æ—¶ï¼Œå¦‚æœè®¡ç®—åéœ€è¦ç§»åŠ¨æŒ‡é’ˆï¼Œæ³¨æ„åˆ«å…ˆç§»åŠ¨æŒ‡é’ˆäº†ï¼ˆAcwing 294, å€å¢LCAç­‰ï¼‰ å†™ä¸€äº›åµŒå¥—å¾ªç¯ç§»åŠ¨åŒä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡é’ˆæ—¶ï¼Œå¿…é¡»è€ƒè™‘ä¸å­˜åœ¨ï¼Œä¸ç§»åŠ¨ï¼Œç§»åŠ¨å¤šäº†è¶Šç•Œçš„æƒ…å†µï¼Œä¸ç„¶ç­‰ç€WAæ™®åŠ-å§ ç»´æŠ¤å•è°ƒé˜Ÿåˆ—çš„ä¸€äº›å˜å½¢æ—¶ï¼ˆå¦‚ç‚¹é˜Ÿåˆ—ç»´æŠ¤ä¸¤ç‚¹é—´æ–œç‡ï¼ŒåŒºé—´é˜Ÿåˆ—å¸¦äºŒåˆ†ç­‰ï¼‰ï¼Œä¸€å®šè¦ä»”ç»†è€ƒè™‘è¾¹ç•Œæƒ…å†µå’Œå„ç§é€€é˜Ÿæƒ…å†µè¿›é˜Ÿæƒ…å†µï¼Œè¿™ç§ä¸œè¥¿æå…¶å®¹æ˜“å†™ç‚¸ã€‚ } å››ã€æ•°å­¦ç›¸å…³@card{ BSGSæ³¨æ„åˆ¤æ–­ï¼Œç®—å‡ºçš„æŒ‡æ•°è¦å¤§äºç­‰äº0ï¼Œå³ $i*len - ht[Yk] &gt;= 0â€‹$ 123if(Z == 1) return 0; //Luogu P2485 [SDOI2011]è®¡ç®—å™¨if(Y % P == 0) return Z%P == 0 ? 1 : -1; i*len - ht[Yk] &gt;= 0 æ— è®ºæ˜¯ä»€ä¹ˆé¢˜ç›®ï¼Œé¢˜ç›®ä¸­ä¿è¯è´¨æ•°äº†ï¼Œä¹Ÿæœ‰å¯èƒ½å…¶ä¸­çš„æŸä¸ªæ•°æ˜¯è¿™ä¸ªè´¨æ•°çš„å€æ•°ï¼Œæ³¨æ„åˆ¤æ–­è¿™ç§æƒ…å†µ exgcdä¼šæ±‚å‡ºè´Ÿæ•°è§£ï¼Œå¦‚æœæ±‚å‡ºçš„ä¸œè¥¿éœ€è¦æœ€å°éè´Ÿæ•´æ•°è§£ï¼Œæˆ–è€…ä½œé€†å…ƒç­‰ï¼Œä¸€å®šè¦å–æ¨¡åˆ°æ­£æ•°ã€‚ å¦‚æœåœ¨æ¨¡æ„ä¹‰ä¸‹åšå‡æ³•ï¼Œä¸€å®šè¦éšæ—¶è°ƒæ•´è‡³éè´Ÿå³ $(a%7 + 7) % 7$ æ‰æ˜¯å®‰å…¨çš„ è®¡ç®—ç»„åˆæ•°æ—¶ï¼Œè¦æ³¨æ„ $0!=1$ ä»¥åŠå®ƒçš„é€†å…ƒï¼Œé€‰0ä¸€ä¸ªæ•°ä¸€å®šæ—¶ä¸€ç§æ–¹æ¡ˆï¼Œ$m&lt;n\\ ||\\ m&lt;0\\ ||\\ n&lt;0$æ—¶0ç§æ–¹æ¡ˆ è¯•å¡«æ³•ï¼Œä¸€èˆ¬æœ€åä¸€ä½å¯ä»¥ç­‰äºâ€œåé¢æ²¡æœ‰ä½äº†ï¼Œæœ€åä¸€ä½å°äºç­‰äºå³å¯ä¿è¯ä¸€å®šå°äºç­‰äºâ€ï¼Œå‰ç½®ä½å¿…é¡»ä¿è¯å°äº } äº”ã€æ•°æ®ç»“æ„ç›¸å…³@card{ ç»´æŠ¤ä¸€ä¸ªå·®åˆ†åºåˆ—æ—¶ï¼Œæ—¶å¸¸ä¼šæœ‰+1,-1ï¼Œä¸ºäº†é˜²æ­¢çˆ†ç‚¸ï¼Œå»ºè®®ä½ æŠŠå€¼åŸŸèŒƒå›´å¼€åˆ°[0,n+1] åˆ†å—é¢˜ç”±äºæœ€åä¸€æ®µçš„å³ç«¯ç‚¹æ˜¯$min(t*len,n)$, å»ºè®®ä½ ç›´æ¥é¢„å¤„ç†å‡ºç«¯ç‚¹ï¼Œä¸è¦æ¯æ¬¡ç‰¹åˆ¤ï¼Œç‰¹åˆ«å®¹æ˜“é”™ åˆ†å—é¢˜å¼€æ•°ç»„ä¸è¦å¼€æ··äº† åœ¨æƒå€¼çº¿æ®µæ ‘æˆ–å¹³è¡¡æ ‘ä¸Šæ±‚kå°æ—¶ï¼Œå‡½æ•°ä¸€èˆ¬å®šä¹‰æ—¶pçš„å­æ ‘ä¸­æ±‚kå°ï¼Œæ­¤æ—¶å¦‚æœè¿›å³å­æ ‘åˆ«å¿˜äº†å‡å»â€œå·²ç»ç¡®å®šæ¯”å®ƒå°çš„ä¸ªæ•°â€ å¸¸è§çš„åˆ†æ²»$(l+r) &gt;&gt; 1$ ä½œä¸º$mid$, å±‚æ•°ä¸º[log2nï¼Œlog2n+2]ï¼Œç®—å†…å­˜çš„æ—¶å€™è®°å¾—å– log2n + 2 é™æ€çº¿æ®µæ ‘ç©ºé—´ç›´æ¥å¼€4né˜²è¶Šç•Œï¼ŒåŠ¨æ€å¼€ç‚¹çš„èŒƒå›´ä¸º $[mlog_2m, 2n-1]$ ç¿»è½¬åºåˆ—ç­‰éœ€è¦æ”¹å˜å­æ ‘é¡ºåºçš„å»¶æ—¶æ ‡è®°éœ€è¦åœ¨è¿›å…¥æ—¶ç«‹å³ä¸‹æ”¾ï¼Œä¸ºäº†é˜²æ­¢ç¿»è½¦ï¼Œæˆ‘ä»¬ä¸å¦‚æ— è®ºä»€ä¹ˆæ ‡è®°éƒ½æ˜¯è¿›å…¥æ—¶ç«‹å³ä¸‹æ”¾ ä¸‹æ”¾å»¶æ—¶æ ‡è®°æ—¶ï¼Œéœ€è¦è€ƒè™‘æ­¤æ ‡è®°å¯¹å…¶ä»–æ ‡è®°çš„å½±å“ï¼Œéœ€è¦ä¸€èµ·ç»“ç®—ï¼Œï¼ˆeg: åŒºé—´åŠ åŒºé—´æœ€å°å€¼æœ€å¤§å€¼çš„å½±å“ pushupä¸pushdownæ—¶ï¼Œæ³¨æ„ä¸è¦é”™è¯¯åœ°æŠŠä¸‹æ ‡ä¸º0çš„èŠ‚ç‚¹ä¿¡æ¯æ›´æ–°æ¥æ›´æ–°å» åœ¨æ“ä½œä»»ä½•â€œå®ç‚¹â€å‰éœ€è¦pushdownï¼Œåœ¨ä¿®æ”¹åéœ€è¦pushup å°†æ“ä½œé‡æ–°æ’åºåï¼Œæ³¨æ„æ˜¯åˆ é™¤æ“ä½œä¼˜å…ˆï¼Œè¿˜æ˜¯å¢åŠ æ“ä½œä¼˜å…ˆ é‚»æ¥è¡¨ i=nxt[i], åƒä¸‡åˆ«å†™æˆ i=nxt[x] å¦‚æœä¸€ä¸ªæ•°æ®ç»“æ„é¢˜éœ€è¦å¤§é‡åˆ¤è¾¹ç•Œï¼Œå‰é©±åç»§æ˜¯å¦å­˜åœ¨ç­‰ï¼Œä¸€èˆ¬æ˜¯è¦æ’å‡ ä¸ªinfæˆ–-infçš„è™šç‚¹å‡å°‘ç‰¹åˆ¤ã€‚ æœ‰å»¶æ—¶æ ‡è®°+åŠ¨æ€å¼€ç‚¹æ—¶ï¼Œæ³¨æ„ä¸‹ä¼ çš„å»¶æ—¶æ ‡è®°ä¼šä¸ä¼šä¼ åˆ°0ä¸Šï¼Œè®©ä¸‹ä¼ çš„æ ‡è®°å›å½’è™šæ— ã€‚ æœ‰æ—¶éœ€è¦ç‰¹åˆ¤â€œä¸å­˜åœ¨â€ã€â€æ²¡æ‰¾åˆ°â€œçš„æƒ…å†µ å†™ä¸€äº›é“¾å¼çš„æŒ‡é’ˆç»“æ„æ—¶ï¼Œå¦‚æœéœ€è¦æ¸…ç©º/åˆ é™¤æŸäº›ä¸œè¥¿ï¼Œä¸€å®šè¦è®°å¾—æ¸…ç©ºç›¸å…³æŒ‡é’ˆï¼Œå¤§éƒ¨åˆ†æƒ…å†µæ•°æ®æ¸…ä¸æ¸…æ— æ‰€è°“ã€‚ å€¼åŸŸèŒƒå›´å¥‡æ€ªï¼Œå¦‚å¸¦0ç­‰ä¼šå½±å“æ ‘çŠ¶æ•°ç»„ä¸€ç±»çš„ä¸œè¥¿ï¼Œéœ€è¦åŠ å‡ç§»åŠ¨å€¼åŸŸã€‚ æ ‘é“¾å‰–åˆ†ç¬¬äºŒæ¬¡$DFS$åˆ«å¿˜äº†è·³è¿‡é‡å„¿å­ã€‚ Trieæ ‘æ˜¯ä¿¡æ¯å­˜åœ¨è¾¹çš„æ•°æ®ç»“æ„, æˆ‘ä»¬ä¸€èˆ¬æŠŠå…¶è¾¹ä¸Šçš„ä¿¡æ¯ä¸‹æ”¾åˆ°å…¶æ·±åº¦è¾ƒå¤§çš„èŠ‚ç‚¹, ç”±äºä¸å…¶ä»–æˆ‘ä»¬å¸¸å†™çš„æ•°æ®ç»“æ„ä¿¡æ¯å­˜å‚¨æ–¹å¼ä¸åŒ, å†™çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ã€‚ Trieç©ºæ ‘æ˜¯æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„, å³åˆå§‹åŒ–æ—¶è¦è®¾totnodeä¸º1 TrieèŠ‚ç‚¹ç»´æŠ¤ä¿¡æ¯æ—¶, æœ€åä¸€æ¬¡è·³è½¬åè·³è½¬ç»ˆæ­¢, ä½†æ˜¯è®¿é—®åˆ°äº†æœ€åä¸€ä¸ªèŠ‚ç‚¹, ä¹Ÿè¦æ›´æ–°æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯ 12345678910111213141516171819// Accepted ç”±äºæ ¹èŠ‚ç‚¹ä¸éœ€è¦å­˜å‚¨ä¿¡æ¯void insert(int x) &#123; int p = 1, t = x; while(x != 0) &#123; int v = x % 10; x /= 10; if(pv[p][v] == 0) pv[p][v] = ++totnode, val[totnode] = t; p = pv[p][v], val[p] = min(val[p], t); &#125;&#125;// Wrong Answer æœ€åä¸€ä¸ªèŠ‚ç‚¹æœªè¢«æ›´æ–°void insert(int x) &#123; int p = 1, t = x; while(x != 0) &#123; int v = x % 10; x /= 10; val[p] = min(val[p], t); if(pv[p][v] == 0) pv[p][v] = ++totnode, val[totnode] = t; p = pv[p][v]; &#125;&#125; ç»´æŠ¤ä¸ç›¸äº¤åŒºé—´çš„é—®é¢˜ï¼Œå¯ä»¥å®šä¹‰å°äºå·ä¸º$a.r &lt; b.l$ï¼Œè¿™æ ·å®Œå…¨åœ¨å·¦ä¸ºå°äºï¼Œå®Œå…¨åœ¨å³ä¸ºå¤§äºï¼Œå‰©ä¸‹çš„ç›¸ç­‰å³ç›¸äº¤ } å…­ã€å›¾è®ºç›¸å…³@card{ å¦‚æœæ— å‘å›¾é‡Œæœ‰é‡è¾¹ï¼Œä¸€èˆ¬åªåŠ ä¸€æ¬¡ï¼Œæ— å‘å›¾é‚»æ¥è¡¨å¼€ä¸¤å€ï¼Œæ ‘é‚»æ¥è¡¨å¼€åˆ°èŠ‚ç‚¹æ•°å³å¯ã€‚ é‚»æ¥çŸ©é˜µæ³¨æ„åˆå€¼æ˜¯0è¿˜æ˜¯infï¼Œæ— å‘è¾¹ä¸€å®šè¦è®°å¾—åŠ ä¸¤éï¼ï¼ åœ¨æœ‰è´Ÿæƒè¾¹æ—¶ï¼Œæ ‘çš„ç›´å¾„ä¸èƒ½é€šè¿‡ä¸¤æ¬¡DFSæ±‚ã€‚ æ— å‘å›¾é‚»æ¥è¡¨ä¿®æ”¹è¾¹çš„å±æ€§æ—¶ï¼Œæ³¨æ„ä¹Ÿè¦æŠŠåå‘çš„è¾¹ä¹Ÿä¸€èµ·ä¿®æ”¹ã€‚ å¸¦æœ‰é‡è¾¹çš„å›¾ä¸­ï¼Œä¸èƒ½åªè®°å½•æ¥æºèŠ‚ç‚¹ï¼Œå¯èƒ½éœ€è¦è®°å½•æ¥æºè¾¹ï¼Œæ¥å¤„ç†ä¸€äº›æƒ…å†µï¼Œå¦‚â€œäºŒå…ƒç¯â€ã€‚ åœ¨å†™å›¾çš„éå†DFSã€BFSæ—¶ï¼Œåˆ«å¿˜äº†é€’å½’å­èŠ‚ç‚¹/å°†å­èŠ‚ç‚¹å…¥é˜Ÿï¼Œï¼ˆåˆ«ç¬‘ï¼Œæˆ‘çœŸçš„å¹²è¿‡ï¼Œè¿˜è°ƒäº†ä¸€æ®µæ—¶é—´ã€‚ã€‚ å»ºè™šç‚¹ï¼Œå¹³ç§»ç¼–å·åä¸€å®šè¦æ³¨æ„è¯»å…¥ååˆ«å¿˜å¹³ç§»ï¼ŒèŠ‚ç‚¹æ•°åˆ«å¿˜å¢åŠ ã€‚ æœ‰å‘å›¾çš„$scc$ï¼Œæ³¨æ„æ›´æ–°$low[x]$æ—¶ï¼Œéœ€è¦åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦åœ¨æ ˆé‡Œï¼Œå›æº¯æ—¶åˆ¤æ–­å¹¶å‡ºæ ˆã€‚ æ— å‘å›¾çš„$e-dcc$, éœ€è¦æ³¨æ„è®°å½•çš„æ˜¯â€œæ¥çš„è¾¹â€ï¼Œè€Œä¸æ˜¯çˆ¶èŠ‚ç‚¹ï¼Œæ¥å¤„ç†é‡è¾¹é—®é¢˜ï¼Œå›æº¯æ—¶åˆ¤æ–­å¹¶å‡ºæ ˆï¼Œè§£å†³æ ¹èŠ‚ç‚¹çš„é—®é¢˜ æ— å‘å›¾çš„$v-dcc$ï¼Œéœ€è¦æ³¨æ„æŒ‰å¸¸è§„å‰²ç‚¹å®šä¹‰ï¼Œæœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹éœ€è¦æœ‰ä¿©å„¿å­åˆ¤å®šæˆåŠŸï¼Œä¸”å‰²ç‚¹ä¼šå±äºå¤šä¸ª$v-dcc$ï¼Œå»ºè®®å›æº¯åˆ°çˆ¶èŠ‚ç‚¹æ—¶åˆ¤æ–­å„¿å­ï¼Œæ ¹èŠ‚ç‚¹éœ€è¦ç‰¹åˆ¤ã€‚ ç¼©ç‚¹ç›¸å…³çš„é¢˜æ³¨æ„è¾¹ç•Œæƒ…å†µï¼Œç¼©æˆä¸€ä¸ªç‚¹ç­‰ç‰¹æ®Šæƒ…å†µã€‚ æ‰¾ç¯ååˆ«å¿˜äº†$tot+1$å­˜çš„æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦ ç”¨å¥‡æ•°å¶æ•°å­˜æ­£åè¾¹å»ºæ­£åå›¾æ—¶, æ³¨æ„å¯¹å¸¸æ•°çš„å½±å“ã€‚ } ä¸ƒã€åŠ¨æ€è§„åˆ’ç›¸å…³@card{ è¦ä»”ç»†è€ƒè™‘åˆå€¼çš„è®¾è®¡ï¼Œæ¯”å¦‚èƒŒåŒ…é—®é¢˜ï¼Œè¦æ±‚â€œèƒŒåŒ…å¿…é¡»è£…æ»¡â€ï¼ŒæŒ‰ç…§å®é™…å«ä¹‰ï¼Œ$dp[0] = 0, \\forall j \\ \\ dp[j] = -inf$ï¼Œå› ä¸ºåœ¨ç¬¬0ä¸ªç‰©å“æ—¶ï¼Œåªæœ‰â€œæ²¡è£…ä¸œè¥¿â€æ˜¯åˆæ³•çš„çŠ¶æ€ã€‚ çŠ¶å‹DPæŠŠçŠ¶æ€æ˜ å°„åˆ°é›†åˆä¸­åï¼Œæ³¨æ„åˆå€¼è®¾ç½®ä¸‹æ ‡ä¹Ÿè¦æ˜¯é›†åˆä¸­çš„ä¸‹æ ‡ï¼Œä¾‹å¦‚0æ˜ å°„åˆ°1ï¼Œéœ€è¦$dp[0][1] = 1$ æœ‰ä¸åˆæ³•çŠ¶æ€çš„é€’æ¨æ—¶ï¼Œä¸€å®šè¦è€ƒè™‘â€œæŸä¸ªç°åœ¨ä¸åˆæ³•çš„çŠ¶æ€â€ï¼Œèƒ½å¦åœ¨ä»¥åå˜æˆä¸€ä¸ªåˆæ³•çŠ¶æ€ï¼Œèƒ½çš„è¯ä¸èƒ½ç›´æ¥ä¸è®¡ç®—å®ƒï¼Œä¸ºäº†å®ƒåç½®çŠ¶æ€çš„æ­£ç¡®è½¬ç§»å¿…é¡»è¦è®¡ç®—å®ƒã€‚ ç»´æŠ¤å•è°ƒé˜Ÿåˆ—æ—¶, ä»é˜Ÿå¤´å‡ºé˜Ÿåˆ¤æ–­åˆæ³•æ€§ä¸€å®šè¦åœ¨å…¥é˜Ÿæ“ä½œä¹‹åã€‚ 1234567891011121314151617181920212223// Wrong Answerfor(int i=1; i&lt;=n; i++) &#123; while(l &lt;= r &amp;&amp; !check(j, i)) l++; // å‡ºé˜Ÿæ“ä½œ while(j &lt; i &amp;&amp; cmp(q[r], j)) r--; // å…¥é˜Ÿæ“ä½œ q[++r] = j++; if(l &lt;= r) dp[i] = dp[q[l]] + val(i, q[l]);&#125;// Acceptedfor(int i=1; i&lt;=n; i++) &#123; while(j &lt; i &amp;&amp; cmp(q[r], j)) r--; // å…¥é˜Ÿæ“ä½œ q[++r] = j++; while(l &lt;= r &amp;&amp; !check(j, i)) l++; // å‡ºé˜Ÿæ“ä½œ if(l &lt;= r) dp[i] = dp[q[l]] + val(i, q[l]);&#125;// Acceptedfor(int i=1; i&lt;=n; i++) &#123; while(l &lt;= r &amp;&amp; !check(j, i)) l++; // å‡ºé˜Ÿæ“ä½œ if(l &lt;= r) dp[i] = dp[q[l]] + val(i, q[l]); while(j &lt; i &amp;&amp; cmp(q[r], j)) r--; // å…¥é˜Ÿæ“ä½œ q[++r] = j++;&#125; åœ¨åŠ¨æ€è§„åˆ’ä¸­åº”ç”¨å•è°ƒé˜Ÿåˆ—æ—¶ï¼Œé˜Ÿåˆ—æœ€å¤§å¯èƒ½æ˜¯å€¼åŸŸï¼Œåˆ«é¡ºæ‰‹å†™æˆmaxnäº†} å…«ã€æ‚é¡¹@card{ é¢˜ç›®ä¸­çš„é™åˆ¶æ¡ä»¶ä¸€å®šè¦ç”¨æ‰‹å†™å‡ºæ¥ï¼Œä¸ç„¶å¾ˆå®¹æ˜“å†™æ·· &lt;= &gt;= ä¸€äº›æ¶‰åŠåˆ°åæ ‡ï¼Œçº¿æ®µé•¿çš„é—®é¢˜ï¼Œä¸€å®šè¦ä»”ç»†è€ƒè™‘è¾¹ç•Œæƒ…å†µä»¥åŠå®šä¹‰ï¼Œæœ‰æ—¶å€™éœ€è¦+1ï¼Œ-1 åœ¨ç»è¿‡å¯¹æ‹/å¤§æ ·ä¾‹åï¼Œç¨‹åºä»å¯èƒ½WAçš„åŸå› ä¸€èˆ¬æ˜¯æº¢å‡º(å°¤å…¶éœ€è¦æ³¨æ„(æ¯”è¾ƒ)å‡½æ•°ä¼ å‚æ—¶)ã€æ•°ç»„è¶Šç•Œ(å°èŒƒå›´è¶Šç•Œä¸ä¼šRE)ã€‚ äº¤æ¢å˜é‡æ—¶ï¼Œæ³¨æ„å˜é‡çš„é™„å¸¦å±æ€§åˆ«å¿˜äº†ä¸€èµ·äº¤æ¢ã€‚ æœ‰æ—¶å€™é¢˜ç›®ä¸­å¯èƒ½ä¸å­˜åœ¨â€œèƒ½è§£å†³æ‰€æœ‰æ•°æ®ã€èƒ½å¤„ç†æ‰€æœ‰æƒ…å†µâ€œçš„å•ä¸€ç®—æ³•ï¼Œæ³¨æ„å¤§åŠ›è®¨è®ºã€‚ è¿›è¡Œæ€è€ƒã€æ¨å¯¼æ—¶ï¼Œä¸€å®šè¦æ³¨æ„å‰ææ¡ä»¶ï¼Œä¾‹å¦‚â€œä¸€å®šå¯ä»¥ä»è¿™ä¸ªç‚¹å‡ºå‘æ‰¾åˆ°å¦ä¸€ä¸ªç‚¹â€ï¼Œè¿™ä¸ªç‚¹çœŸçš„å­˜åœ¨ä¹ˆï¼Ÿ$n=1$æ—¶è¿˜å­˜åœ¨ä¹ˆï¼Ÿ æ•°ç»„å¤ç”¨æ—¶ï¼Œä¸€å®šå¾—æ˜¯â€œèµ‹å€¼â€ï¼Œæ‰ä¸ç”¨æ¸…é›¶ï¼Œå¦‚æœç›´æ¥ç”¨++äº†ï¼Œåˆ«å¿˜äº†æ¸…é›¶ã€‚ ç”¨å‰ç¼€å’Œæ—¶ï¼Œåƒä¸‡åˆ«å¿˜äº†è¿˜å¯ä»¥å–æ•´ä¸ªå‰ç¼€å³â€œ - arr[0]â€ å†™æœç´¢æ—¶ï¼Œä¸­é—´çš„å‰ªæç«‹å³å›æº¯å‰ä¹Ÿåˆ«å¿˜äº†è¿˜åŸç°åœºã€‚ å¼€é‚»æ¥çŸ©é˜µæ—¶ï¼Œæœ‰æ—¶ä¼šæœ‰é‡è¾¹ï¼Œæ³¨æ„åé¢è¦†ç›–å‰é¢çš„é—®é¢˜ æ— è®ºæ˜¯å€å¢è¿˜æ˜¯äºŒåˆ†ç­”æ¡ˆï¼Œå°½é‡è®©æŒ‡é’ˆä¿æŒåœ¨å®šä¹‰åŸŸå†…ï¼Œä¸è¦è®©å…¶è‡ªç„¶æº¢å‡ºã€‚ æˆ‘ä»¬å¸¸ç”¨çš„1-indexä¸‹æ ‡é‡ä¸Šæ¨¡å¾ªç¯èŠ‚çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ï¼Œå¤šä¸¾åä¾‹ ä¸€å®šè¦è€ƒè™‘è¾¹ç•ŒçŠ¶å†µ, $n = 1$æˆ–$m = 1$æ—¶ç®—æ³•æ˜¯å¦è¿˜èƒ½æˆç«‹ã€‚ æœ‰å¤šä¸ªä¸Šé™$n$, $m$, $t$ç­‰, å¾ªç¯æ—¶ä¸€å®šè¦åˆ†æ¸…ä¸Šé™æ˜¯å“ªä¸ª } ä¹ã€å¥‡å¼‚çš„è¯­è¨€ç»†èŠ‚@card{ 1234567// å½¢å‚ä¸­çš„è¡¨è¾¾å¼ä¸€å®šä¼šè¢«è®¡ç®—ï¼Œä½†æ˜¯C++æ ‡å‡†å¹¶æ²¡æœ‰è§„å®šå‚æ•°çš„æ±‚å€¼é¡ºåºvoid test(int x,int y)&#123; cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; endl;&#125;int x = 0;test(++x,x); // è¾“å‡º 1 1test(++x,x-1); // è¾“å‡º1 -1 } åã€Final Check@card{ ä¸ºäº†é˜²æ­¢æŸé¢˜æ­£è§£æŒ‚çš„è¿æš´åŠ›éƒ½ä¸å¦‚, æäº¤å‰å¿…é¡»æ£€æŸ¥ã€‚ å¯¹æ‹: å†™æ­£è§£çš„é¢˜å¿…é¡»æ‹, åŒ…æ‹¬T1, è™½ç„¶æš´åŠ›å¯èƒ½å†™æŒ‚, ä½†æ˜¯æ­£è§£ä¸æš´åŠ›æŒ‚çš„ä¸€æ¨¡ä¸€æ ·çš„æ¦‚ç‡æä½ æé™æ•°æ®: åœ¨æš´åŠ›çš„æ•°æ®èŒƒå›´æ‹å®Œå, å¿…é¡»é€ ä¸€ç»„æé™æ•°æ®æ£€æŸ¥æ˜¯å¦ä¼šTLE/RE/MLE æ•°æ®ç±»å‹æ£€æŸ¥: double, long longä¸int, å°¤å…¶æ˜¯ç»å¸¸è¢«å¿½ç•¥çš„å‡½æ•°è¿”å›å€¼ è¿ç®—æº¢å‡ºæ£€æŸ¥: æŸä¸ªåœ°æ–¹ä¼šä¸ä¼šæœ‰intä¹‹é—´çš„è¿ç®—, ç»“æœå´éœ€è¦longæˆ–double æ•°ç»„è¶Šç•Œæ£€æŸ¥: æ•°ç»„æ˜¯å¦å¼€çš„ä¸å¤Ÿå¤§ï¼Ÿ }","categories":[{"name":"ç»†èŠ‚","slug":"ç»†èŠ‚","permalink":"http://arintaro.com/categories/ç»†èŠ‚/"}],"tags":[{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://arintaro.com/tags/æ€»ç»“/"},{"name":"æ–¹æ³•è®º","slug":"æ–¹æ³•è®º","permalink":"http://arintaro.com/tags/æ–¹æ³•è®º/"}]},{"title":"OIä¸­çš„å¸¸è§è§£é¢˜æ€è·¯ä¸æŠ€å·§ï¼ˆæ›´æ–°ä¸­ï¼‰","slug":"Detail/OIä¸­çš„å¸¸è§è§£é¢˜æ€è·¯ä¸æŠ€å·§","date":"2019-04-27T09:01:25.509Z","updated":"2019-10-31T02:08:03.083Z","comments":true,"path":"2019/04/27/Detail/OIä¸­çš„å¸¸è§è§£é¢˜æ€è·¯ä¸æŠ€å·§/","link":"","permalink":"http://arintaro.com/2019/04/27/Detail/OIä¸­çš„å¸¸è§è§£é¢˜æ€è·¯ä¸æŠ€å·§/","excerpt":"ä¹Ÿè®¸å¾ˆæœ‰ç”¨ï¼Œä¹Ÿè®¸æ²¡ä»€ä¹ˆåµç”¨ã€‚","text":"ä¹Ÿè®¸å¾ˆæœ‰ç”¨ï¼Œä¹Ÿè®¸æ²¡ä»€ä¹ˆåµç”¨ã€‚ ä¸€ã€æœ€ä¼˜åŒ–é—®é¢˜@card{ äºŒåˆ†ç­”æ¡ˆï¼šç­”æ¡ˆå…·æœ‰â€œå•è°ƒæ€§â€ï¼Œå¤–å±‚èŠ±è´¹$log\\ ans$çš„æ—¶é—´è½¬åŒ–ä¸ºåˆ¤å®šæ€§é—®é¢˜ ç­”æ¡ˆå…·æœ‰â€œå•è°ƒæ€§â€ï¼šæ³¨æ„æ˜¯å…ˆ0å1å‡½æ•°ï¼Œè¿˜æ˜¯å…ˆ1å0å‡½æ•°ï¼Œå’ŒäºŒåˆ†çš„å®ç°å½¢å¼ï¼Œæ˜¯ä¸€ç›´ä¿æŒå°äºï¼Œè¿˜æ˜¯èƒ½ç´¯åŠ å°±ç´¯åŠ ï¼Ÿ ä¸€èˆ¬å®šä¹‰åˆ¤å®šæ˜¯â€œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªå°äºç­‰äºã€æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå¤§äºç­‰äºâ€ï¼Œè¿™ä¹ˆå®šä¹‰æ˜¯æ˜¾ç„¶æœ‰å•è°ƒæ€§çš„ äºŒåˆ†å‡ºçš„ç­”æ¡ˆå¯¹checkçš„è¿›è¡Œæœ‰æ‰€å¸®åŠ© åŠ¨æ€è§„åˆ’ï¼šä¸€å®šè¦æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ è´ªå¿ƒï¼šä¸€èˆ¬ä½œä¸ºæ­£è§£ä¸­çš„ä¸€ä¸ªæ­¥éª¤å‡ºç°ï¼Œç”¨äºå»æ‰æŸäº›é™åˆ¶æ¡ä»¶ã€‚ å¯ä»¥å°èŒƒå›´æœç´¢+å¤šé‡é™åˆ¶è´ªå¿ƒä¹±æï¼Œè¯´ä¸å®šå°±éª—åˆ°äº†100ptså‘¢ï¼Œè€ƒè¯•çš„æ—¶å€™è¦å‹‡äºä¹±æï¼Œæ•¢äºä¹±æ ä¸€èˆ¬ä¸€ä¸ªé”™è¯¯çš„è´ªå¿ƒï¼Œéƒ½èƒ½æç‚¼å‡ºä¸€äº›åœ¨æŸäº›é™åˆ¶æ¡ä»¶ä¸‹çš„æ­£ç¡®æ€§è´¨ã€‚ å‡ºé¢˜äººæ˜¯å‚»çš„ï¼Œæ•°æ®æ˜¯æ°´çš„ï¼Œè´ªå¿ƒ+æš´åŠ›æ˜¯èƒ½è¿‡çš„ï¼Œæ˜¯èƒ½$AC$çš„ã€‚ æ’åºã€é‚»é¡¹äº¤æ¢ï¼šæ³¨æ„ä¸¥æ ¼å¼±åº, æ²¡æœ‰å…³ç³»æ²¡æœ‰ä¼ é€’æ€§è‚¯å®šä¸è¡Œ, æ²¡æœ‰ä¸å¯æ¯”ä¼ é€’æ€§å¯ä»¥åŒå…³é”®å­—æ’åºã€‚æ€§è´¨è¯æ˜å¯ä»¥æšä¸¾è¯æ˜ã€‚ åæ‚”æ³•ï¼šå…ˆé€‰ä¸Šä¸€ç»„å¯è¡Œè§£, å†è¿­ä»£çš„åæ‚”é€‰å‡ºæœ€ä¼˜è§£ } äºŒã€è®¡æ•°æ¦‚ç‡æœŸæœ›é—®é¢˜@card{ æ€è·¯ ç»å¤§å¤šæ•°æ˜¯åŠ¨æ€è§„åˆ’, å°‘éƒ¨åˆ†æ˜¯çº¯æ•°å­¦æ¨å¼å­ è®¡æ•° æ„é€ åˆ’åˆ†åŸºç‚¹, ç¡®ç«‹æ— é‡åˆ†ç±» æ¦‚ç‡ è®¨è®ºæ‰€æœ‰æƒ…å†µ, åº”ç”¨å…¨æ¦‚ç‡å…¬å¼ä¸æ¡ä»¶æ¦‚ç‡ æœŸæœ› çŠ¶æ€è®¾è®¡ç»å¤§å¤šæ•°é‡‡ç”¨é€†æ¨, å³åœ¨DAGä¸Šè¯¥ç‚¹åˆ°ç»ˆç‚¹çš„æœŸæœ›ä»·å€¼ é€†æ¨è½¬ç§»å³ä¸ºæ¯ç§è½¬ç§»çš„æ¦‚ç‡ä¹˜(è½¬ç§»ä»£ä»·ä¸åç»­çš„æœŸæœ›ä»·å€¼), æ³¨æ„æ¦‚ç‡å’Œä¸€å®šè¦ä¸º1 è‹¥æœ‰å­˜åœ¨å¤šç§å†³ç­–å½±å“ä»·å€¼è®¡ç®—, æ±‚ä¸€ç§æœ€ä¼˜æœŸæœ›çš„å†³ç­–, çŠ¶æ€ä¸­è®°å½•å½±å“ä»·å€¼è®¡ç®—çš„å†³ç­–å³å¯, æ³¨æ„ä¸èƒ½è®°å½•â€æ¦‚ç‡æˆåŠŸâ€çš„å†³ç­–ç»“æœ ä¸€å®šè¦ç¡®å®šç»™å‡ºçš„æ¦‚ç‡æ˜¯â€é¡ºæ¨æ¦‚ç‡â€, è¿˜æ˜¯â€é€†æ¨æ¦‚ç‡â€ } ä¸‰ã€æ•°æ®ç»“æ„é¢˜@card{ æ€è·¯ å¹¶æŸ¥é›†ä¹Ÿå¯ä»¥ç”¨æ¥ç»´æŠ¤åºåˆ—, æœ‰ç€ä¼˜ç§€çš„å¸¸æ•°å’Œæ—¶é—´ã€‚ } å››ã€æ•°å­¦é¢˜@card{ æ±‚å’Œé¢˜ï¼šæ ¸å¿ƒæ€æƒ³ï¼š[äº¤æ¢æ±‚å’Œé¡ºåº] } äº”ã€å›¾è®ºé—®é¢˜@card{ } å…­ã€æœç´¢ä¼˜åŒ–ç­–ç•¥@card{ ä¼˜åŒ–æœç´¢é¡ºåº å³ä»â€œåç»­å˜åŒ–è¾ƒå°‘â€çš„çŠ¶æ€å¼€å§‹æœ æœå‰æ’åº æ’é™¤ç­‰æ•ˆäº¢ä½™ ç»™æœç´¢å›ºå®šä¸€ä¸ªé¡ºåºï¼Œä¾‹å¦‚äºŒå…ƒç»„(x, y)ä¸(y, x)ä¸è¦åå¤æœ ä¾‹å¦‚å¾€ç›’å­é‡Œæ”¾ä¸œè¥¿ï¼Œä¸€ä¸ªä¸œè¥¿æ”¾åœ¨ä¸åŒçš„â€œç©ºç›’å­â€å³æ˜¯ç­‰æ•ˆçš„ è´ªå¿ƒ è€ƒè™‘åœ¨ä¸€ä¸ªçŠ¶æ€ä¸‹åšäº†ä»€ä¹ˆå†³ç­–æ¯”å¦ä¸€äº›å†³ç­–æ›´ä¼˜ç§€ å¯è¡Œæ€§ã€æœ€ä¼˜æ€§å‰ªæ / ä¼°ä»·å‡½æ•° å³â€œæœ€ç†æƒ³çš„æ–¹æ³•â€éƒ½æ— æ³•æ»¡è¶³å¯è¡Œæˆ–å¯æ›´æ–°ç­”æ¡ˆ ä¼°ä»·å‡½æ•°å¿…é¡»æ¯”å®é™…è·¯å¾„éä¸¥æ ¼æ›´ä¼˜ æœ‰æ—¶å€™ä¸èŒƒå›´ç›¸å…³çš„å¯ä»¥é€šè¿‡ä¸ç­‰å¼æ”¾ç¼©æ¥å»æ‰ä¸€äº›çŠ¶æ€ åŒå‘æœç´¢ } ä¸ƒã€åŠ¨æ€è§„åˆ’ä¼˜åŒ–ç­–ç•¥@card{ è´¹ç”¨æå‰/å»¶åè®¡ç®— æ²¡æœ‰å…³äºæŸä¸ªç»´åº¦çš„é™åˆ¶æ¡ä»¶ï¼Œè¿™ä¸ªç»´åº¦çº¯ç²¹ç”¨æ¥è®¡ç®—è´¹ç”¨ï¼Œè€ƒè™‘æ˜¯å¦å¯ä»¥æå‰è®¡ç®— ç¯å½¢çš„å¤„ç† ä¸€æ¬¡æ–­å¼€ã€ä¸€æ¬¡å¼ºåˆ¶è¿æ¥ï¼Œä»¥è¦†ç›–æ‰€æœ‰æƒ…å†µ ç ´ç¯æˆé“¾ã€å€å¢ç¯é•¿ åæ•ˆæ€§çš„å¤„ç† æœ‰åˆ†é˜¶æ®µåæ•ˆæ€§ï¼Œé˜¶æ®µå†…éƒ¨æŒ‰ç¯å½¢å¤„ç† é«˜æ–¯æ¶ˆå…ƒï¼ˆæ„é€ å¤æ‚åº¦æ›´ä¼˜çš„æ¶ˆå…ƒæ–¹å¼ï¼‰ å¯¹æŸä¸ªå€¼åŸŸèŒƒå›´ç‰¹åˆ«å°çš„éƒ¨åˆ†è¿›è¡ŒçŠ¶å‹å‹ç¼©, éƒ¨åˆ†çŠ¶å‹è§£å†³æœ‰é™åæ•ˆæ€§ çŠ¶æ€å‹ç¼©çš„ä¼˜åŒ– é¢„å¤„ç†åˆæ³•çŠ¶æ€å’Œæ¯ä¸ªçŠ¶æ€åˆæ³•çš„å‰ç½®çŠ¶æ€ çŸ©é˜µå¿«é€Ÿå¹‚ é€’æ¨è½®æ•°å¾ˆé•¿ï¼Œæ–¹ç¨‹ä¸å˜ å¿«é€Ÿå¹‚ä¸å€å¢ $dp[x]$ä¸$dp[y]$ èƒ½æ¨å‡º $dp[x + y]$ å°±å¯åº”ç”¨å€å¢æˆ–è€…å¿«é€Ÿå¹‚ DAGä¸Šçš„å¤šæ¬¡è¯¢é—®é—®é¢˜ç»å¸¸éœ€è¦å€å¢ï¼Œâ€œé¢„å¤„ç†ä¸æ‹¼å‡‘â€ åˆ†ç¦»æ— å…³å˜é‡ è®©æ¯ä¸ªå†³ç­–$j$çš„ä»·å€¼åªä¸$j$æœ‰å…³ï¼Œåœ¨$i$å¢å¤§æ—¶ï¼Œæ¯ä¸ªå†³ç­–çš„ä»·å€¼ä¸å˜ï¼Œè¿™æ ·å°±å®¹æ˜“ç»´æŠ¤æœ€ä¼˜å†³ç­– åˆ†æ®µè½¬ç§»æ—¶ï¼Œæ–¹ç¨‹é‡Œå°½é‡åˆ«å†™â€œæ®µçš„é•¿åº¦â€ï¼Œè€Œæ˜¯å†™æˆ$i-j$ï¼Œå³å½“å‰ä¸å†³ç­–ç‚¹çš„è·ç¦» ç¡®å®šè®¡ç®—é¡ºåº DPçš„æ ¸å¿ƒæ˜¯åˆ†é˜¶æ®µï¼Œé«˜åº¦æœ‰åºçš„è®¡ç®—ï¼Œä¸€èˆ¬å¯ä»¥åˆ©ç”¨è´ªå¿ƒå…ˆç¡®å®šè®¡ç®—é¡ºåºï¼Œä»¥æ­¤åº”ç”¨DP å†³ç­–å•è°ƒæ€§ ä¸€ç»´çŠ¶æ€ä¸‹å°½é‡æ‰“è¡¨ï¼Œä¸è€ƒè™‘è¯æ˜ï¼Œå…·ä½“å¯ç”¨ä¸€ä¸ªé˜Ÿåˆ—ç»´æŠ¤æœ€ä¼˜å†³ç­–ï¼Œæ¯æ¬¡çŠ¶æ€æ›´æ–°åäºŒåˆ†åœ°å»æ›´æ–°åé¢çš„æœ€ä¼˜å†³ç­– äºŒç»´åŒºé—´DPçš„å†³ç­–å•è°ƒæ€§ $P[i, j-1] &lt;= P[i, j] &lt;= P[i+1ï¼Œj]$ ç¡®å®šåˆ’åˆ†åŸºç‚¹ï¼Œæ„é€ æ— é‡åˆ†ç±» } ä¸ƒã€å¸¸è§æœ‰ç”¨æ€æƒ³ä¸æŠ€å·§ã€æ€§è´¨@card{ æ­£éš¾åˆ™åï¼šå¹¿æ³›åº”ç”¨äºå„ç§é—®é¢˜ ç­”æ¡ˆä¸å®¹æ˜“æ±‚ã€ä¸å®¹æ˜“åˆ’åˆ†ï¼Œåˆ©ç”¨å…¨é›†å‡å»è¡¥é›†ä»è€Œæ±‚å‡ºç­”æ¡ˆ å­—å…¸åºæœ€å°çš„æ–¹æ¡ˆï¼šç»“åˆæ€§è´¨7ï¼Œå€’åºå¤„ç† å¯¹æŸä¸ªç‚¹å…³äºå…¶ä»–ç‚¹çš„è®¡ç®—é—®é¢˜ï¼Œå¯ä»¥è½¬åŒ–ä¸ºå…¶ä½™ç‚¹å¯¹å®ƒçš„è´¡çŒ® å•è°ƒæ€§ï¼ˆä¸€é˜¶å¯¼æ•°ï¼‰ï¼šä¸ä¸€å®šæ˜¯å¸¸è§„æ„ä¹‰ä¸Šçš„â€œå‡½æ•°â€ï¼Œä¹Ÿå¯èƒ½æ˜¯è‡ªå·±å®ç°çš„å¤æ‚å‡½æ•° å‡¹å‡¸æ€§ï¼ˆäºŒé˜¶å¯¼æ•°ï¼‰ï¼šå‡¸å£³ä¼˜åŒ– å¯¹ç§°æ€§ï¼šä¼˜åŒ–æšä¸¾é¡ºåºã€å‡å°‘è®¡ç®—é‡ ç­‰æ•ˆè½¬æ¢ï¼šå¸¸è§äºéœ€è¦è®¡ç®—ä¸€äº›å¥‡æ€ªçš„ä¸œè¥¿ï¼Œæ‰¾å‡ºæ€§è´¨è½¬åŒ–æˆåˆ«çš„é—®é¢˜ã€‚ é€’å½’å¤„ç†ï¼šåŸé—®é¢˜å¯ä»¥åˆ’åˆ†ä¸ºå‡ ä¸ªç›¸åŒçš„å­é—®é¢˜ â€œä¸€å®šçš„å°äºâ€ï¼šæ„ä¸ºåœ¨æœ‰æ‰€æœ‰çŠ¶æ€ä¸­ï¼Œåœ¨å½“å‰æ­¥éª¤é€‰æ‹©äº†æŸä¸ªå†³ç­–ï¼Œä¼šå¯¼è‡´ä¸€äº›å†³ç­–ä¸€å®šå°äº ä¾‹å¦‚å¹³è¡¡æ ‘æ‰¾kthï¼Œå¦‚æœåœ¨æŸä¸ªèŠ‚ç‚¹ä¸Šå‘å³èµ°ï¼Œé‚£ä¹ˆå·¦å­æ ‘çš„èŠ‚ç‚¹ä¸€å®šå°äº è¯•å¡«æ³•ã€å­—å…¸åº æ ‘ä¸Šã€åºåˆ—ä¸Šçš„å·®åˆ†ä¸å‰ç¼€å’Œ æŸäº›è®¡æ•°é—®é¢˜å¯ä»¥è½¬åŒ–ä¸º F(x)ä¸ºè‡³å°‘æ»¡è¶³xçš„æœ‰å¤šå°‘ä¸ªï¼Œåˆ™æ»¡è¶³Xçš„ç­”æ¡ˆä¸ºF(x) - F(x+1). ä¸å¯¹åŸæ•°æ®å¤„ç†ï¼Œè€Œæ˜¯â€œå¯¹è¯¢é—®â€ ç¡®å®šè®¡ç®—é¡ºåº åœ¨æŸäº›â€œæ¯ä¸ªç‚¹éƒ½éœ€è¦æ»¡è¶³xxæ¡ä»¶â€æ—¶ï¼Œå¦‚æœç¡®å®šäº†ä¸€ç§â€œå¦‚æœè¿™ä¸ªæ¡ä»¶ç°åœ¨ä¸æ»¡è¶³ï¼Œä»¥åéƒ½æ»¡è¶³ä¸äº†â€çš„è®¡ç®—é¡ºåºï¼Œå°±å¯ä»¥è´ªå¿ƒçš„è€ƒè™‘äº† ç¦»æ•£åŒ– ä¸å…³å¿ƒé›†åˆä¸­çš„æ•°çš„å…·ä½“å¤§å°ï¼Œåªå…³å¿ƒå…¶ç›¸å¯¹å¤§å°ï¼Œæ˜ å°„æˆ1-sizeçš„æ•´æ•° åœ¨è®¡æ•°é—®é¢˜ä¸­ä½œä¸ºç­‰æ•ˆæ€§çš„ä¸€ç§åº”ç”¨ å…ˆè€ƒè™‘å»æ‰é™åˆ¶æ¡ä»¶ã€ç¼©å°æ•°æ®èŒƒå›´çš„æƒ…å†µ ä¹‹åå†é€æ­¥æ‰©å¤§ï¼Œå¦‚DPå…ˆè€ƒè™‘æ²¡æœ‰é™åˆ¶æ¡ä»¶çš„æƒ…å†µï¼Œå†é€šè¿‡è½¬ç§»èŒƒå›´çº¦æŸ è€ƒè™‘é€€åŒ–æƒ…å†µï¼Œæ ‘è½¬åŒ–æˆå›¾ â€œè¦æ˜¯è¿™æ ·å°±å¥½äº†â€ =&gt; â€œæ€ä¹ˆæ ·èƒ½å˜æˆè¿™æ ·â€ ç”¨é€‚å½“çš„æšä¸¾ä¸è®¡ç®—é¡ºåºè¦†ç›–æ‰€æœ‰æƒ…å†µ æœ‰æ—¶å€™ä¼šæœ‰é”™è¯¯çš„è½¬ç§»æ›´æ–°ç­”æ¡ˆ, ä½†è‚¯å®šæ²¡æœ‰ç­”æ¡ˆä¼˜ç§€, æ‰€ä»¥ä¸å½±å“ç»“æœ è°ƒæ•´æ³• å…ˆæ±‚å‡ºä¸€ç»„å¯è¡Œè§£, åœ¨é€æ­¥è°ƒæ•´è‡³æœ€ä¼˜è§£ åˆ’åˆ†å†³ç­–é›†åˆ, åŠæ—¶æ’é™¤ä¸å¯èƒ½çš„å†³ç­– å…¨éƒ¨å†³ç­–é›†åˆä¸å®¹æ˜“ç»´æŠ¤, è€ƒè™‘æŒ‰æŸç§æ€§è´¨åˆ’åˆ†æˆå¤šä¸ªé›†åˆ, é›†åˆå†…éƒ¨æ»¡è¶³å•è°ƒæ€§ç­‰ä¼˜ç§€æ€§è´¨ ä»·å€¼è½¬åŒ– ç›´æ¥ä»é¢˜é¢æè¿°çš„ä»·å€¼è®¡ç®—æ–¹å¼ä¸å®¹æ˜“è®¡ç®—ï¼Œè€ƒè™‘å¯¹æ¯ä¸ªå•å…ƒè®¡ç®—è´¡çŒ®ã€‚ }","categories":[{"name":"ç»†èŠ‚","slug":"ç»†èŠ‚","permalink":"http://arintaro.com/categories/ç»†èŠ‚/"}],"tags":[{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://arintaro.com/tags/æ€»ç»“/"},{"name":"æ–¹æ³•è®º","slug":"æ–¹æ³•è®º","permalink":"http://arintaro.com/tags/æ–¹æ³•è®º/"}]},{"title":"NOIP2018 D1T3 èµ›é“ä¿®å»º","slug":"Contest/NOIP 2018/road","date":"2019-04-27T09:01:25.456Z","updated":"2019-10-30T08:27:45.697Z","comments":true,"path":"2019/04/27/Contest/NOIP 2018/road/","link":"","permalink":"http://arintaro.com/2019/04/27/Contest/NOIP 2018/road/","excerpt":"ç¥­å¥ æˆ‘è€ƒåœºå†™æŒ‚çš„55pts, é‚£æ—¶æˆ‘çœŸæ˜¯ä¸ªruozhiã€‚","text":"ç¥­å¥ æˆ‘è€ƒåœºå†™æŒ‚çš„55pts, é‚£æ—¶æˆ‘çœŸæ˜¯ä¸ªruozhiã€‚ Description:@card{ ç»™å®šä¸€æ£µå¸¦æƒæ ‘ï¼Œè¦æ±‚ä»æ ‘ä¸Šåˆ’åˆ†å‡º$m$æ¡ä¸ç›¸äº¤çš„è·¯å¾„ï¼Œä»¤â€œé•¿åº¦æœ€å°çš„è·¯å¾„çš„é•¿åº¦â€æœ€å¤§ï¼Œæ•°æ®èŒƒå›´åœ¨$5 \\times 10^4$çº§åˆ«ï¼ˆå®é™…ä¸Šå¯ä»¥å‡ºåˆ°$5\\times10^5$å·¦å³ï¼Œè¾¹æƒå†ç¼©å°ç‚¹ç”šè‡³èƒ½æ›´å¤§ï¼Œå¡$sort$?(é›¾ } Solution:@card{ åˆ†æä¸€ä¸‹å‡ºé¢˜æ–¹å‘ï¼Œè¿™ä¸ªæè¿°æ­£è§£åŸºæœ¬æ˜¯äºŒåˆ†ç­”æ¡ˆæ²¡è·‘äº†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªä¸é”™çš„$idea$ï¼Œä½†æ˜¯éš¾åº¦è¿˜ä¸å¤Ÿ/å¡ä¸æ‰ä¹±æï¼Œéœ€è¦å¾€å¤–é¢å¥—ä¸ªå£³ï¼Œæœ€å®¹æ˜“å¥—ä¹Ÿæœ€å¥½æƒ³çš„å°±æ˜¯åŠ ä¸ªâ€æœ€å°å€¼æœ€å¤§ã€æœ€å¤§å€¼æœ€å°â€çš„æè¿°ï¼Œå¤–å±‚å°±å¥—ä¸Šäº†ä¸ªäºŒåˆ†ç­”æ¡ˆçš„å£³ï¼Œæ‰€ä»¥æˆ‘ä»¬è‚¯å®šæ˜¯ä¼˜å…ˆè€ƒè™‘äºŒåˆ†ç­”æ¡ˆçš„ã€‚æ—¢ç„¶ç¡®å®šäº†ç®—æ³•æ˜¯äºŒåˆ†ç­”æ¡ˆï¼Œæ¯æ¬¡åˆ¤æ–­èƒ½å¦æœ‰$m$æ¡è·¯å¾„ï¼Œé•¿åº¦è‡³å°‘æœ‰$mid$ï¼Œé‚£ä¹ˆäºŒåˆ†çš„å‡ºçš„ç­”æ¡ˆâ€è·¯å¾„çš„æœ€å°é•¿åº¦â€å¿…ç„¶å¯¹$check$æœ‰æ‰€å¸®åŠ©ã€‚ å‘ç°ä¸å®¹æ˜“$check$ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶ä¸çŸ¥é“â€œä»å“ªé‡Œåˆ’åˆ†è·¯å¾„â€ï¼Œå¦‚æœè¿™ä¸€æ­¥åˆ’åˆ†å‡ºäº†ä¸€æ¡è¾¹ï¼Œå¯èƒ½è¾ƒå¤§å½±å“åé¢çš„è®¡ç®—ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»ç¡®å®šä¸€ä¸ªè®¡ç®—é¡ºåºï¼Œè®©æˆ‘ä»¬å¯ä»¥å®¹æ˜“çš„åˆ’åˆ†è·¯å¾„ã€‚æŒ‰ç…§å¥—è·¯ï¼Œæ€è€ƒåˆ°è¿™é‡Œï¼Œè‚¯å®šéœ€è¦æœ‰ä¸€ä¸ªæ€§è´¨å¸®åŠ©æˆ‘ä»¬ç¡®å®šè®¡ç®—é¡ºåºï¼Œä¹Ÿå°±æ˜¯â€œä»å“ªé‡Œä¸‹æ‰‹â€ã€‚ èƒ½å¤Ÿç¡®å®šè®¡ç®—é¡ºåºçš„æ€§è´¨ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯è´ªå¿ƒï¼Œå°±åƒâ€œç–«æƒ…æ§åˆ¶â€ä¸€æ ·ã€‚è€ƒè™‘æ€§è´¨1ï¼šæ¯æ¡è·¯å¾„å¯¹ç­”æ¡ˆçš„è´¡çŒ®å…¶å®æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯$1$ï¼Œæˆ‘ä»¬ä¹‹å‰åšè¿‡ä¸å°‘ä¾é â€œå¯¹ç­”æ¡ˆè´¡çŒ®ç›¸åŒâ€çš„è´ªå¿ƒï¼Œéƒ½æ˜¯æ’åºä»¥åè€ƒè™‘æ€ä¹ˆé€‰å¯¹ååºå½±å“æœ€å¥½ï¼Œç„¶åèƒ½é€‰å°±é€‰ï¼Œä»æ­¤ç¡®å®šè®¡ç®—é¡ºåºã€‚éå¸¸åƒè¿™é‡Œçš„æ¨¡å‹ï¼Œè€ƒè™‘æ€ä¹ˆâ€œæ’åºâ€ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹å¾€ä¸‹èƒ½æ„æˆä¸€æ¡é•¿åº¦å¤§äºç­‰äº$mid$çš„è·¯å¾„ï¼Œé‚£å°±ç›´æ¥é€‰ä¸Šè¿™æ¡è·¯å¾„ï¼Œå› ä¸ºè¿™æ¡è·¯å¾„å¯¹ç­”æ¡ˆçš„è´¡çŒ®è‡³å¤šæ˜¯$1$ï¼Œå³ä½¿æŠŠå®ƒç•™ç»™çˆ¶èŠ‚ç‚¹ç”¨ï¼Œç­”æ¡ˆä¹Ÿè‚¯å®šä¸ä¼šæ›´ä¼˜ï¼ŒåŠ ä¹‹æ€§è´¨2ï¼šçˆ¶èŠ‚ç‚¹åªèƒ½æœ‰ä¸€æ¡è·¯å¾„åˆ°å½“å‰èŠ‚ç‚¹ï¼Œç­”æ¡ˆåè€Œè¿˜å¯èƒ½å˜å¾—æ›´åï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ç±»ä¼¼ç‚¹åˆ†æ²»çš„å¥—è·¯ä»ä¸‹åˆ°ä¸Šï¼Œæ¯æ¬¡è€ƒè™‘ç»è¿‡å½“å‰èŠ‚ç‚¹çš„è·¯å¾„ï¼Œèƒ½é…å¯¹å°±é…å¯¹ï¼Œæ³¨æ„è¿™é‡Œåœ¨ä¿è¯é…å¯¹æ•°æœ€å¤§çš„åŒæ—¶ï¼Œè¿˜è¦ä¿è¯å‰©ä¸‹çš„æ·±åº¦æœ€å¤§ï¼Œä»è€Œä¸Šä¼ ç»™çˆ¶èŠ‚ç‚¹ã€‚ è‡³æ­¤ï¼Œæˆ‘ä»¬äºŒåˆ†å‡ºçš„ç­”æ¡ˆä¹Ÿæœ‰äº†ç”¨æ­¦ä¹‹åœ°ï¼Œå‘ç°çš„æ€§è´¨ä¹Ÿå¾ˆç®€æ´ï¼Œåœ¨è€ƒåœºä¸ŠåŸºæœ¬å¯ä»¥ç¡®å®šè¿™å°±æ˜¯æ­£è§£æƒ³æ³•äº†ã€‚ï¼ˆæ‚¨å“ªæ¥çš„è‡ªä¿¡ï¼Ÿç„¶è€Œåˆ°è¿™é‡Œï¼Œæ‰æ˜¯æœ¬æ–‡çš„æ­£é¢˜ï¼Œä¸Šé¢éƒ½æ˜¯åºŸè¯ï¼Œæ²¡äººä¸ä¼šçš„ï¼Œå…·ä½“è¯¥æ€ä¹ˆå®ç°å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æŠŠä¸Šé¢çš„é—®é¢˜æŠ½è±¡ä¸€ä¸‹ï¼š ç»™å®šä¸€ä¸ªæ•°åˆ—å’Œä¸€ä¸ªæ•°$mid$ï¼Œè¦æ±‚ä»æ•°åˆ—ä¸­é€‰å‡ºæœ€å¤šå¯¹æ•°ï¼Œå’Œå¤§äºç­‰äº$mid$ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šä¿è¯å‰©ä¸‹çš„æ•°ä¸­çš„â€œæœ€å¤§å€¼â€æœ€å¤§ã€‚ è¿™é‡Œç½‘ä¸Šé€šå¸¸æœ‰ä¸‰ç§å®ç°å½¢å¼ï¼Œæˆ‘ä»å¤æ‚åˆ°ç®€æ´è®²ï¼š ç®—æ³•1ï¼šè´ªå¿ƒ+å¹³è¡¡æ ‘/åŒå‘é“¾è¡¨ã€åˆ é™¤æ ‡è®°é¦–å…ˆï¼Œæˆ‘ä»¬æ˜¾ç„¶æœ‰æ€§è´¨1ï¼šåº”è¯¥ä¼˜å…ˆé…å¯¹è¾ƒå°çš„æ·±åº¦ã€‚ å¦‚æœæ‚¨è§‰å¾—å¹¶ä¸æ˜¾ç„¶ï¼Œè¿™æ˜¯è¯æ˜ï¼šç”±äºæˆ‘ä»¬è€ƒè™‘äº†æ¯ä¸ªæ·±åº¦èƒ½å¦é…å¯¹ï¼Œè¿™è‚¯å®šä¿è¯äº†å¯¹æ•°æœ€å¤šã€‚ä»¥æˆ‘ä»¬åªè¦è¯æ˜å¯ä»¥ä¿è¯å‰©ä¸‹çš„æœ€å¤§å€¼æœ€å¤§å³å¯ã€‚ä¸å¦¨è€ƒè™‘å½“å‰è¿˜æ²¡è¢«åˆ èƒ½é…å¯¹æœ€å°çš„æ•°ï¼Œå®ƒæ˜¾ç„¶å¯ä»¥ä¸å½“å‰è¿˜æ²¡è¢«åˆ æœ€å¤§çš„æ•°é…å¯¹ï¼Œå¦‚æœå­˜åœ¨ä¸€ç§æ–¹æ¡ˆï¼Œä¸é…å¯¹å®ƒï¼Œä¸”å¯¹æ•°ç›¸åŒï¼Œæœ€å¤§å€¼æ›´å¤§ï¼šå¦‚æœè¿™ç§æ–¹æ¡ˆé…å¯¹äº†å½“å‰æœ€å¤§å€¼ï¼Œæˆ‘ä»¬æ˜¾ç„¶å¯ä»¥æŠŠå½“å‰æœ€å¤§å€¼é…å¯¹çš„æ•°æ¢æˆå½“å‰æœ€å°çš„ï¼Œä»è€Œä¸æ”¹å˜æœ€å¤§å€¼ï¼›å¦‚æœè¿™ç§æ–¹æ¡ˆæ²¡é…å¯¹å½“å‰æœ€å¤§å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠæœ€å°å€¼å’Œæœ€å¤§å€¼ä¸€é…ä¼šå¢å¤šä¸€ä¸ªå¯¹æ•°ï¼Œä¸å‡è®¾çŸ›ç›¾ï¼Œæ•…è¿™æ ·çš„æ–¹æ¡ˆä¸å­˜åœ¨ï¼Œæˆ‘ä»¬åº”è¯¥ä¼˜å…ˆé…è¾ƒå°çš„ã€‚å®é™…ä¸Šï¼Œæˆ‘è§‰å¾—è¿™ç§æ˜¾ç„¶æ€§è´¨çš„è¯æ˜å¤§å¤šéƒ½æ˜¯åè¯ä¸€æ­¥å°±å‡ºæ¥äº†ï¼Œå†ä¸è¡Œå¸¦ä¸ªè®¨è®ºï¼Œæ¯”è¾ƒåºŸè¯ã€‚ ç„¶åï¼Œæˆ‘ä»¬æœ‰æ€§è´¨2ï¼šæœ€ä¼˜æ–¹æ¡ˆä¸­ï¼Œæ¯ä¸ªæœ€å°å€¼éƒ½åº”è¯¥ä¸èƒ½é…å¯¹çš„æœ€å°çš„æ•°é…å¯¹ï¼Œæ˜¾ç„¶ï¼Œä¸è¯äº†ã€‚åŸºäºè¿™ä¿©æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å®ç°ï¼Œå¤§æ¦‚å°±æ˜¯ä»å°åˆ°å¤§è€ƒè™‘æ¯ä¸ªæ·±åº¦$deep[i]$ï¼Œåœ¨å¹³è¡¡æ ‘é‡Œæ‰¾æœ€å°çš„ $deep[y]$æ»¡è¶³$deep[y] \\ge mid - deep[x]$å³å¯ï¼Œæ‰¾å®Œç›´æ¥åˆ äº†ï¼Œè¿™ç§æ–¹æ³•æœ€æ˜¾ç„¶ï¼Œå¤æ‚åº¦å’Œå¸¸æ•°éƒ½æœ€å·®ï¼Œåœ¨èŠèŠ±å›¾ä¸Šéå¸¸å®¹æ˜“Tæ‰ï¼Œå…·ä½“å®ç°æ—¶ï¼Œè¿˜è¦æ³¨æ„â€œæ²¡æ‰¾åˆ°â€ï¼Œâ€œæ‰¾åˆ°è‡ªå·±â€ï¼Œâ€œè¿­ä»£å™¨åˆ é™¤â€ç­‰ç»†èŠ‚ï¼ˆå¦‚æœæ²¡æœ‰$multiset$ï¼Œä»£ç é‡ä¹Ÿæ˜¯æœ€å¤§çš„ç„¶åè¿˜æœ‰å¤æ‚åº¦ä¸å¯¹çš„ä¹±æï¼Œæ¯”å¦‚ç”¨$vector$æš´åŠ›$erase$ï¼Œç”¨åŒå‘é“¾è¡¨æŒ‡é’ˆæ‰«æ¥æ‰«å»ï¼Œç”¨äºŒåˆ†+åˆ é™¤æ ‡è®°ï¼ŒäºŒåˆ†åˆ°è¢«åˆ é™¤çš„å°±æš´åŠ›å¾€åæ‰¾ï¼Œè¿™äº›éƒ½å®¹æ˜“é€€åŒ–åˆ°$O(n^2)$ï¼Œä¸è¯´äº†ã€‚ï¼ˆæœŸæœ›å¾—åˆ†ï¼š55åˆ†ï¼Œå®é™…å¾—åˆ†ï¼š100åˆ† ç®—æ³•2ï¼šåŒæŒ‡é’ˆ+æ ˆä¸€èˆ¬è¿™ç§å½¢å¼çš„æ•°åˆ—é—®é¢˜éƒ½èƒ½ç”¨æ’åº+åŒæŒ‡é’ˆè§£å†³ï¼Œæˆ‘ä»¬æ¥ç€è€ƒè™‘ï¼Œå¯ä»¥å…ˆæ’åºï¼Œç”±äºæ€§è´¨2ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸ªå·¦æŒ‡é’ˆï¼ŒæŠŠå³æŒ‡é’ˆä¸€ç›´å¾€å·¦æ‰«ï¼Œç›´åˆ°å³æŒ‡é’ˆæŒ‡çš„æ•°æ²¡æ³•é…å¯¹ä¸ºæ­¢ï¼Œä¸­é€”æŠŠå³æŒ‡é’ˆæ‰«åˆ°çš„æ•°éƒ½å…¥æ ˆï¼Œè¿™æ ·æ ˆé¡¶å°±æ˜¯èƒ½é…å¯¹çš„æœ€å°çš„æ•°ã€‚å½“ç„¶ï¼Œå¦‚æœæ ˆé‡Œæ²¡æœ‰æ•°å°±ä¸èƒ½é…å¯¹äº†ï¼Œå®ƒå°±æ˜¯â€œå‰©ä¸‹çš„æ•°â€ï¼Œè®°å¾—ç”¨å®ƒæ›´æ–°ä¸Šä¼ ç»™çˆ¶èŠ‚ç‚¹çš„æœ€å¤§æ·±åº¦ã€‚æœ€åå†æŠŠå·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€ä¸ªï¼Œç”±äºå·¦æŒ‡é’ˆæŒ‡çš„æ•°å˜å¤§äº†ï¼Œä»¥å‰èƒ½é…å¯¹çš„æ•°ç°åœ¨è¿˜éƒ½èƒ½é…å¯¹ï¼Œä¸å½±å“æ­£ç¡®æ€§ã€‚ç„¶åé…å¯¹å®Œæ ˆé‡Œçš„æ•°è‚¯å®šéƒ½èƒ½ä¸¤ä¸¤é…å¯¹ï¼Œå¦‚æœè¿˜å‰©å¥‡æ•°ä¸ªï¼Œæˆ‘ä»¬æ˜¾ç„¶è¿˜å¯ä»¥æŠŠå‰©ä¸‹æœ€å¤§çš„æ•°ä¸Šä¼ ç»™çˆ¶èŠ‚ç‚¹ï¼Œç­”æ¡ˆç´¯åŠ å³å¯ã€‚æˆ‘ä¸ªäººè®¤ä¸ºè¿™ç§ç®—æ³•æ˜¯æœ€ä¼˜ç§€çš„ï¼Œæ²¡ä»€ä¹ˆç»†èŠ‚ï¼Œç†è§£èµ·æ¥è¿˜ä¸å›°éš¾ã€‚ STDç®—æ³•ï¼šåŒæŒ‡é’ˆé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸ç”¨æ ˆï¼Œå¸¸æ•°æ›´åŠ ä¼˜ç§€ï¼ˆå¹¶æ²¡æœ‰ï¼Œæ›´åŠ ç®€æ´çš„ç®—æ³•å‘¢ï¼Ÿæœ‰ï¼Œå°±æ˜¯æœ¬é¢˜çš„std1ã€‚åŸºäºç®—æ³•2ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸ªå³æŒ‡é’ˆè€ƒè™‘èƒ½é…å¯¹çš„å·¦æŒ‡é’ˆï¼ŒæŠŠå·¦æŒ‡é’ˆä¸€ç›´å¾€å³ç§»ï¼Œç›´åˆ°èƒ½é…å¯¹ä¸ºæ­¢ï¼Œå¹¶ä¸”ä¸­é—´ç”¨é…å¯¹ä¸äº†çš„æ›´æ–°ä¸Šä¼ çš„æœ€å¤§å€¼ã€‚ç„¶è€Œè¿™æ ·ä¼šå¯¼è‡´ç•™ä¸‹çš„ä¸æ˜¯æœ€å¤§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¦å¤–ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆ$last$ï¼Œè¡¨ç¤ºæœ€å¤§ï¼ˆæœ€å³è¾¹ï¼‰çš„ä¸€ä¸ªå³æŒ‡é’ˆï¼Œå®ƒé…å¯¹çš„å·¦æŒ‡é’ˆå¯ä»¥å¾€å‰æ‰¾ä¸€ä¸ªæ›´å°çš„å³æŒ‡é’ˆè¿›è¡Œé…å¯¹ã€‚å¯¹ä¸€ä¸ªå³æŒ‡é’ˆ$j$ï¼Œé…å¯¹åˆ°äº†å·¦æŒ‡é’ˆ$i$ï¼Œå¦‚æœ$j-1$ä¸èƒ½ä¸$i$é…å¯¹ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å³æŒ‡é’ˆä¹Ÿæ˜¾ç„¶é…å¯¹ä¸äº†ï¼Œæ‰€ä»¥$i$å¿…é¡»å¾—ä¸$j$é…å¯¹ï¼Œè¿™æ—¶æˆ‘ä»¬æ›´æ–°$last = j - 1$å³å¯ï¼Œå¦‚æœæœ€åè€ƒè™‘ä¸€ä¸ªå³æŒ‡é’ˆ$j$çš„æ—¶å€™ï¼Œå·¦å³æŒ‡é’ˆç›¸æ’ï¼Œé‚£ä¹ˆå°±å‰©ä¸‹äº†ä¸€ä¸ªæ•°ï¼ˆå¯¹åº”ç®—æ³•2ä¸­çš„æ ˆé‡Œçš„æ•°è¿˜å‰©å¥‡æ•°ä¸ªï¼‰ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥æŠŠ$[j+1,last]$æˆåŠŸé…å¯¹çš„å³æŒ‡é’ˆå¹³ç§»åˆ°$[j,last-1]$ï¼Œç„¶åç”¨$last$å¯¹åº”çš„å€¼æ›´æ–°ä¸Šä¼ çš„æœ€å¤§å€¼ã€‚ç”±äºç½‘ä¸Š$blog$æ²¡æœ‰å¯¹è¿™ä¸ªç®—æ³•çš„è®²è§£ï¼Œ$std$é‡Œçš„å˜é‡åè¿˜éƒ½ä¸è¶…è¿‡ä¸¤ä¸ªå­—æ¯ï¼Œruozhiçš„æˆ‘çœ‹äº†ä¸¤èŠ‚è¯¾æ‰çœ‹æ‡‚$std$åœ¨å¹²ä»€ä¹ˆã€‚ã€‚ è¿™æ—¶æœ‰äººå°±è¦é—®äº†ï¼Œä¼˜åŒ–äº†ä¸€å¤§é¡¿ï¼Œæˆ‘ç®—æ³•1ä¹Ÿæ˜¯$O(nlogn log\\frac{\\sum{w_i}}{m})$çš„ï¼Œæ‚¨$std$ä¸è¿˜æ˜¯å¾—æ’åºï¼Œå¤æ‚åº¦éƒ½ä¸€æ ·å•Šã€‚ç„¶è€Œå¹¶ä¸æ˜¯ï¼Œ$std$é‡‡ç”¨äº†é«˜ç«¯çš„åŸºæ•°æ’åºï¼ŒæŠŠæ’åºå¤æ‚åº¦é™åˆ°äº†$O(n)$ï¼Œä»è€Œå®ç°äº†å¡sortçš„å¯èƒ½ã€‚è¿˜æœ‰ä¿©å‰ªæï¼ŒäºŒåˆ†ä¸Šç•Œå¯ä»¥è®¾åˆ°$min{\\frac{\\sum{w_i}}{m}}{d}$ï¼Œå…¶ä¸­$d$ä¸ºç›´å¾„é•¿åº¦ã€‚ç„¶åæ¯æ¬¡äºŒåˆ†ç­”æ¡ˆå¤§äºç­‰äº$m$äº†å°±ç«‹å³è¿”å›ã€‚ } Code:@card{ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')template&lt;typename tint&gt;extern inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 50000 + 10;const int maxm = 2 * maxn;const int rid = 8;int n, m;int root = 1, sumw = 0;int temp[maxn], rcnt[1&lt;&lt;rid], rmod = (1 &lt;&lt; rid) - 1;inline void rsort(int arr[], int n) &#123; if(n &lt; 256) &#123; sort(arr+1, arr+n+1); return; &#125; for(rint i=0; i&lt;=31; i+=rid) &#123; memset(rcnt, 0, sizeof(rcnt)); for(rint k=1; k&lt;=n; k++) rcnt[arr[k] &gt;&gt; i &amp; rmod]++; for(rint j=1; j&lt;=rmod; j++) rcnt[j] += rcnt[j-1]; for(rint k=n; k&gt;=1; k--) temp[rcnt[(arr[k] &gt;&gt; i &amp; rmod)]--] = arr[k]; memcpy(arr, temp, sizeof(int) * (n+1)); &#125;&#125;int head[maxn], ev[maxm], ew[maxm], nxt[maxm];int totedge = 0;inline void addedge(int nu, int nv, int nw) &#123; ev[++totedge] = nv, ew[totedge] = nw, nxt[totedge] = head[nu]; head[nu] = totedge; sumw += nw;&#125;int arr[maxn], dist[maxn];int dfs(int x, int fa, int mid) &#123; int res = 0, tot = 0; for(rint i=head[x]; i; i=nxt[i]) &#123; if(ev[i] == fa) continue; res += dfs(ev[i], x, mid); if(res &gt;= m) return res; &#125; for(rint i=head[x]; i; i=nxt[i]) &#123; if(ev[i] == fa) continue; if(dist[ev[i]] + ew[i] &gt;= mid) res++; else arr[++tot] = dist[ev[i]] + ew[i]; &#125; rsort(arr, tot), dist[x] = 0; for(rint i=1, j=tot, last=tot; i &lt;= j; i++, j--, res++) &#123; while(i &lt; j &amp;&amp; arr[i] + arr[j] &lt; mid) dist[x] = arr[i++]; if(i == j) &#123; dist[x] = arr[last]; break; &#125; if(j &amp;&amp; arr[i] + arr[j-1] &lt; mid) last = j-1; if(res &gt;= m) return res; &#125; return res;&#125;int maxd, dp[maxn];void dfs2(int x, int fa) &#123; for(rint i=head[x], y=ev[i]; i; i=nxt[i], y=ev[i]) &#123; if(y == fa) continue; dfs2(y, x), maxd = max(maxd, dp[x] + dp[y] + ew[i]); dp[x] = max(dp[x], dp[y] + ew[i]); &#125;&#125;int main() &#123; int nu, nv, nw; readint(n), readint(m); for(rint i=1; i&lt;n; i++) &#123; readint(nu), readint(nv), readint(nw); addedge(nu, nv, nw), addedge(nv, nu, nw); &#125; dfs2(root, root); int l = 1, r = min(maxd, sumw / m); while(l &lt; r) &#123; int mid = (l + r + 1) &gt;&gt; 1; if(dfs(root, root, mid) &gt;= m) l = mid; else r = mid - 1; &#125; printf(\"%d\\n\", l); return 0;&#125; } @card{ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273// multisetç‰ˆï¼Œåœ¨èŠèŠ±å›¾ä¸Šæ•ˆç‡å¾ˆä½ï¼Œä¸è¿‡å¼€äº†O2ä»¥åè·‘çš„é£å¿«#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#include &lt;set&gt;#define rint register int#define lint long long#define isnum(x) ('0' &lt;= (x) &amp;&amp; (x) &lt;= '9')#define sit multiset&lt;int&gt;::iteratortemplate&lt;typename tint&gt;extern inline void readint(tint&amp; x) &#123; int f = 1; char ch = getchar(); x = 0; for(; !isnum(ch); ch = getchar()) if(ch == '-') f = -1; for(; isnum(ch); ch = getchar()) x = x * 10 + ch - '0'; x *= f;&#125;using namespace std;const int maxn = 50000 + 10;const int maxm = 2 * maxn;int n, m;int root = 1;int sumw = 0, dist[maxn];int head[maxn], ev[maxm], ew[maxm], nxt[maxm];int totedge = 0;inline void addedge(int nu, int nv, int nw) &#123; ev[++totedge] = nv, ew[totedge] = nw, nxt[totedge] = head[nu]; head[nu] = totedge; sumw += nw;&#125;multiset&lt;int&gt; s;int dfs(int x, int fa, int mid) &#123; int res = 0; for(rint i=head[x]; i; i=nxt[i]) &#123; if(ev[i] == fa) continue; res += dfs(ev[i], x, mid); if(res &gt;= m) return res; &#125; dist[x] = 0, s.clear(); for(rint i=head[x]; i; i=nxt[i]) &#123; if(ev[i] == fa) continue; if(dist[ev[i]] + ew[i] &gt;= mid) res++; else s.insert(dist[ev[i]] + ew[i]); &#125; for(sit it=s.begin(); it!=s.end() &amp;&amp; s.size();) &#123; // nxtä¸€å®šåœ¨itåé¢ sit nxt = s.lower_bound(mid - (*it)); if(nxt == it &amp;&amp; nxt != s.end()) nxt++; if(nxt == s.end()) &#123; it++; continue; &#125; s.erase(nxt), s.erase(it++), res++; // æ³¨æ„å…ˆåˆ nxt, ä¸ç„¶it++å¯èƒ½ç­‰äºnxt if(res &gt;= m) return res; &#125; if(!s.empty()) dist[x] = *s.rbegin(); return res;&#125;int main() &#123; int nu, nv, nw; readint(n), readint(m); for(rint i=1; i&lt;n; i++) &#123; readint(nu), readint(nv), readint(nw); addedge(nu, nv, nw), addedge(nv, nu, nw); &#125; int l = 1, r = sumw / 2; while(l &lt; r) &#123; int mid = (l + r + 1) &gt;&gt; 1; if(dfs(root, root, mid) &gt;= m) l = mid; else r = mid - 1; &#125; printf(\"%d\\n\", l); return 0;&#125; }","categories":[{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://arintaro.com/categories/æ¯”èµ›/"},{"name":"NOIP2018","slug":"æ¯”èµ›/NOIP2018","permalink":"http://arintaro.com/categories/æ¯”èµ›/NOIP2018/"},{"name":"é¢˜è§£","slug":"æ¯”èµ›/NOIP2018/é¢˜è§£","permalink":"http://arintaro.com/categories/æ¯”èµ›/NOIP2018/é¢˜è§£/"}],"tags":[{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"http://arintaro.com/tags/å›¾è®º/"},{"name":"æ ‘ä¸Šé—®é¢˜","slug":"æ ‘ä¸Šé—®é¢˜","permalink":"http://arintaro.com/tags/æ ‘ä¸Šé—®é¢˜/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"http://arintaro.com/tags/è´ªå¿ƒ/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"http://arintaro.com/tags/åŒæŒ‡é’ˆ/"},{"name":"äºŒåˆ†ç­”æ¡ˆ","slug":"äºŒåˆ†ç­”æ¡ˆ","permalink":"http://arintaro.com/tags/äºŒåˆ†ç­”æ¡ˆ/"}]},{"title":"æ ‘çš„ç›¸å…³æ€§è´¨(æ›´æ–°ä¸­)","slug":"Algorithm/æ ‘çš„ç›¸å…³æ€§è´¨","date":"2019-04-27T09:01:25.373Z","updated":"2019-09-26T09:29:08.998Z","comments":true,"path":"2019/04/27/Algorithm/æ ‘çš„ç›¸å…³æ€§è´¨/","link":"","permalink":"http://arintaro.com/2019/04/27/Algorithm/æ ‘çš„ç›¸å…³æ€§è´¨/","excerpt":"æœ¬æ–‡æ€»ç»“äº†éè´Ÿæƒè¾¹æ ‘çš„ä¸€äº›ç®€å•æ€§è´¨ï¼Œå¤§æ¦‚ä¼šé•¿æœŸæ›´æ–°ï¼Œå¹¶ä¸”å¤§æ¦‚ç‡ä¸ä¼šæœ‰å›¾/ä»£ç ã€‚","text":"æœ¬æ–‡æ€»ç»“äº†éè´Ÿæƒè¾¹æ ‘çš„ä¸€äº›ç®€å•æ€§è´¨ï¼Œå¤§æ¦‚ä¼šé•¿æœŸæ›´æ–°ï¼Œå¹¶ä¸”å¤§æ¦‚ç‡ä¸ä¼šæœ‰å›¾/ä»£ç ã€‚ ä¸€ã€æ ‘çš„ç›´å¾„@card{ ï¼ˆä¸€ï¼‰æ±‚æ³•ï¼š ä¸¤æ¬¡DFSæ¯”è¾ƒå®¹æ˜“æ±‚å‡ºå…·ä½“è·¯å¾„ï¼Œç¼ºç‚¹æ˜¯å®ç°æ¯”æ ‘å½¢DPéº»çƒ¦ï¼Œå¹¶ä¸”è¦æ±‚æ ‘çš„è¾¹æƒéè´Ÿã€‚ æ ‘å½¢DPå®ç°ç®€å•ï¼Œä½†æ±‚å…·ä½“è·¯å¾„æ¯”è¾ƒéº»çƒ¦ï¼Œé€‚ç”¨äºåªéœ€è¦ç›´å¾„é•¿åº¦çš„æƒ…å†µï¼ˆå¦‚äºŒåˆ†ç­”æ¡ˆçš„ä¸Šç•Œå‰ªæç­‰ï¼‰ï¼Œå¯¹è¾¹æƒæ²¡æœ‰è¦æ±‚ã€‚ ï¼ˆäºŒï¼‰æ€§è´¨ï¼š åŸºæœ¬æ€æƒ³ï¼šåˆ†æé—®é¢˜æ—¶ï¼Œç»å¸¸ä¼šæŠŠç›´å¾„å±•å¼€æˆä¸€æ¡é“¾ï¼Œå…¶ä»–å­æ ‘åœ¨å…¶ä¸‹é¢ï¼Œå°±åƒåŸºç¯æ ‘æŠŠå”¯ä¸€çš„ç¯ä½œä¸ºå¹¿ä¹‰æ ¹èŠ‚ç‚¹ä¸€æ ·ï¼Œæœ¬æ–‡ä¸‹é¢æ‰€æçš„æ€§è´¨ï¼Œå¤§å¤šåŸºäºâ€œè¾¹æƒéè´Ÿâ€œè¿™ä¸€å‰ææ¡ä»¶ï¼Œåº”ç”¨æ—¶è¯·æ³¨æ„ã€‚ ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ä½œæ ¹ï¼Œç›´å¾„ä¸¤ç«¯ç‚¹ä¸€å®šæ˜¯å¶å­èŠ‚ç‚¹ã€‚ è·ç¦»ä»»æ„ç‚¹æœ€è¿œçš„ç‚¹ä¸€å®šæ˜¯ç›´å¾„çš„ä¸€ä¸ªç«¯ç‚¹ã€‚ï¼ˆç›¸å½“æœ‰ç”¨çš„æ€§è´¨ è®¾ä»Aå‡ºå‘æ‰¾åˆ°æœ€è¿œç‚¹B å¦‚æœAå·²ç»æ˜¯ç›´å¾„ä¸Šä¸€ä¸ªç«¯ç‚¹ï¼Œæ­£ç¡®æ€§æ˜¾ç„¶ã€‚ å¦‚æœä¸æ˜¯ï¼Œè€ƒè™‘åè¯ï¼Œè®¾ç›´å¾„ä¸ºCDã€‚ ç”±äºæ ‘å¿…ç„¶è”é€šï¼Œä¸€å®šå­˜åœ¨ä¸€æ¡è·¯å¾„èƒ½ä»ABä¸Šä¸€ç‚¹Eåˆ°è¾¾CDä¸Šä¸€ç‚¹Fï¼ˆå¯èƒ½Eã€Fæ˜¯åŒä¸€ä¸ªç‚¹ã€‚ åˆ™æœ‰$AE+ EB &gt; AE + EF + FDâ€‹$ï¼Œæ¨å‡º$EB &gt; EF + FDâ€‹$ï¼Œåˆ™æœ‰$CB = CF + FE + EB &gt; CF + FE + EF + FD &gt; CF + FD = CDâ€‹$ï¼Œï¼ˆæ³¨æ„ï¼Œè¿™é‡Œåˆ©ç”¨äº†æ”¾ç¼©æ¡ä»¶$FE + EF &gt; 0â€‹$ï¼‰ï¼Œä¸å‡è®¾çŸ›ç›¾ï¼Œæ•…å‡è®¾ä¸æˆç«‹ã€‚ æ ‘å¯èƒ½ä¼šæœ‰å¤šä¸ªç›´å¾„ï¼Œä½†æ˜¯ä¸€å®šä¼šæœ‰ä¸€æ¡è·¯å¾„ï¼ˆä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªç‚¹ï¼‰çš„å…¬å…±éƒ¨åˆ†(å¿…é¡»è¾¹ï¼Œä¸”é™¤è¿™éƒ¨åˆ†å¤–ï¼Œæ— å…¶ä»–å…¬å…±éƒ¨åˆ†)ï¼Œå¹¶ä¸”å…±ä¾§çš„ç›´å¾„ä¸€æ®µé•¿åº¦å¿…ç„¶ç›¸ç­‰ã€‚ æ˜¾ç„¶ï¼Œè‹¥å­˜åœ¨ä¸¤ç›´å¾„ä¸ç›¸äº¤ï¼Œæˆ‘ä»¬æŠŠå…¶è¿æ¥èµ·æ¥ä¼šå¾—åˆ°ä¸€æ¡æ›´é•¿çš„è·¯å¾„ã€‚ å¦‚æœå­˜åœ¨ä¸¤æ¡ä¸¤ä¾§é•¿åº¦ä¸ç­‰çš„ç›´å¾„ï¼Œç”±äºå®ƒä»¬æ€»é•¿ä¸€å®šç›¸ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸¤ä¾§åˆ†åˆ«æ‰¾åˆ°å®ƒä»¬åˆ†å‡ºæ¥è¾ƒé•¿çš„éƒ¨åˆ†ï¼Œä¸€æ¥åˆèƒ½å¾—åˆ°ä¸€æ¡æ›´é•¿çš„è·¯å¾„ã€‚ å¦‚æœé™¤è¿™éƒ¨åˆ†è¿˜æœ‰å…¬å…±éƒ¨åˆ†ï¼Œå°±ä¼šå½¢æˆä¸€ä¸ªç¯ã€‚ å¯¹äºä¸¤æ£µæ ‘ï¼Œç”¨ä¸€æ¡è¾¹è¿æ¥å®ƒä»¬ï¼Œæ–°çš„ç›´å¾„çš„ç«¯ç‚¹ä¸€å®šæ˜¯åŸä¸¤é¢—æ ‘ç›´å¾„çš„ç«¯ç‚¹ã€‚ å¦‚æœç›´å¾„è¿˜åœ¨ä¸€æ£µæ ‘ä¸­æ˜¾ç„¶ï¼Œä¸åœ¨çš„è¯åŸºäºæ€§è´¨2ï¼Œä¹Ÿç›¸å½“æ˜¾ç„¶ã€‚ å¾€ä¸€æ£µæ ‘é‡ŒåŠ ä¸€ä¸ªç‚¹ï¼Œç›´å¾„çš„ç«¯ç‚¹æœ€å¤šæ”¹å˜ä¸€ä¸ª å…ˆä¸è€ƒè™‘åŠ è¿›æ¥çš„è¾¹æƒï¼Œå› ä¸ºå¦ä¸€ç«¯æ— è®ºæ‰¾åˆ°ä»€ä¹ˆç‚¹ï¼Œéƒ½ä¼šç´¯åŠ è¿™ä¸ªè¾¹æƒï¼Œæ‰€ä»¥é—®é¢˜å³è½¬åŒ–ä¸ºï¼šåœ¨æ²¡åŠ ä¹‹å‰ï¼Œè·å®ƒçš„çˆ¶èŠ‚ç‚¹è·ç¦»æœ€è¿œçš„ç‚¹ï¼Œå†æ¬¡åº”ç”¨æ€§è´¨ä¸‰ï¼Œæ˜¾ç„¶æˆç«‹ã€‚ ï¼ˆä¸‰ï¼‰åœ¨å…·ä½“é¢˜ç›®ä¸‹çš„è¯æ˜ä¾‹å­ NOIP 2007 æ ‘ç½‘çš„æ ¸ ï¼ˆç”±äºæ²¡æœ‰å›¾ï¼Œè¿™éƒ¨åˆ†å¾ˆéš¾æ‡‚ï¼Œå»ºè®®ç”»å›¾ï¼Œç„¶è€ŒåŸé¢˜ä¸è¦æ±‚è¯æ˜è¿™äº›ä¸œè¥¿ åœ¨ä»»æ„ç›´å¾„ä¸Šæ±‚æœ€å°åå¿ƒè·éƒ½ç›¸ç­‰ è€ƒè™‘ä»»æ„ä¸¤æ¡ç›´å¾„ï¼Œç”±äºæ€§è´¨4ï¼Œä¸¤ä¾§é•¿åº¦éƒ½ç›¸ç­‰ï¼Œå…³äºç»™å®šé•¿åº¦$s$çš„é™åˆ¶æ¡ä»¶æ˜¾ç„¶æ˜¯ç­‰ä»·çš„ï¼Œæ¥ä¸‹æ¥åªéœ€è®¨è®ºä¸¤æ¡ç›´å¾„å› ä¸ºâ€œä½ç½®â€çš„ä¸åŒè€Œå¯¼è‡´çš„ç­”æ¡ˆä¼˜åŠ£å³å¯ã€‚ è€ƒè™‘ä¸¤æ¡æ±‚å‡ºæœ€å°åå¿ƒè·ä¸ç›¸ç­‰çš„ç›´å¾„ä¸­ç­”æ¡ˆæ›´åŠ£çš„é‚£ä¸€æ¡ï¼Œé‚£ä¹ˆåœ¨ç­”æ¡ˆæ›´ä¼˜çš„é‚£æ¡çš„â€œç§æœ‰éƒ¨åˆ†â€ä¸Šï¼ˆä¸åœ¨æ€§è´¨4æåˆ°çš„å…¬å…±éƒ¨åˆ†ä¸Šï¼‰ï¼Œä¸€å®šå­˜åœ¨ä¸€ä¸ªå¯¼è‡´è¿™æ¡ç­”æ¡ˆå˜åŠ£çš„å­æ ‘ï¼Œå³ç¦»è¿™æ¡æœ€ä¼˜çš„æ ¸æœ€è¿œçš„ç‚¹åœ¨è¿™ä¸ªå­æ ‘ä¸Šã€‚æ ¹æ®ç›´å¾„çš„æœ€é•¿æ€§ï¼Œåˆ°è¿™ä¸ªå­æ ‘ä¸Šæœ€è¿œç‚¹çš„è·ç¦»æ˜¯æ˜¾ç„¶æ²¡åˆ°æ›´ä¼˜çš„ç›´å¾„ç«¯ç‚¹é•¿çš„ï¼ŒçŸ›ç›¾ã€‚æ‰€ä»¥ä¸å­˜åœ¨ç­”æ¡ˆæ›´åŠ£çš„ï¼Œæ‰€ä»¥æœ€å°åå¿ƒè·éƒ½ç›¸ç­‰ã€‚ é€ƒå­¦çš„å°å­© é¢˜æ„ä¸ºæ ‘ä¸Šè¦æ±‚é€‰ä¸€ä¸ªèµ·å§‹ç‚¹ä¸ä¿©ç»ˆç‚¹ï¼Œè¦æ±‚æœ€å¤§åŒ–â€œèµ·å§‹ç‚¹åˆ°ä¸¤ç»ˆç‚¹è·ç¦»è¾ƒå°çš„+ä¸¤ç»ˆç‚¹çš„è·ç¦»â€ æ˜¾ç„¶æˆ‘ä»¬åº”è¯¥è®©ç›´å¾„ä½œä¸ºè¿™ä¸ªâ€œä¸¤ä¸ªç»ˆç‚¹çš„è·ç¦»â€ï¼ˆå¦‚æœä½ è§‰å¾—å¹¶ä¸æ˜¾ç„¶ï¼šå¯ä»¥è€ƒè™‘ä¸‰ä¸ªç‚¹$Aã€Bã€C$ï¼Œæœ‰ä¸‰æ¡è·¯å¾„$AB, BC, AC$ï¼Œå¯ä»¥å‘ç°ï¼Œå¦‚æœä»¤å…¶ä¸­æ¬¡é•¿æˆ–æœ€å°çš„ä½œä¸ºâ€œä¸¤ç»ˆç‚¹é—´çš„è·ç¦»â€œï¼Œéƒ½æ²¡æœ‰ä»¤æœ€é•¿çš„ä½œä¸ºä¼˜ï¼‰ ç„¶ååˆ†åˆ«ä»ç›´å¾„ä¸Šå„ä¸ªç‚¹å‡ºå‘æš´åŠ›æ‰¾èµ·ç‚¹å³å¯ã€‚ } äºŒã€æ ‘ä¸Šç‚¹é›†è·¯å¾„","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://arintaro.com/categories/ç®—æ³•/"},{"name":"å›¾è®º","slug":"ç®—æ³•/å›¾è®º","permalink":"http://arintaro.com/categories/ç®—æ³•/å›¾è®º/"}],"tags":[{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"http://arintaro.com/tags/æ€»ç»“/"},{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"http://arintaro.com/tags/å›¾è®º/"}]},{"title":"ä¼˜é›…çš„O(1)ä¸‹å–æ•´log2","slug":"Template/å°å·¥å…·/log2","date":"2019-04-27T09:01:25.331Z","updated":"2019-10-27T10:21:41.707Z","comments":true,"path":"2019/04/27/Template/å°å·¥å…·/log2/","link":"","permalink":"http://arintaro.com/2019/04/27/Template/å°å·¥å…·/log2/","excerpt":"è¿˜èƒ½ä¸èƒ½å†ç»™åŠ›ç‚¹å‘¢ï¼Ÿ","text":"è¿˜èƒ½ä¸èƒ½å†ç»™åŠ›ç‚¹å‘¢ï¼Ÿ 1.è½¬doubleæ³•@card{ doubleå‚¨å­˜æ•°çš„æ–¹å¼æ˜¯[0,51]å°¾æ•°ä½ï¼Œ52ä½åæ˜¯æŒ‡æ•°ä½ä¸ç¬¦å·ä½ï¼Œé‚£ä¸å¦¨ç›´æ¥å³ç§»52ä½æ‰¾åˆ°ç¬¦å·ä½ï¼Œç„¶åç”¨&amp;63å–å‡ºå³å¯ï¼Œç„¶è€Œç¼–è¯‘å™¨ä¸ä¼šè®©ä½ å³ç§»ä¸€ä¸ªdoubleï¼Œæ‰€ä»¥éœ€è¦(lint&amp;)ï¼Œå¼ºåˆ¶è®©ç¼–è¯‘å™¨æŠŠtå½“ä½œlintå¤„ç†ï¼Œå¤æ‚åº¦ä½ ä»ä»£ç ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œæ˜¯$O(1)$çš„ã€‚è¯·æ³¨æ„ï¼Œæœ€åæ˜¯å¦+1æœ‰æ—¶å€™æ ¹æ®ç¼–è¯‘å™¨çš„ä¸åŒä¼šæœ‰ä¸åŒçš„ç»“æœï¼Œæˆ‘åœ¨NOI Linuxä¸DevC++ä¸Šæµ‹è¯•å‡éœ€è¦+1ï¼Œè€ƒè¯•ç”¨å‰è¯·ç¨å¾®æµ‹è¯•ä¸€ä¸‹ã€‚ï¼ˆä¸€èˆ¬æ¥è¯´æ‰‹ç©2 7 8 9å³å¯ï¼‰ 123456#define lint long longinline lint mlog2(lint x)&#123; if(x == 1) return 0; double t = (double)x; return (lint)((lint&amp;)t &gt;&gt; 52 &amp; 63) + 1; // æ³¨æ„æœ€å‰é¢è¿˜è¦å†è½¬ä¸€æ¬¡long long&#125; Luogu STè¡¨ ä¼ ç»Ÿæ‰“è¡¨æ³• 1011ms https://www.luogu.org/recordnew/show/13493959Luogu STè¡¨ doubleæ³• 1009ms https://www.luogu.org/recordnew/show/18155615å®æµ‹åå‘ç°é€Ÿåº¦å·®å¼‚ä¸å¤§, å¼€äº†O2æ‰“è¡¨ä¼šå¿«ä¸€äº› } 2.æ‰“è¡¨æ³•@card{ æ˜¾ç„¶æˆ‘ä»¬å¯ä»¥å¯¹å€¼åŸŸå†…çš„æ‰€æœ‰æ•´æ•°æ‰“è¡¨ï¼Œä½†æ˜¯å¦‚æœæ•°æ®è¾ƒå¤§ï¼Œä¸”åªæŸ¥2çš„æŒ‡æ•°ï¼Œå¯ä»¥åˆ©ç”¨è¿™æ ·çš„ä¸€ä¸ªç»“è®º $$\\forall k \\in [0,35], 2^kmod\\ 37,\\ å–é[1,36]$$ } 3.doubleæ³•çš„å…·ä½“æµ‹è¯•@card{ $test\\ site:$https://www.luogu.org/problemnew/show/P3865 $task:$ å®ç°å‡½æ•°mlog2ï¼Œéœ€è¦$O(1)$è¿”å›$\\lfloor log_2{x} \\rfloorâ€‹$ 123456789101112131415161718192021222324252627282930313233343536373839404142434445// test site: https://www.luogu.org/problemnew/show/P3865// è¦æ±‚ï¼šå®ç°å‡½æ•°mlog2#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cmath&gt;#define readint(x) scanf(\"%d\",&amp;(x))#define rint register int#define lint long longusing namespace std;const int maxn = 1e5 + 10;int n, m, logn;int arr[maxn];inline lint mlog2(lint x) &#123; &#125;int rmq[20][maxn];inline void getrmq() &#123; for(rint i=1; i&lt;=n; i++) rmq[0][i] = arr[i]; for(rint d=1; d&lt;=logn; d++) &#123; int len = (1 &lt;&lt; d), half = (1 &lt;&lt; (d-1)); for(rint i=1; i+len-1&lt;=n; i++) &#123; rmq[d][i] = max(rmq[d-1][i], rmq[d-1][i+half]); &#125; &#125;&#125;inline int ask(int l, int r) &#123; int loglen = mlog2(r - l + 1); return max(rmq[loglen][l], rmq[loglen][r-(1&lt;&lt;loglen)+1]);&#125;int main() &#123; readint(n), readint(m); logn = ceil(log2(n)); for(rint i=1; i&lt;=n; i++) readint(arr[i]); getrmq(); int nl, nr; while(m--) &#123; readint(nl), readint(nr); printf(\"%d\\n\",ask(nl,nr)); &#125; return 0;&#125; }","categories":[{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"http://arintaro.com/categories/æ¨¡æ¿/"},{"name":"å·¥å…·","slug":"æ¨¡æ¿/å·¥å…·","permalink":"http://arintaro.com/categories/æ¨¡æ¿/å·¥å…·/"}],"tags":[{"name":"è¯­è¨€","slug":"è¯­è¨€","permalink":"http://arintaro.com/tags/è¯­è¨€/"},{"name":"å¥‡æ·«æŠ€å·§","slug":"å¥‡æ·«æŠ€å·§","permalink":"http://arintaro.com/tags/å¥‡æ·«æŠ€å·§/"}]}]}